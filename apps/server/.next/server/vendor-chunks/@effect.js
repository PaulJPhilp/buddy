"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@effect";
exports.ids = ["vendor-chunks/@effect"];
exports.modules = {

/***/ "(rsc)/../../node_modules/@effect/experimental/dist/esm/Reactivity.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@effect/experimental/dist/esm/Reactivity.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Reactivity: () => (/* binding */ Reactivity),\n/* harmony export */   layer: () => (/* binding */ layer),\n/* harmony export */   make: () => (/* binding */ make)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Exit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Exit */ \"(rsc)/../../node_modules/effect/dist/esm/Exit.js\");\n/* harmony import */ var effect_FiberHandle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/FiberHandle */ \"(rsc)/../../node_modules/effect/dist/esm/FiberHandle.js\");\n/* harmony import */ var effect_Hash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Hash */ \"(rsc)/../../node_modules/effect/dist/esm/Hash.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Mailbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Mailbox */ \"(rsc)/../../node_modules/effect/dist/esm/Mailbox.js\");\n/* harmony import */ var effect_Scope__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Scope */ \"(rsc)/../../node_modules/effect/dist/esm/Scope.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category tags\n */\nclass Reactivity extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/experimental/Reactivity\")() {}\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst make = /*#__PURE__*/effect_Effect__WEBPACK_IMPORTED_MODULE_1__.sync(() => {\n  const handlers = new Map();\n  const unsafeInvalidate = keys => {\n    if (Array.isArray(keys)) {\n      for (let i = 0; i < keys.length; i++) {\n        const set = handlers.get(stringOrHash(keys[i]));\n        if (set === undefined) continue;\n        for (const run of set) run();\n      }\n    } else {\n      const record = keys;\n      for (const key in record) {\n        const hashes = idHashes(key, record[key]);\n        for (let i = 0; i < hashes.length; i++) {\n          const set = handlers.get(hashes[i]);\n          if (set === undefined) continue;\n          for (const run of set) run();\n        }\n        const set = handlers.get(key);\n        if (set !== undefined) {\n          for (const run of set) run();\n        }\n      }\n    }\n  };\n  const invalidate = keys => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.sync(() => unsafeInvalidate(keys));\n  const mutation = (keys, effect) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.ensuring(effect, invalidate(keys));\n  const query = (keys, effect) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.gen(function* () {\n    const resolvedKeys = Array.isArray(keys) ? keys.map(stringOrHash) : recordHashes(keys);\n    const scope = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_1__.scope;\n    const results = yield* effect_Mailbox__WEBPACK_IMPORTED_MODULE_2__.make();\n    const runFork = yield* effect_FiberHandle__WEBPACK_IMPORTED_MODULE_3__.makeRuntime();\n    let running = false;\n    let pending = false;\n    const handleExit = exit => {\n      if (exit._tag === \"Failure\") {\n        results.unsafeDone(effect_Exit__WEBPACK_IMPORTED_MODULE_4__.failCause(exit.cause));\n      } else {\n        results.unsafeOffer(exit.value);\n      }\n      if (pending) {\n        pending = false;\n        runFork(effect).addObserver(handleExit);\n      } else {\n        running = false;\n      }\n    };\n    function run() {\n      if (running) {\n        pending = true;\n        return;\n      }\n      running = true;\n      runFork(effect).addObserver(handleExit);\n    }\n    yield* effect_Scope__WEBPACK_IMPORTED_MODULE_5__.addFinalizer(scope, effect_Effect__WEBPACK_IMPORTED_MODULE_1__.sync(() => {\n      for (let i = 0; i < resolvedKeys.length; i++) {\n        const set = handlers.get(resolvedKeys[i]);\n        set.delete(run);\n        if (set.size === 0) {\n          handlers.delete(resolvedKeys[i]);\n        }\n      }\n    }));\n    for (let i = 0; i < resolvedKeys.length; i++) {\n      let set = handlers.get(resolvedKeys[i]);\n      if (set === undefined) {\n        set = new Set();\n        handlers.set(resolvedKeys[i], set);\n      }\n      set.add(run);\n    }\n    run();\n    return results;\n  });\n  const stream = (tables, effect) => query(tables, effect).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(effect_Mailbox__WEBPACK_IMPORTED_MODULE_2__.toStream), effect_Stream__WEBPACK_IMPORTED_MODULE_6__.unwrapScoped);\n  return Reactivity.of({\n    mutation,\n    query,\n    stream,\n    unsafeInvalidate,\n    invalidate\n  });\n});\n/**\n * @since 1.0.0\n * @category layers\n */\nconst layer = /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_7__.scoped(Reactivity, make);\nfunction stringOrHash(u) {\n  return typeof u === \"string\" ? u : effect_Hash__WEBPACK_IMPORTED_MODULE_8__.hash(u);\n}\nconst idHashes = (keyHash, ids) => {\n  const hashes = new Array(ids.length);\n  for (let i = 0; i < ids.length; i++) {\n    hashes[i] = `${keyHash}:${stringOrHash(ids[i])}`;\n  }\n  return hashes;\n};\nconst recordHashes = record => {\n  const hashes = [];\n  for (const key in record) {\n    hashes.push(key);\n    for (const idHash of idHashes(key, record[key])) {\n      hashes.push(idHash);\n    }\n  }\n  return hashes;\n};\n//# sourceMappingURL=Reactivity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvZXhwZXJpbWVudGFsL2Rpc3QvZXNtL1JlYWN0aXZpdHkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQzBDO0FBQ0Y7QUFDSjtBQUNjO0FBQ2Q7QUFDRTtBQUNJO0FBQ0o7QUFDRTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQywrQ0FBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBCQUEwQiwrQ0FBVztBQUM1QztBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwrQ0FBVztBQUN4QyxxQ0FBcUMsbURBQWU7QUFDcEQsa0NBQWtDLDhDQUFVO0FBQzVDO0FBQ0EseUJBQXlCLGdEQUFZO0FBQ3JDLDJCQUEyQixnREFBWTtBQUN2QywyQkFBMkIsMkRBQXVCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtEQUFjO0FBQ3pDLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNEQUFrQixRQUFRLCtDQUFXO0FBQ2hELHNCQUFzQix5QkFBeUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9CQUFvQix5QkFBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGdFQUFnRSw4Q0FBVSxDQUFDLG9EQUFnQixHQUFHLHVEQUFtQjtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLGdEQUFZO0FBQzlDO0FBQ0EscUNBQXFDLDZDQUFTO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEMsbUJBQW1CLFFBQVEsR0FBRyxxQkFBcUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9leHBlcmltZW50YWwvZGlzdC9lc20vUmVhY3Rpdml0eS5qcz8zZTU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIEV4aXQgZnJvbSBcImVmZmVjdC9FeGl0XCI7XG5pbXBvcnQgKiBhcyBGaWJlckhhbmRsZSBmcm9tIFwiZWZmZWN0L0ZpYmVySGFuZGxlXCI7XG5pbXBvcnQgKiBhcyBIYXNoIGZyb20gXCJlZmZlY3QvSGFzaFwiO1xuaW1wb3J0ICogYXMgTGF5ZXIgZnJvbSBcImVmZmVjdC9MYXllclwiO1xuaW1wb3J0ICogYXMgTWFpbGJveCBmcm9tIFwiZWZmZWN0L01haWxib3hcIjtcbmltcG9ydCAqIGFzIFNjb3BlIGZyb20gXCJlZmZlY3QvU2NvcGVcIjtcbmltcG9ydCAqIGFzIFN0cmVhbSBmcm9tIFwiZWZmZWN0L1N0cmVhbVwiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0YWdzXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFjdGl2aXR5IGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9leHBlcmltZW50YWwvUmVhY3Rpdml0eVwiKSgpIHt9XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgbWFrZSA9IC8qI19fUFVSRV9fKi9FZmZlY3Quc3luYygoKSA9PiB7XG4gIGNvbnN0IGhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICBjb25zdCB1bnNhZmVJbnZhbGlkYXRlID0ga2V5cyA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5cykpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzZXQgPSBoYW5kbGVycy5nZXQoc3RyaW5nT3JIYXNoKGtleXNbaV0pKTtcbiAgICAgICAgaWYgKHNldCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgZm9yIChjb25zdCBydW4gb2Ygc2V0KSBydW4oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVjb3JkID0ga2V5cztcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlY29yZCkge1xuICAgICAgICBjb25zdCBoYXNoZXMgPSBpZEhhc2hlcyhrZXksIHJlY29yZFtrZXldKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoYXNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBzZXQgPSBoYW5kbGVycy5nZXQoaGFzaGVzW2ldKTtcbiAgICAgICAgICBpZiAoc2V0ID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgIGZvciAoY29uc3QgcnVuIG9mIHNldCkgcnVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2V0ID0gaGFuZGxlcnMuZ2V0KGtleSk7XG4gICAgICAgIGlmIChzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvciAoY29uc3QgcnVuIG9mIHNldCkgcnVuKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGludmFsaWRhdGUgPSBrZXlzID0+IEVmZmVjdC5zeW5jKCgpID0+IHVuc2FmZUludmFsaWRhdGUoa2V5cykpO1xuICBjb25zdCBtdXRhdGlvbiA9IChrZXlzLCBlZmZlY3QpID0+IEVmZmVjdC5lbnN1cmluZyhlZmZlY3QsIGludmFsaWRhdGUoa2V5cykpO1xuICBjb25zdCBxdWVyeSA9IChrZXlzLCBlZmZlY3QpID0+IEVmZmVjdC5nZW4oZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCByZXNvbHZlZEtleXMgPSBBcnJheS5pc0FycmF5KGtleXMpID8ga2V5cy5tYXAoc3RyaW5nT3JIYXNoKSA6IHJlY29yZEhhc2hlcyhrZXlzKTtcbiAgICBjb25zdCBzY29wZSA9IHlpZWxkKiBFZmZlY3Quc2NvcGU7XG4gICAgY29uc3QgcmVzdWx0cyA9IHlpZWxkKiBNYWlsYm94Lm1ha2UoKTtcbiAgICBjb25zdCBydW5Gb3JrID0geWllbGQqIEZpYmVySGFuZGxlLm1ha2VSdW50aW1lKCk7XG4gICAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZyA9IGZhbHNlO1xuICAgIGNvbnN0IGhhbmRsZUV4aXQgPSBleGl0ID0+IHtcbiAgICAgIGlmIChleGl0Ll90YWcgPT09IFwiRmFpbHVyZVwiKSB7XG4gICAgICAgIHJlc3VsdHMudW5zYWZlRG9uZShFeGl0LmZhaWxDYXVzZShleGl0LmNhdXNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRzLnVuc2FmZU9mZmVyKGV4aXQudmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICBydW5Gb3JrKGVmZmVjdCkuYWRkT2JzZXJ2ZXIoaGFuZGxlRXhpdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBydW4oKSB7XG4gICAgICBpZiAocnVubmluZykge1xuICAgICAgICBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcnVubmluZyA9IHRydWU7XG4gICAgICBydW5Gb3JrKGVmZmVjdCkuYWRkT2JzZXJ2ZXIoaGFuZGxlRXhpdCk7XG4gICAgfVxuICAgIHlpZWxkKiBTY29wZS5hZGRGaW5hbGl6ZXIoc2NvcGUsIEVmZmVjdC5zeW5jKCgpID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzb2x2ZWRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNldCA9IGhhbmRsZXJzLmdldChyZXNvbHZlZEtleXNbaV0pO1xuICAgICAgICBzZXQuZGVsZXRlKHJ1bik7XG4gICAgICAgIGlmIChzZXQuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgIGhhbmRsZXJzLmRlbGV0ZShyZXNvbHZlZEtleXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzb2x2ZWRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgc2V0ID0gaGFuZGxlcnMuZ2V0KHJlc29sdmVkS2V5c1tpXSk7XG4gICAgICBpZiAoc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2V0ID0gbmV3IFNldCgpO1xuICAgICAgICBoYW5kbGVycy5zZXQocmVzb2x2ZWRLZXlzW2ldLCBzZXQpO1xuICAgICAgfVxuICAgICAgc2V0LmFkZChydW4pO1xuICAgIH1cbiAgICBydW4oKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSk7XG4gIGNvbnN0IHN0cmVhbSA9ICh0YWJsZXMsIGVmZmVjdCkgPT4gcXVlcnkodGFibGVzLCBlZmZlY3QpLnBpcGUoRWZmZWN0Lm1hcChNYWlsYm94LnRvU3RyZWFtKSwgU3RyZWFtLnVud3JhcFNjb3BlZCk7XG4gIHJldHVybiBSZWFjdGl2aXR5Lm9mKHtcbiAgICBtdXRhdGlvbixcbiAgICBxdWVyeSxcbiAgICBzdHJlYW0sXG4gICAgdW5zYWZlSW52YWxpZGF0ZSxcbiAgICBpbnZhbGlkYXRlXG4gIH0pO1xufSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGxheWVyc1xuICovXG5leHBvcnQgY29uc3QgbGF5ZXIgPSAvKiNfX1BVUkVfXyovTGF5ZXIuc2NvcGVkKFJlYWN0aXZpdHksIG1ha2UpO1xuZnVuY3Rpb24gc3RyaW5nT3JIYXNoKHUpIHtcbiAgcmV0dXJuIHR5cGVvZiB1ID09PSBcInN0cmluZ1wiID8gdSA6IEhhc2guaGFzaCh1KTtcbn1cbmNvbnN0IGlkSGFzaGVzID0gKGtleUhhc2gsIGlkcykgPT4ge1xuICBjb25zdCBoYXNoZXMgPSBuZXcgQXJyYXkoaWRzLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaGFzaGVzW2ldID0gYCR7a2V5SGFzaH06JHtzdHJpbmdPckhhc2goaWRzW2ldKX1gO1xuICB9XG4gIHJldHVybiBoYXNoZXM7XG59O1xuY29uc3QgcmVjb3JkSGFzaGVzID0gcmVjb3JkID0+IHtcbiAgY29uc3QgaGFzaGVzID0gW107XG4gIGZvciAoY29uc3Qga2V5IGluIHJlY29yZCkge1xuICAgIGhhc2hlcy5wdXNoKGtleSk7XG4gICAgZm9yIChjb25zdCBpZEhhc2ggb2YgaWRIYXNoZXMoa2V5LCByZWNvcmRba2V5XSkpIHtcbiAgICAgIGhhc2hlcy5wdXNoKGlkSGFzaCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBoYXNoZXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVhY3Rpdml0eS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/experimental/dist/esm/Reactivity.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/Cookies.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/Cookies.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CookieTypeId: () => (/* binding */ CookieTypeId),\n/* harmony export */   CookiesError: () => (/* binding */ CookiesError),\n/* harmony export */   ErrorTypeId: () => (/* binding */ ErrorTypeId),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   fromIterable: () => (/* binding */ fromIterable),\n/* harmony export */   fromReadonlyRecord: () => (/* binding */ fromReadonlyRecord),\n/* harmony export */   fromSetCookie: () => (/* binding */ fromSetCookie),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   getValue: () => (/* binding */ getValue),\n/* harmony export */   isCookies: () => (/* binding */ isCookies),\n/* harmony export */   isEmpty: () => (/* binding */ isEmpty),\n/* harmony export */   makeCookie: () => (/* binding */ makeCookie),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   parseHeader: () => (/* binding */ parseHeader),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   serializeCookie: () => (/* binding */ serializeCookie),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   setAll: () => (/* binding */ setAll),\n/* harmony export */   setAllCookie: () => (/* binding */ setAllCookie),\n/* harmony export */   setCookie: () => (/* binding */ setCookie),\n/* harmony export */   toCookieHeader: () => (/* binding */ toCookieHeader),\n/* harmony export */   toRecord: () => (/* binding */ toRecord),\n/* harmony export */   toSetCookieHeaders: () => (/* binding */ toSetCookieHeaders),\n/* harmony export */   unsafeMakeCookie: () => (/* binding */ unsafeMakeCookie),\n/* harmony export */   unsafeSet: () => (/* binding */ unsafeSet),\n/* harmony export */   unsafeSetAll: () => (/* binding */ unsafeSetAll)\n/* harmony export */ });\n/* harmony import */ var effect_Duration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Duration */ \"(rsc)/../../node_modules/effect/dist/esm/Duration.js\");\n/* harmony import */ var effect_Either__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Either */ \"(rsc)/../../node_modules/effect/dist/esm/Either.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Pipeable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Pipeable */ \"(rsc)/../../node_modules/effect/dist/esm/Pipeable.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Record__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Record */ \"(rsc)/../../node_modules/effect/dist/esm/Record.js\");\n/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Error.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Cookies\");\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isCookies = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, TypeId);\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst CookieTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Cookies/Cookie\");\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst ErrorTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Cookies/CookieError\");\n/**\n * @since 1.0.0\n * @category errors\n */\nclass CookiesError extends /*#__PURE__*/(0,_Error_js__WEBPACK_IMPORTED_MODULE_1__.TypeIdError)(ErrorTypeId, \"CookieError\") {\n  get message() {\n    return this.reason;\n  }\n}\nconst Proto = {\n  [TypeId]: TypeId,\n  ...effect_Inspectable__WEBPACK_IMPORTED_MODULE_2__.BaseProto,\n  toJSON() {\n    return {\n      _id: \"@effect/platform/Cookies\",\n      cookies: effect_Record__WEBPACK_IMPORTED_MODULE_3__.map(this.cookies, cookie => cookie.toJSON())\n    };\n  },\n  pipe() {\n    return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_4__.pipeArguments)(this, arguments);\n  }\n};\n/**\n * Create a Cookies object from an Iterable\n *\n * @since 1.0.0\n * @category constructors\n */\nconst fromReadonlyRecord = cookies => {\n  const self = Object.create(Proto);\n  self.cookies = cookies;\n  return self;\n};\n/**\n * Create a Cookies object from an Iterable\n *\n * @since 1.0.0\n * @category constructors\n */\nconst fromIterable = cookies => {\n  const record = {};\n  for (const cookie of cookies) {\n    record[cookie.name] = cookie;\n  }\n  return fromReadonlyRecord(record);\n};\n/**\n * Create a Cookies object from a set of Set-Cookie headers\n *\n * @since 1.0.0\n * @category constructors\n */\nconst fromSetCookie = headers => {\n  const arrayHeaders = typeof headers === \"string\" ? [headers] : headers;\n  const cookies = [];\n  for (const header of arrayHeaders) {\n    const cookie = parseSetCookie(header.trim());\n    if (effect_Option__WEBPACK_IMPORTED_MODULE_5__.isSome(cookie)) {\n      cookies.push(cookie.value);\n    }\n  }\n  return fromIterable(cookies);\n};\nfunction parseSetCookie(header) {\n  const parts = header.split(\";\").map(_ => _.trim()).filter(_ => _ !== \"\");\n  if (parts.length === 0) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_5__.none();\n  }\n  const firstEqual = parts[0].indexOf(\"=\");\n  if (firstEqual === -1) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_5__.none();\n  }\n  const name = parts[0].slice(0, firstEqual);\n  if (!fieldContentRegExp.test(name)) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_5__.none();\n  }\n  const valueEncoded = parts[0].slice(firstEqual + 1);\n  const value = tryDecodeURIComponent(valueEncoded);\n  if (parts.length === 1) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_5__.some(Object.assign(Object.create(CookieProto), {\n      name,\n      value,\n      valueEncoded\n    }));\n  }\n  const options = {};\n  for (let i = 1; i < parts.length; i++) {\n    const part = parts[i];\n    const equalIndex = part.indexOf(\"=\");\n    const key = equalIndex === -1 ? part : part.slice(0, equalIndex).trim();\n    const value = equalIndex === -1 ? undefined : part.slice(equalIndex + 1).trim();\n    switch (key.toLowerCase()) {\n      case \"domain\":\n        {\n          if (value === undefined) {\n            break;\n          }\n          const domain = value.trim().replace(/^\\./, \"\");\n          if (domain) {\n            options.domain = domain;\n          }\n          break;\n        }\n      case \"expires\":\n        {\n          if (value === undefined) {\n            break;\n          }\n          const date = new Date(value);\n          if (!isNaN(date.getTime())) {\n            options.expires = date;\n          }\n          break;\n        }\n      case \"max-age\":\n        {\n          if (value === undefined) {\n            break;\n          }\n          const maxAge = parseInt(value, 10);\n          if (!isNaN(maxAge)) {\n            options.maxAge = effect_Duration__WEBPACK_IMPORTED_MODULE_6__.seconds(maxAge);\n          }\n          break;\n        }\n      case \"path\":\n        {\n          if (value === undefined) {\n            break;\n          }\n          if (value[0] === \"/\") {\n            options.path = value;\n          }\n          break;\n        }\n      case \"priority\":\n        {\n          if (value === undefined) {\n            break;\n          }\n          switch (value.toLowerCase()) {\n            case \"low\":\n              options.priority = \"low\";\n              break;\n            case \"medium\":\n              options.priority = \"medium\";\n              break;\n            case \"high\":\n              options.priority = \"high\";\n              break;\n          }\n          break;\n        }\n      case \"httponly\":\n        {\n          options.httpOnly = true;\n          break;\n        }\n      case \"secure\":\n        {\n          options.secure = true;\n          break;\n        }\n      case \"partitioned\":\n        {\n          options.partitioned = true;\n          break;\n        }\n      case \"samesite\":\n        {\n          if (value === undefined) {\n            break;\n          }\n          switch (value.toLowerCase()) {\n            case \"lax\":\n              options.sameSite = \"lax\";\n              break;\n            case \"strict\":\n              options.sameSite = \"strict\";\n              break;\n            case \"none\":\n              options.sameSite = \"none\";\n              break;\n          }\n          break;\n        }\n    }\n  }\n  return effect_Option__WEBPACK_IMPORTED_MODULE_5__.some(Object.assign(Object.create(CookieProto), {\n    name,\n    value,\n    valueEncoded,\n    options: Object.keys(options).length > 0 ? options : undefined\n  }));\n}\n/**\n * An empty Cookies object\n *\n * @since 1.0.0\n * @category constructors\n */\nconst empty = /*#__PURE__*/fromIterable([]);\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isEmpty = self => effect_Record__WEBPACK_IMPORTED_MODULE_3__.isEmptyRecord(self.cookies);\n// eslint-disable-next-line no-control-regex\nconst fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nconst CookieProto = {\n  [CookieTypeId]: CookieTypeId,\n  ...effect_Inspectable__WEBPACK_IMPORTED_MODULE_2__.BaseProto,\n  toJSON() {\n    return {\n      _id: \"@effect/platform/Cookies/Cookie\",\n      name: this.name,\n      value: this.value,\n      options: this.options\n    };\n  }\n};\n/**\n * Create a new cookie\n *\n * @since 1.0.0\n * @category constructors\n */\nfunction makeCookie(name, value, options) {\n  if (!fieldContentRegExp.test(name)) {\n    return effect_Either__WEBPACK_IMPORTED_MODULE_7__.left(new CookiesError({\n      reason: \"InvalidName\"\n    }));\n  }\n  const encodedValue = encodeURIComponent(value);\n  if (encodedValue && !fieldContentRegExp.test(encodedValue)) {\n    return effect_Either__WEBPACK_IMPORTED_MODULE_7__.left(new CookiesError({\n      reason: \"InvalidValue\"\n    }));\n  }\n  if (options !== undefined) {\n    if (options.domain !== undefined && !fieldContentRegExp.test(options.domain)) {\n      return effect_Either__WEBPACK_IMPORTED_MODULE_7__.left(new CookiesError({\n        reason: \"InvalidDomain\"\n      }));\n    }\n    if (options.path !== undefined && !fieldContentRegExp.test(options.path)) {\n      return effect_Either__WEBPACK_IMPORTED_MODULE_7__.left(new CookiesError({\n        reason: \"InvalidPath\"\n      }));\n    }\n    if (options.maxAge !== undefined && !effect_Duration__WEBPACK_IMPORTED_MODULE_6__.isFinite(effect_Duration__WEBPACK_IMPORTED_MODULE_6__.decode(options.maxAge))) {\n      return effect_Either__WEBPACK_IMPORTED_MODULE_7__.left(new CookiesError({\n        reason: \"InfinityMaxAge\"\n      }));\n    }\n  }\n  return effect_Either__WEBPACK_IMPORTED_MODULE_7__.right(Object.assign(Object.create(CookieProto), {\n    name,\n    value,\n    valueEncoded: encodedValue,\n    options\n  }));\n}\n/**\n * Create a new cookie, throwing an error if invalid\n *\n * @since 1.0.0\n * @category constructors\n */\nconst unsafeMakeCookie = (name, value, options) => effect_Either__WEBPACK_IMPORTED_MODULE_7__.getOrThrowWith(makeCookie(name, value, options), effect_Function__WEBPACK_IMPORTED_MODULE_8__.identity);\n/**\n * Add a cookie to a Cookies object\n *\n * @since 1.0.0\n * @category combinators\n */\nconst setCookie = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(2, (self, cookie) => fromReadonlyRecord(effect_Record__WEBPACK_IMPORTED_MODULE_3__.set(self.cookies, cookie.name, cookie)));\n/**\n * Add multiple cookies to a Cookies object\n *\n * @since 1.0.0\n * @category combinators\n */\nconst setAllCookie = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(2, (self, cookies) => {\n  const record = {\n    ...self.cookies\n  };\n  for (const cookie of cookies) {\n    record[cookie.name] = cookie;\n  }\n  return fromReadonlyRecord(record);\n});\n/**\n * Combine two Cookies objects, removing duplicates from the first\n *\n * @since 1.0.0\n * @category combinators\n */\nconst merge = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(2, (self, that) => fromReadonlyRecord({\n  ...self.cookies,\n  ...that.cookies\n}));\n/**\n * Remove a cookie by name\n *\n * @since 1.0.0\n * @category combinators\n */\nconst remove = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(2, (self, name) => fromReadonlyRecord(effect_Record__WEBPACK_IMPORTED_MODULE_3__.remove(self.cookies, name)));\n/**\n * Get a cookie from a Cookies object\n *\n * @since 1.0.0\n * @category combinators\n */\nconst get = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(args => isCookies(args[0]), (self, name) => effect_Record__WEBPACK_IMPORTED_MODULE_3__.get(self.cookies, name));\n/**\n * Get a cookie from a Cookies object\n *\n * @since 1.0.0\n * @category combinators\n */\nconst getValue = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(args => isCookies(args[0]), (self, name) => effect_Option__WEBPACK_IMPORTED_MODULE_5__.map(effect_Record__WEBPACK_IMPORTED_MODULE_3__.get(self.cookies, name), cookie => cookie.value));\n/**\n * Add a cookie to a Cookies object\n *\n * @since 1.0.0\n * @category combinators\n */\nconst set = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(args => isCookies(args[0]), (self, name, value, options) => effect_Either__WEBPACK_IMPORTED_MODULE_7__.map(makeCookie(name, value, options), cookie => fromReadonlyRecord(effect_Record__WEBPACK_IMPORTED_MODULE_3__.set(self.cookies, name, cookie))));\n/**\n * Add a cookie to a Cookies object\n *\n * @since 1.0.0\n * @category combinators\n */\nconst unsafeSet = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(args => isCookies(args[0]), (self, name, value, options) => fromReadonlyRecord(effect_Record__WEBPACK_IMPORTED_MODULE_3__.set(self.cookies, name, unsafeMakeCookie(name, value, options))));\n/**\n * Add multiple cookies to a Cookies object\n *\n * @since 1.0.0\n * @category combinators\n */\nconst setAll = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(2, (self, cookies) => {\n  const record = {\n    ...self.cookies\n  };\n  for (const [name, value, options] of cookies) {\n    const either = makeCookie(name, value, options);\n    if (effect_Either__WEBPACK_IMPORTED_MODULE_7__.isLeft(either)) {\n      return either;\n    }\n    record[name] = either.right;\n  }\n  return effect_Either__WEBPACK_IMPORTED_MODULE_7__.right(fromReadonlyRecord(record));\n});\n/**\n * Add multiple cookies to a Cookies object, throwing an error if invalid\n *\n * @since 1.0.0\n * @category combinators\n */\nconst unsafeSetAll = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_8__.dual)(2, (self, cookies) => effect_Either__WEBPACK_IMPORTED_MODULE_7__.getOrThrowWith(setAll(self, cookies), effect_Function__WEBPACK_IMPORTED_MODULE_8__.identity));\n/**\n * Serialize a cookie into a string\n *\n * Adapted from https://github.com/fastify/fastify-cookie under MIT License\n *\n * @since 1.0.0\n * @category encoding\n */\nfunction serializeCookie(self) {\n  let str = self.name + \"=\" + self.valueEncoded;\n  if (self.options === undefined) {\n    return str;\n  }\n  const options = self.options;\n  if (options.maxAge !== undefined) {\n    const maxAge = effect_Duration__WEBPACK_IMPORTED_MODULE_6__.toSeconds(options.maxAge);\n    str += \"; Max-Age=\" + Math.trunc(maxAge);\n  }\n  if (options.domain !== undefined) {\n    str += \"; Domain=\" + options.domain;\n  }\n  if (options.path !== undefined) {\n    str += \"; Path=\" + options.path;\n  }\n  if (options.priority !== undefined) {\n    switch (options.priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n    }\n  }\n  if (options.expires !== undefined) {\n    str += \"; Expires=\" + options.expires.toUTCString();\n  }\n  if (options.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n  if (options.secure) {\n    str += \"; Secure\";\n  }\n  // Draft implementation to support Chrome from 2024-Q1 forward.\n  // See https://datatracker.ietf.org/doc/html/draft-cutler-httpbis-partitioned-cookies#section-2.1\n  if (options.partitioned) {\n    str += \"; Partitioned\";\n  }\n  if (options.sameSite !== undefined) {\n    switch (options.sameSite) {\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n    }\n  }\n  return str;\n}\n/**\n * Serialize a Cookies object into a Cookie header\n *\n * @since 1.0.0\n * @category encoding\n */\nconst toCookieHeader = self => Object.values(self.cookies).map(cookie => `${cookie.name}=${cookie.valueEncoded}`).join(\"; \");\n/**\n * To record\n *\n * @since 1.0.0\n * @category encoding\n */\nconst toRecord = self => {\n  const record = {};\n  const cookies = Object.values(self.cookies);\n  for (let index = 0; index < cookies.length; index++) {\n    const cookie = cookies[index];\n    record[cookie.name] = cookie.value;\n  }\n  return record;\n};\n/**\n * Serialize a Cookies object into Headers object containing one or more Set-Cookie headers\n *\n * @since 1.0.0\n * @category encoding\n */\nconst toSetCookieHeaders = self => Object.values(self.cookies).map(serializeCookie);\n/**\n * Parse a cookie header into a record of key-value pairs\n *\n * Adapted from https://github.com/fastify/fastify-cookie under MIT License\n *\n * @since 1.0.0\n * @category decoding\n */\nfunction parseHeader(header) {\n  const result = {};\n  const strLen = header.length;\n  let pos = 0;\n  let terminatorPos = 0;\n  while (true) {\n    if (terminatorPos === strLen) break;\n    terminatorPos = header.indexOf(\";\", pos);\n    if (terminatorPos === -1) terminatorPos = strLen; // This is the last pair\n    let eqIdx = header.indexOf(\"=\", pos);\n    if (eqIdx === -1) break; // No key-value pairs left\n    if (eqIdx > terminatorPos) {\n      // Malformed key-value pair\n      pos = terminatorPos + 1;\n      continue;\n    }\n    const key = header.substring(pos, eqIdx++).trim();\n    if (result[key] === undefined) {\n      const val = header.charCodeAt(eqIdx) === 0x22 ? header.substring(eqIdx + 1, terminatorPos - 1).trim() : header.substring(eqIdx, terminatorPos).trim();\n      result[key] = !(val.indexOf(\"%\") === -1) ? tryDecodeURIComponent(val) : val;\n    }\n    pos = terminatorPos + 1;\n  }\n  return result;\n}\nconst tryDecodeURIComponent = str => {\n  try {\n    return decodeURIComponent(str);\n  } catch (_) {\n    return str;\n  }\n};\n//# sourceMappingURL=Cookies.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vQ29va2llcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDNEM7QUFDSjtBQUNTO0FBQ0M7QUFDVjtBQUNRO0FBQ0Y7QUFDTjtBQUNDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHVCQUF1Qix5REFBcUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdDQUF3QyxzREFBVztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHlEQUFxQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhDQUFVO0FBQ3pCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsV0FBVyw4REFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaURBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsV0FBVywrQ0FBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLCtDQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLCtDQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvREFBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywrQ0FBVztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0Isd0RBQW9CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyx5REFBcUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFdBQVcsK0NBQVc7QUFDdEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVywrQ0FBVztBQUN0QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUNBQXlDLHFEQUFpQixDQUFDLG1EQUFlO0FBQzFFLGFBQWEsK0NBQVc7QUFDeEI7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVMsZ0RBQVk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtREFBbUQseURBQXFCLG1DQUFtQyxxREFBUTtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywrQkFBK0IscURBQUkseUNBQXlDLDhDQUFVO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtDQUFrQyxxREFBSTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQkFBMkIscURBQUk7QUFDdEM7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0QkFBNEIscURBQUksdUNBQXVDLGlEQUFhO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlCQUF5QixxREFBSSw2Q0FBNkMsOENBQVU7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sOEJBQThCLHFEQUFJLDZDQUE2Qyw4Q0FBVSxDQUFDLDhDQUFVO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlCQUF5QixxREFBSSw2REFBNkQsOENBQVUsZ0VBQWdFLDhDQUFVO0FBQ3JMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtCQUErQixxREFBSSxnRkFBZ0YsOENBQVU7QUFDcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLHFEQUFJO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlEQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnREFBWTtBQUNyQixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sa0NBQWtDLHFEQUFJLHVCQUF1Qix5REFBcUIsd0JBQXdCLHFEQUFRO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzREFBa0I7QUFDckMsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNEVBQTRFLFlBQVksR0FBRyxvQkFBb0IsV0FBVztBQUNqSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxzQkFBc0Isd0JBQXdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxzREFBc0Q7QUFDdEQ7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9Db29raWVzLmpzPzZlMmUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuaW1wb3J0ICogYXMgRHVyYXRpb24gZnJvbSBcImVmZmVjdC9EdXJhdGlvblwiO1xuaW1wb3J0ICogYXMgRWl0aGVyIGZyb20gXCJlZmZlY3QvRWl0aGVyXCI7XG5pbXBvcnQgeyBkdWFsLCBpZGVudGl0eSB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIjtcbmltcG9ydCAqIGFzIEluc3BlY3RhYmxlIGZyb20gXCJlZmZlY3QvSW5zcGVjdGFibGVcIjtcbmltcG9ydCAqIGFzIE9wdGlvbiBmcm9tIFwiZWZmZWN0L09wdGlvblwiO1xuaW1wb3J0IHsgcGlwZUFyZ3VtZW50cyB9IGZyb20gXCJlZmZlY3QvUGlwZWFibGVcIjtcbmltcG9ydCAqIGFzIFByZWRpY2F0ZSBmcm9tIFwiZWZmZWN0L1ByZWRpY2F0ZVwiO1xuaW1wb3J0ICogYXMgUmVjb3JkIGZyb20gXCJlZmZlY3QvUmVjb3JkXCI7XG5pbXBvcnQgeyBUeXBlSWRFcnJvciB9IGZyb20gXCIuL0Vycm9yLmpzXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vQ29va2llc1wiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcmVmaW5lbWVudHNcbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ29va2llcyA9IHUgPT4gUHJlZGljYXRlLmhhc1Byb3BlcnR5KHUsIFR5cGVJZCk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBDb29raWVUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vQ29va2llcy9Db29raWVcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBFcnJvclR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9Db29raWVzL0Nvb2tpZUVycm9yXCIpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvb2tpZXNFcnJvciBleHRlbmRzIC8qI19fUFVSRV9fKi9UeXBlSWRFcnJvcihFcnJvclR5cGVJZCwgXCJDb29raWVFcnJvclwiKSB7XG4gIGdldCBtZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnJlYXNvbjtcbiAgfVxufVxuY29uc3QgUHJvdG8gPSB7XG4gIFtUeXBlSWRdOiBUeXBlSWQsXG4gIC4uLkluc3BlY3RhYmxlLkJhc2VQcm90byxcbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfaWQ6IFwiQGVmZmVjdC9wbGF0Zm9ybS9Db29raWVzXCIsXG4gICAgICBjb29raWVzOiBSZWNvcmQubWFwKHRoaXMuY29va2llcywgY29va2llID0+IGNvb2tpZS50b0pTT04oKSlcbiAgICB9O1xuICB9LFxuICBwaXBlKCkge1xuICAgIHJldHVybiBwaXBlQXJndW1lbnRzKHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbn07XG4vKipcbiAqIENyZWF0ZSBhIENvb2tpZXMgb2JqZWN0IGZyb20gYW4gSXRlcmFibGVcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21SZWFkb25seVJlY29yZCA9IGNvb2tpZXMgPT4ge1xuICBjb25zdCBzZWxmID0gT2JqZWN0LmNyZWF0ZShQcm90byk7XG4gIHNlbGYuY29va2llcyA9IGNvb2tpZXM7XG4gIHJldHVybiBzZWxmO1xufTtcbi8qKlxuICogQ3JlYXRlIGEgQ29va2llcyBvYmplY3QgZnJvbSBhbiBJdGVyYWJsZVxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgZnJvbUl0ZXJhYmxlID0gY29va2llcyA9PiB7XG4gIGNvbnN0IHJlY29yZCA9IHt9O1xuICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBjb29raWVzKSB7XG4gICAgcmVjb3JkW2Nvb2tpZS5uYW1lXSA9IGNvb2tpZTtcbiAgfVxuICByZXR1cm4gZnJvbVJlYWRvbmx5UmVjb3JkKHJlY29yZCk7XG59O1xuLyoqXG4gKiBDcmVhdGUgYSBDb29raWVzIG9iamVjdCBmcm9tIGEgc2V0IG9mIFNldC1Db29raWUgaGVhZGVyc1xuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgZnJvbVNldENvb2tpZSA9IGhlYWRlcnMgPT4ge1xuICBjb25zdCBhcnJheUhlYWRlcnMgPSB0eXBlb2YgaGVhZGVycyA9PT0gXCJzdHJpbmdcIiA/IFtoZWFkZXJzXSA6IGhlYWRlcnM7XG4gIGNvbnN0IGNvb2tpZXMgPSBbXTtcbiAgZm9yIChjb25zdCBoZWFkZXIgb2YgYXJyYXlIZWFkZXJzKSB7XG4gICAgY29uc3QgY29va2llID0gcGFyc2VTZXRDb29raWUoaGVhZGVyLnRyaW0oKSk7XG4gICAgaWYgKE9wdGlvbi5pc1NvbWUoY29va2llKSkge1xuICAgICAgY29va2llcy5wdXNoKGNvb2tpZS52YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmcm9tSXRlcmFibGUoY29va2llcyk7XG59O1xuZnVuY3Rpb24gcGFyc2VTZXRDb29raWUoaGVhZGVyKSB7XG4gIGNvbnN0IHBhcnRzID0gaGVhZGVyLnNwbGl0KFwiO1wiKS5tYXAoXyA9PiBfLnRyaW0oKSkuZmlsdGVyKF8gPT4gXyAhPT0gXCJcIik7XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gT3B0aW9uLm5vbmUoKTtcbiAgfVxuICBjb25zdCBmaXJzdEVxdWFsID0gcGFydHNbMF0uaW5kZXhPZihcIj1cIik7XG4gIGlmIChmaXJzdEVxdWFsID09PSAtMSkge1xuICAgIHJldHVybiBPcHRpb24ubm9uZSgpO1xuICB9XG4gIGNvbnN0IG5hbWUgPSBwYXJ0c1swXS5zbGljZSgwLCBmaXJzdEVxdWFsKTtcbiAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChuYW1lKSkge1xuICAgIHJldHVybiBPcHRpb24ubm9uZSgpO1xuICB9XG4gIGNvbnN0IHZhbHVlRW5jb2RlZCA9IHBhcnRzWzBdLnNsaWNlKGZpcnN0RXF1YWwgKyAxKTtcbiAgY29uc3QgdmFsdWUgPSB0cnlEZWNvZGVVUklDb21wb25lbnQodmFsdWVFbmNvZGVkKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBPcHRpb24uc29tZShPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQ29va2llUHJvdG8pLCB7XG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICB2YWx1ZUVuY29kZWRcbiAgICB9KSk7XG4gIH1cbiAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgIGNvbnN0IGVxdWFsSW5kZXggPSBwYXJ0LmluZGV4T2YoXCI9XCIpO1xuICAgIGNvbnN0IGtleSA9IGVxdWFsSW5kZXggPT09IC0xID8gcGFydCA6IHBhcnQuc2xpY2UoMCwgZXF1YWxJbmRleCkudHJpbSgpO1xuICAgIGNvbnN0IHZhbHVlID0gZXF1YWxJbmRleCA9PT0gLTEgPyB1bmRlZmluZWQgOiBwYXJ0LnNsaWNlKGVxdWFsSW5kZXggKyAxKS50cmltKCk7XG4gICAgc3dpdGNoIChrZXkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSBcImRvbWFpblwiOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBkb21haW4gPSB2YWx1ZS50cmltKCkucmVwbGFjZSgvXlxcLi8sIFwiXCIpO1xuICAgICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZG9tYWluID0gZG9tYWluO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBcImV4cGlyZXNcIjpcbiAgICAgICAge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgICBpZiAoIWlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5leHBpcmVzID0gZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJtYXgtYWdlXCI6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG1heEFnZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgaWYgKCFpc05hTihtYXhBZ2UpKSB7XG4gICAgICAgICAgICBvcHRpb25zLm1heEFnZSA9IER1cmF0aW9uLnNlY29uZHMobWF4QWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJwYXRoXCI6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWx1ZVswXSA9PT0gXCIvXCIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucGF0aCA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBcInByaW9yaXR5XCI6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAodmFsdWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSBcImxvd1wiOlxuICAgICAgICAgICAgICBvcHRpb25zLnByaW9yaXR5ID0gXCJsb3dcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWVkaXVtXCI6XG4gICAgICAgICAgICAgIG9wdGlvbnMucHJpb3JpdHkgPSBcIm1lZGl1bVwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJoaWdoXCI6XG4gICAgICAgICAgICAgIG9wdGlvbnMucHJpb3JpdHkgPSBcImhpZ2hcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiaHR0cG9ubHlcIjpcbiAgICAgICAge1xuICAgICAgICAgIG9wdGlvbnMuaHR0cE9ubHkgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwic2VjdXJlXCI6XG4gICAgICAgIHtcbiAgICAgICAgICBvcHRpb25zLnNlY3VyZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJwYXJ0aXRpb25lZFwiOlxuICAgICAgICB7XG4gICAgICAgICAgb3B0aW9ucy5wYXJ0aXRpb25lZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJzYW1lc2l0ZVwiOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHZhbHVlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsYXhcIjpcbiAgICAgICAgICAgICAgb3B0aW9ucy5zYW1lU2l0ZSA9IFwibGF4XCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInN0cmljdFwiOlxuICAgICAgICAgICAgICBvcHRpb25zLnNhbWVTaXRlID0gXCJzdHJpY3RcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICBvcHRpb25zLnNhbWVTaXRlID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gT3B0aW9uLnNvbWUoT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKENvb2tpZVByb3RvKSwge1xuICAgIG5hbWUsXG4gICAgdmFsdWUsXG4gICAgdmFsdWVFbmNvZGVkLFxuICAgIG9wdGlvbnM6IE9iamVjdC5rZXlzKG9wdGlvbnMpLmxlbmd0aCA+IDAgPyBvcHRpb25zIDogdW5kZWZpbmVkXG4gIH0pKTtcbn1cbi8qKlxuICogQW4gZW1wdHkgQ29va2llcyBvYmplY3RcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGVtcHR5ID0gLyojX19QVVJFX18qL2Zyb21JdGVyYWJsZShbXSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJlZmluZW1lbnRzXG4gKi9cbmV4cG9ydCBjb25zdCBpc0VtcHR5ID0gc2VsZiA9PiBSZWNvcmQuaXNFbXB0eVJlY29yZChzZWxmLmNvb2tpZXMpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbmNvbnN0IGZpZWxkQ29udGVudFJlZ0V4cCA9IC9eW1xcdTAwMDlcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdTAwZmZdKyQvO1xuY29uc3QgQ29va2llUHJvdG8gPSB7XG4gIFtDb29raWVUeXBlSWRdOiBDb29raWVUeXBlSWQsXG4gIC4uLkluc3BlY3RhYmxlLkJhc2VQcm90byxcbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfaWQ6IFwiQGVmZmVjdC9wbGF0Zm9ybS9Db29raWVzL0Nvb2tpZVwiLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnNcbiAgICB9O1xuICB9XG59O1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY29va2llXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQ29va2llKG5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3QobmFtZSkpIHtcbiAgICByZXR1cm4gRWl0aGVyLmxlZnQobmV3IENvb2tpZXNFcnJvcih7XG4gICAgICByZWFzb246IFwiSW52YWxpZE5hbWVcIlxuICAgIH0pKTtcbiAgfVxuICBjb25zdCBlbmNvZGVkVmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICBpZiAoZW5jb2RlZFZhbHVlICYmICFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChlbmNvZGVkVmFsdWUpKSB7XG4gICAgcmV0dXJuIEVpdGhlci5sZWZ0KG5ldyBDb29raWVzRXJyb3Ioe1xuICAgICAgcmVhc29uOiBcIkludmFsaWRWYWx1ZVwiXG4gICAgfSkpO1xuICB9XG4gIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAob3B0aW9ucy5kb21haW4gIT09IHVuZGVmaW5lZCAmJiAhZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0aW9ucy5kb21haW4pKSB7XG4gICAgICByZXR1cm4gRWl0aGVyLmxlZnQobmV3IENvb2tpZXNFcnJvcih7XG4gICAgICAgIHJlYXNvbjogXCJJbnZhbGlkRG9tYWluXCJcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucGF0aCAhPT0gdW5kZWZpbmVkICYmICFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChvcHRpb25zLnBhdGgpKSB7XG4gICAgICByZXR1cm4gRWl0aGVyLmxlZnQobmV3IENvb2tpZXNFcnJvcih7XG4gICAgICAgIHJlYXNvbjogXCJJbnZhbGlkUGF0aFwiXG4gICAgICB9KSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm1heEFnZSAhPT0gdW5kZWZpbmVkICYmICFEdXJhdGlvbi5pc0Zpbml0ZShEdXJhdGlvbi5kZWNvZGUob3B0aW9ucy5tYXhBZ2UpKSkge1xuICAgICAgcmV0dXJuIEVpdGhlci5sZWZ0KG5ldyBDb29raWVzRXJyb3Ioe1xuICAgICAgICByZWFzb246IFwiSW5maW5pdHlNYXhBZ2VcIlxuICAgICAgfSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gRWl0aGVyLnJpZ2h0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShDb29raWVQcm90byksIHtcbiAgICBuYW1lLFxuICAgIHZhbHVlLFxuICAgIHZhbHVlRW5jb2RlZDogZW5jb2RlZFZhbHVlLFxuICAgIG9wdGlvbnNcbiAgfSkpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY29va2llLCB0aHJvd2luZyBhbiBlcnJvciBpZiBpbnZhbGlkXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVNYWtlQ29va2llID0gKG5hbWUsIHZhbHVlLCBvcHRpb25zKSA9PiBFaXRoZXIuZ2V0T3JUaHJvd1dpdGgobWFrZUNvb2tpZShuYW1lLCB2YWx1ZSwgb3B0aW9ucyksIGlkZW50aXR5KTtcbi8qKlxuICogQWRkIGEgY29va2llIHRvIGEgQ29va2llcyBvYmplY3RcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2V0Q29va2llID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGNvb2tpZSkgPT4gZnJvbVJlYWRvbmx5UmVjb3JkKFJlY29yZC5zZXQoc2VsZi5jb29raWVzLCBjb29raWUubmFtZSwgY29va2llKSkpO1xuLyoqXG4gKiBBZGQgbXVsdGlwbGUgY29va2llcyB0byBhIENvb2tpZXMgb2JqZWN0XG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEFsbENvb2tpZSA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBjb29raWVzKSA9PiB7XG4gIGNvbnN0IHJlY29yZCA9IHtcbiAgICAuLi5zZWxmLmNvb2tpZXNcbiAgfTtcbiAgZm9yIChjb25zdCBjb29raWUgb2YgY29va2llcykge1xuICAgIHJlY29yZFtjb29raWUubmFtZV0gPSBjb29raWU7XG4gIH1cbiAgcmV0dXJuIGZyb21SZWFkb25seVJlY29yZChyZWNvcmQpO1xufSk7XG4vKipcbiAqIENvbWJpbmUgdHdvIENvb2tpZXMgb2JqZWN0cywgcmVtb3ZpbmcgZHVwbGljYXRlcyBmcm9tIHRoZSBmaXJzdFxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBtZXJnZSA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCB0aGF0KSA9PiBmcm9tUmVhZG9ubHlSZWNvcmQoe1xuICAuLi5zZWxmLmNvb2tpZXMsXG4gIC4uLnRoYXQuY29va2llc1xufSkpO1xuLyoqXG4gKiBSZW1vdmUgYSBjb29raWUgYnkgbmFtZVxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmUgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgbmFtZSkgPT4gZnJvbVJlYWRvbmx5UmVjb3JkKFJlY29yZC5yZW1vdmUoc2VsZi5jb29raWVzLCBuYW1lKSkpO1xuLyoqXG4gKiBHZXQgYSBjb29raWUgZnJvbSBhIENvb2tpZXMgb2JqZWN0XG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldCA9IC8qI19fUFVSRV9fKi9kdWFsKGFyZ3MgPT4gaXNDb29raWVzKGFyZ3NbMF0pLCAoc2VsZiwgbmFtZSkgPT4gUmVjb3JkLmdldChzZWxmLmNvb2tpZXMsIG5hbWUpKTtcbi8qKlxuICogR2V0IGEgY29va2llIGZyb20gYSBDb29raWVzIG9iamVjdFxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWYWx1ZSA9IC8qI19fUFVSRV9fKi9kdWFsKGFyZ3MgPT4gaXNDb29raWVzKGFyZ3NbMF0pLCAoc2VsZiwgbmFtZSkgPT4gT3B0aW9uLm1hcChSZWNvcmQuZ2V0KHNlbGYuY29va2llcywgbmFtZSksIGNvb2tpZSA9PiBjb29raWUudmFsdWUpKTtcbi8qKlxuICogQWRkIGEgY29va2llIHRvIGEgQ29va2llcyBvYmplY3RcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2V0ID0gLyojX19QVVJFX18qL2R1YWwoYXJncyA9PiBpc0Nvb2tpZXMoYXJnc1swXSksIChzZWxmLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucykgPT4gRWl0aGVyLm1hcChtYWtlQ29va2llKG5hbWUsIHZhbHVlLCBvcHRpb25zKSwgY29va2llID0+IGZyb21SZWFkb25seVJlY29yZChSZWNvcmQuc2V0KHNlbGYuY29va2llcywgbmFtZSwgY29va2llKSkpKTtcbi8qKlxuICogQWRkIGEgY29va2llIHRvIGEgQ29va2llcyBvYmplY3RcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgdW5zYWZlU2V0ID0gLyojX19QVVJFX18qL2R1YWwoYXJncyA9PiBpc0Nvb2tpZXMoYXJnc1swXSksIChzZWxmLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucykgPT4gZnJvbVJlYWRvbmx5UmVjb3JkKFJlY29yZC5zZXQoc2VsZi5jb29raWVzLCBuYW1lLCB1bnNhZmVNYWtlQ29va2llKG5hbWUsIHZhbHVlLCBvcHRpb25zKSkpKTtcbi8qKlxuICogQWRkIG11bHRpcGxlIGNvb2tpZXMgdG8gYSBDb29raWVzIG9iamVjdFxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRBbGwgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgY29va2llcykgPT4ge1xuICBjb25zdCByZWNvcmQgPSB7XG4gICAgLi4uc2VsZi5jb29raWVzXG4gIH07XG4gIGZvciAoY29uc3QgW25hbWUsIHZhbHVlLCBvcHRpb25zXSBvZiBjb29raWVzKSB7XG4gICAgY29uc3QgZWl0aGVyID0gbWFrZUNvb2tpZShuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgaWYgKEVpdGhlci5pc0xlZnQoZWl0aGVyKSkge1xuICAgICAgcmV0dXJuIGVpdGhlcjtcbiAgICB9XG4gICAgcmVjb3JkW25hbWVdID0gZWl0aGVyLnJpZ2h0O1xuICB9XG4gIHJldHVybiBFaXRoZXIucmlnaHQoZnJvbVJlYWRvbmx5UmVjb3JkKHJlY29yZCkpO1xufSk7XG4vKipcbiAqIEFkZCBtdWx0aXBsZSBjb29raWVzIHRvIGEgQ29va2llcyBvYmplY3QsIHRocm93aW5nIGFuIGVycm9yIGlmIGludmFsaWRcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgdW5zYWZlU2V0QWxsID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGNvb2tpZXMpID0+IEVpdGhlci5nZXRPclRocm93V2l0aChzZXRBbGwoc2VsZiwgY29va2llcyksIGlkZW50aXR5KSk7XG4vKipcbiAqIFNlcmlhbGl6ZSBhIGNvb2tpZSBpbnRvIGEgc3RyaW5nXG4gKlxuICogQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYXN0aWZ5L2Zhc3RpZnktY29va2llIHVuZGVyIE1JVCBMaWNlbnNlXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUNvb2tpZShzZWxmKSB7XG4gIGxldCBzdHIgPSBzZWxmLm5hbWUgKyBcIj1cIiArIHNlbGYudmFsdWVFbmNvZGVkO1xuICBpZiAoc2VsZi5vcHRpb25zID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIGNvbnN0IG9wdGlvbnMgPSBzZWxmLm9wdGlvbnM7XG4gIGlmIChvcHRpb25zLm1heEFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgbWF4QWdlID0gRHVyYXRpb24udG9TZWNvbmRzKG9wdGlvbnMubWF4QWdlKTtcbiAgICBzdHIgKz0gXCI7IE1heC1BZ2U9XCIgKyBNYXRoLnRydW5jKG1heEFnZSk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuZG9tYWluICE9PSB1bmRlZmluZWQpIHtcbiAgICBzdHIgKz0gXCI7IERvbWFpbj1cIiArIG9wdGlvbnMuZG9tYWluO1xuICB9XG4gIGlmIChvcHRpb25zLnBhdGggIT09IHVuZGVmaW5lZCkge1xuICAgIHN0ciArPSBcIjsgUGF0aD1cIiArIG9wdGlvbnMucGF0aDtcbiAgfVxuICBpZiAob3B0aW9ucy5wcmlvcml0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc3dpdGNoIChvcHRpb25zLnByaW9yaXR5KSB7XG4gICAgICBjYXNlIFwibG93XCI6XG4gICAgICAgIHN0ciArPSBcIjsgUHJpb3JpdHk9TG93XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm1lZGl1bVwiOlxuICAgICAgICBzdHIgKz0gXCI7IFByaW9yaXR5PU1lZGl1bVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJoaWdoXCI6XG4gICAgICAgIHN0ciArPSBcIjsgUHJpb3JpdHk9SGlnaFwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKG9wdGlvbnMuZXhwaXJlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc3RyICs9IFwiOyBFeHBpcmVzPVwiICsgb3B0aW9ucy5leHBpcmVzLnRvVVRDU3RyaW5nKCk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuaHR0cE9ubHkpIHtcbiAgICBzdHIgKz0gXCI7IEh0dHBPbmx5XCI7XG4gIH1cbiAgaWYgKG9wdGlvbnMuc2VjdXJlKSB7XG4gICAgc3RyICs9IFwiOyBTZWN1cmVcIjtcbiAgfVxuICAvLyBEcmFmdCBpbXBsZW1lbnRhdGlvbiB0byBzdXBwb3J0IENocm9tZSBmcm9tIDIwMjQtUTEgZm9yd2FyZC5cbiAgLy8gU2VlIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvZHJhZnQtY3V0bGVyLWh0dHBiaXMtcGFydGl0aW9uZWQtY29va2llcyNzZWN0aW9uLTIuMVxuICBpZiAob3B0aW9ucy5wYXJ0aXRpb25lZCkge1xuICAgIHN0ciArPSBcIjsgUGFydGl0aW9uZWRcIjtcbiAgfVxuICBpZiAob3B0aW9ucy5zYW1lU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc3dpdGNoIChvcHRpb25zLnNhbWVTaXRlKSB7XG4gICAgICBjYXNlIFwibGF4XCI6XG4gICAgICAgIHN0ciArPSBcIjsgU2FtZVNpdGU9TGF4XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInN0cmljdFwiOlxuICAgICAgICBzdHIgKz0gXCI7IFNhbWVTaXRlPVN0cmljdFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgIHN0ciArPSBcIjsgU2FtZVNpdGU9Tm9uZVwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cbi8qKlxuICogU2VyaWFsaXplIGEgQ29va2llcyBvYmplY3QgaW50byBhIENvb2tpZSBoZWFkZXJcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICovXG5leHBvcnQgY29uc3QgdG9Db29raWVIZWFkZXIgPSBzZWxmID0+IE9iamVjdC52YWx1ZXMoc2VsZi5jb29raWVzKS5tYXAoY29va2llID0+IGAke2Nvb2tpZS5uYW1lfT0ke2Nvb2tpZS52YWx1ZUVuY29kZWR9YCkuam9pbihcIjsgXCIpO1xuLyoqXG4gKiBUbyByZWNvcmRcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICovXG5leHBvcnQgY29uc3QgdG9SZWNvcmQgPSBzZWxmID0+IHtcbiAgY29uc3QgcmVjb3JkID0ge307XG4gIGNvbnN0IGNvb2tpZXMgPSBPYmplY3QudmFsdWVzKHNlbGYuY29va2llcyk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb29raWVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNvbnN0IGNvb2tpZSA9IGNvb2tpZXNbaW5kZXhdO1xuICAgIHJlY29yZFtjb29raWUubmFtZV0gPSBjb29raWUudmFsdWU7XG4gIH1cbiAgcmV0dXJuIHJlY29yZDtcbn07XG4vKipcbiAqIFNlcmlhbGl6ZSBhIENvb2tpZXMgb2JqZWN0IGludG8gSGVhZGVycyBvYmplY3QgY29udGFpbmluZyBvbmUgb3IgbW9yZSBTZXQtQ29va2llIGhlYWRlcnNcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICovXG5leHBvcnQgY29uc3QgdG9TZXRDb29raWVIZWFkZXJzID0gc2VsZiA9PiBPYmplY3QudmFsdWVzKHNlbGYuY29va2llcykubWFwKHNlcmlhbGl6ZUNvb2tpZSk7XG4vKipcbiAqIFBhcnNlIGEgY29va2llIGhlYWRlciBpbnRvIGEgcmVjb3JkIG9mIGtleS12YWx1ZSBwYWlyc1xuICpcbiAqIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFzdGlmeS9mYXN0aWZ5LWNvb2tpZSB1bmRlciBNSVQgTGljZW5zZVxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGRlY29kaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUhlYWRlcihoZWFkZXIpIHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IHN0ckxlbiA9IGhlYWRlci5sZW5ndGg7XG4gIGxldCBwb3MgPSAwO1xuICBsZXQgdGVybWluYXRvclBvcyA9IDA7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKHRlcm1pbmF0b3JQb3MgPT09IHN0ckxlbikgYnJlYWs7XG4gICAgdGVybWluYXRvclBvcyA9IGhlYWRlci5pbmRleE9mKFwiO1wiLCBwb3MpO1xuICAgIGlmICh0ZXJtaW5hdG9yUG9zID09PSAtMSkgdGVybWluYXRvclBvcyA9IHN0ckxlbjsgLy8gVGhpcyBpcyB0aGUgbGFzdCBwYWlyXG4gICAgbGV0IGVxSWR4ID0gaGVhZGVyLmluZGV4T2YoXCI9XCIsIHBvcyk7XG4gICAgaWYgKGVxSWR4ID09PSAtMSkgYnJlYWs7IC8vIE5vIGtleS12YWx1ZSBwYWlycyBsZWZ0XG4gICAgaWYgKGVxSWR4ID4gdGVybWluYXRvclBvcykge1xuICAgICAgLy8gTWFsZm9ybWVkIGtleS12YWx1ZSBwYWlyXG4gICAgICBwb3MgPSB0ZXJtaW5hdG9yUG9zICsgMTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBoZWFkZXIuc3Vic3RyaW5nKHBvcywgZXFJZHgrKykudHJpbSgpO1xuICAgIGlmIChyZXN1bHRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCB2YWwgPSBoZWFkZXIuY2hhckNvZGVBdChlcUlkeCkgPT09IDB4MjIgPyBoZWFkZXIuc3Vic3RyaW5nKGVxSWR4ICsgMSwgdGVybWluYXRvclBvcyAtIDEpLnRyaW0oKSA6IGhlYWRlci5zdWJzdHJpbmcoZXFJZHgsIHRlcm1pbmF0b3JQb3MpLnRyaW0oKTtcbiAgICAgIHJlc3VsdFtrZXldID0gISh2YWwuaW5kZXhPZihcIiVcIikgPT09IC0xKSA/IHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWwpIDogdmFsO1xuICAgIH1cbiAgICBwb3MgPSB0ZXJtaW5hdG9yUG9zICsgMTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgdHJ5RGVjb2RlVVJJQ29tcG9uZW50ID0gc3RyID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29va2llcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/Cookies.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js":
/*!*************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/Error.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BadArgument: () => (/* binding */ BadArgument),\n/* harmony export */   PlatformErrorTypeId: () => (/* binding */ PlatformErrorTypeId),\n/* harmony export */   SystemError: () => (/* binding */ SystemError),\n/* harmony export */   TypeIdError: () => (/* binding */ TypeIdError),\n/* harmony export */   isPlatformError: () => (/* binding */ isPlatformError)\n/* harmony export */ });\n/* harmony import */ var effect_Data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Data */ \"(rsc)/../../node_modules/effect/dist/esm/Data.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var _internal_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/error.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/error.js\");\n\n\n\n/**\n * @since 1.0.0\n * @category type id\n */\nconst PlatformErrorTypeId = _internal_error_js__WEBPACK_IMPORTED_MODULE_0__.PlatformErrorTypeId;\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isPlatformError = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_1__.hasProperty(u, PlatformErrorTypeId);\n/**\n * @since 1.0.0\n * @category error\n */\nconst TypeIdError = (typeId, tag) => {\n  class Base extends effect_Data__WEBPACK_IMPORTED_MODULE_2__.Error {\n    _tag = tag;\n  }\n  ;\n  Base.prototype[typeId] = typeId;\n  Base.prototype.name = tag;\n  return Base;\n};\n/**\n * @since 1.0.0\n * @category error\n */\nconst BadArgument = _internal_error_js__WEBPACK_IMPORTED_MODULE_0__.badArgument;\n/**\n * @since 1.0.0\n * @category error\n */\nconst SystemError = _internal_error_js__WEBPACK_IMPORTED_MODULE_0__.systemError;\n//# sourceMappingURL=Error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vRXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBb0M7QUFDVTtBQUNFO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLG1FQUE0QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDZCQUE2Qix5REFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHFCQUFxQiw4Q0FBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLDJEQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPLG9CQUFvQiwyREFBb0I7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vRXJyb3IuanM/OTQ5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBEYXRhIGZyb20gXCJlZmZlY3QvRGF0YVwiO1xuaW1wb3J0ICogYXMgUHJlZGljYXRlIGZyb20gXCJlZmZlY3QvUHJlZGljYXRlXCI7XG5pbXBvcnQgKiBhcyBpbnRlcm5hbCBmcm9tIFwiLi9pbnRlcm5hbC9lcnJvci5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKi9cbmV4cG9ydCBjb25zdCBQbGF0Zm9ybUVycm9yVHlwZUlkID0gaW50ZXJuYWwuUGxhdGZvcm1FcnJvclR5cGVJZDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcmVmaW5lbWVudHNcbiAqL1xuZXhwb3J0IGNvbnN0IGlzUGxhdGZvcm1FcnJvciA9IHUgPT4gUHJlZGljYXRlLmhhc1Byb3BlcnR5KHUsIFBsYXRmb3JtRXJyb3JUeXBlSWQpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvclxuICovXG5leHBvcnQgY29uc3QgVHlwZUlkRXJyb3IgPSAodHlwZUlkLCB0YWcpID0+IHtcbiAgY2xhc3MgQmFzZSBleHRlbmRzIERhdGEuRXJyb3Ige1xuICAgIF90YWcgPSB0YWc7XG4gIH1cbiAgO1xuICBCYXNlLnByb3RvdHlwZVt0eXBlSWRdID0gdHlwZUlkO1xuICBCYXNlLnByb3RvdHlwZS5uYW1lID0gdGFnO1xuICByZXR1cm4gQmFzZTtcbn07XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBCYWRBcmd1bWVudCA9IGludGVybmFsLmJhZEFyZ3VtZW50O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvclxuICovXG5leHBvcnQgY29uc3QgU3lzdGVtRXJyb3IgPSBpbnRlcm5hbC5zeXN0ZW1FcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/Etag.js":
/*!************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/Etag.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Generator: () => (/* binding */ Generator),\n/* harmony export */   GeneratorTypeId: () => (/* binding */ GeneratorTypeId),\n/* harmony export */   layer: () => (/* binding */ layer),\n/* harmony export */   layerWeak: () => (/* binding */ layerWeak),\n/* harmony export */   toString: () => (/* binding */ toString)\n/* harmony export */ });\n/* harmony import */ var _internal_etag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/etag.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/etag.js\");\n\n/**\n * @since 1.0.0\n * @category convertions\n */\nconst toString = _internal_etag_js__WEBPACK_IMPORTED_MODULE_0__.toString;\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst GeneratorTypeId = _internal_etag_js__WEBPACK_IMPORTED_MODULE_0__.GeneratorTypeId;\n/**\n * @since 1.0.0\n * @category tags\n */\nconst Generator = _internal_etag_js__WEBPACK_IMPORTED_MODULE_0__.tag;\n/**\n * @since 1.0.0\n * @category layers\n */\nconst layer = _internal_etag_js__WEBPACK_IMPORTED_MODULE_0__.layer;\n/**\n * @since 1.0.0\n * @category layers\n */\nconst layerWeak = _internal_etag_js__WEBPACK_IMPORTED_MODULE_0__.layerWeak;\n//# sourceMappingURL=Etag.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vRXRhZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQkFBaUIsdURBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLDhEQUF3QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtCQUFrQixrREFBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGNBQWMsb0RBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQkFBa0Isd0RBQWtCO0FBQzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL0V0YWcuanM/Y2MxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBpbnRlcm5hbCBmcm9tIFwiLi9pbnRlcm5hbC9ldGFnLmpzXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnZlcnRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCB0b1N0cmluZyA9IGludGVybmFsLnRvU3RyaW5nO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgR2VuZXJhdG9yVHlwZUlkID0gaW50ZXJuYWwuR2VuZXJhdG9yVHlwZUlkO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0YWdzXG4gKi9cbmV4cG9ydCBjb25zdCBHZW5lcmF0b3IgPSBpbnRlcm5hbC50YWc7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGxheWVyc1xuICovXG5leHBvcnQgY29uc3QgbGF5ZXIgPSBpbnRlcm5hbC5sYXllcjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgbGF5ZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllcldlYWsgPSBpbnRlcm5hbC5sYXllcldlYWs7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdGFnLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/Etag.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/FileSystem.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/FileSystem.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileDescriptor: () => (/* binding */ FileDescriptor),\n/* harmony export */   FileSystem: () => (/* binding */ FileSystem),\n/* harmony export */   FileTypeId: () => (/* binding */ FileTypeId),\n/* harmony export */   GiB: () => (/* binding */ GiB),\n/* harmony export */   KiB: () => (/* binding */ KiB),\n/* harmony export */   MiB: () => (/* binding */ MiB),\n/* harmony export */   PiB: () => (/* binding */ PiB),\n/* harmony export */   Size: () => (/* binding */ Size),\n/* harmony export */   TiB: () => (/* binding */ TiB),\n/* harmony export */   WatchBackend: () => (/* binding */ WatchBackend),\n/* harmony export */   WatchEventCreate: () => (/* binding */ WatchEventCreate),\n/* harmony export */   WatchEventRemove: () => (/* binding */ WatchEventRemove),\n/* harmony export */   WatchEventUpdate: () => (/* binding */ WatchEventUpdate),\n/* harmony export */   isFile: () => (/* binding */ isFile),\n/* harmony export */   layerNoop: () => (/* binding */ layerNoop),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeNoop: () => (/* binding */ makeNoop)\n/* harmony export */ });\n/* harmony import */ var effect_Brand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Brand */ \"(rsc)/../../node_modules/effect/dist/esm/Brand.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Data */ \"(rsc)/../../node_modules/effect/dist/esm/Data.js\");\n/* harmony import */ var _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/fileSystem.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/fileSystem.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n/**\n * @since 1.0.0\n * @category sizes\n */\nconst Size = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.Size;\n/**\n * @since 1.0.0\n * @category sizes\n */\nconst KiB = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.KiB;\n/**\n * @since 1.0.0\n * @category sizes\n */\nconst MiB = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.MiB;\n/**\n * @since 1.0.0\n * @category sizes\n */\nconst GiB = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.GiB;\n/**\n * @since 1.0.0\n * @category sizes\n */\nconst TiB = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.TiB;\n/**\n * @since 1.0.0\n * @category sizes\n */\nconst PiB = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.PiB;\n/**\n * @since 1.0.0\n * @category tag\n */\nconst FileSystem = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.tag;\n/**\n * @since 1.0.0\n * @category constructor\n */\nconst make = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.make;\n/**\n * Create a no-op file system that can be used for testing.\n *\n * @since 1.0.0\n * @category constructor\n */\nconst makeNoop = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.makeNoop;\n/**\n * Create a no-op file system that can be used for testing.\n *\n * @since 1.0.0\n * @category layers\n */\nconst layerNoop = _internal_fileSystem_js__WEBPACK_IMPORTED_MODULE_0__.layerNoop;\n/**\n * @since 1.0.0\n * @category type id\n */\nconst FileTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/FileSystem/File\");\n/**\n * @since 1.0.0\n * @category guard\n */\nconst isFile = u => typeof u === \"object\" && u !== null && FileTypeId in u;\n/**\n * @since 1.0.0\n * @category constructor\n */\nconst FileDescriptor = /*#__PURE__*/effect_Brand__WEBPACK_IMPORTED_MODULE_1__.nominal();\n/**\n * @since 1.0.0\n * @category constructor\n */\nconst WatchEventCreate = /*#__PURE__*/effect_Data__WEBPACK_IMPORTED_MODULE_2__.tagged(\"Create\");\n/**\n * @since 1.0.0\n * @category constructor\n */\nconst WatchEventUpdate = /*#__PURE__*/effect_Data__WEBPACK_IMPORTED_MODULE_2__.tagged(\"Update\");\n/**\n * @since 1.0.0\n * @category constructor\n */\nconst WatchEventRemove = /*#__PURE__*/effect_Data__WEBPACK_IMPORTED_MODULE_2__.tagged(\"Remove\");\n/**\n * @since 1.0.0\n * @category file watcher\n */\nclass WatchBackend extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_3__.Tag(\"@effect/platform/FileSystem/WatchBackend\")() {}\n//# sourceMappingURL=FileSystem.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vRmlsZVN5c3RlbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDc0M7QUFDSTtBQUNOO0FBQ2lCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sYUFBYSx5REFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNPLFlBQVksd0RBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLHdEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ08sWUFBWSx3REFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNPLFlBQVksd0RBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLHdEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUJBQW1CLHdEQUFZO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sYUFBYSx5REFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQkFBaUIsNkRBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtCQUFrQiw4REFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQyxpREFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQywrQ0FBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQywrQ0FBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQywrQ0FBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdDQUF3QywrQ0FBVztBQUMxRCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9GaWxlU3lzdGVtLmpzPzVmNzciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuaW1wb3J0ICogYXMgQnJhbmQgZnJvbSBcImVmZmVjdC9CcmFuZFwiO1xuaW1wb3J0ICogYXMgQ29udGV4dCBmcm9tIFwiZWZmZWN0L0NvbnRleHRcIjtcbmltcG9ydCAqIGFzIERhdGEgZnJvbSBcImVmZmVjdC9EYXRhXCI7XG5pbXBvcnQgKiBhcyBpbnRlcm5hbCBmcm9tIFwiLi9pbnRlcm5hbC9maWxlU3lzdGVtLmpzXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHNpemVzXG4gKi9cbmV4cG9ydCBjb25zdCBTaXplID0gaW50ZXJuYWwuU2l6ZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2l6ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IEtpQiA9IGludGVybmFsLktpQjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2l6ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IE1pQiA9IGludGVybmFsLk1pQjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2l6ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IEdpQiA9IGludGVybmFsLkdpQjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2l6ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IFRpQiA9IGludGVybmFsLlRpQjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2l6ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IFBpQiA9IGludGVybmFsLlBpQjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdGFnXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlU3lzdGVtID0gaW50ZXJuYWwudGFnO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgbWFrZSA9IGludGVybmFsLm1ha2U7XG4vKipcbiAqIENyZWF0ZSBhIG5vLW9wIGZpbGUgc3lzdGVtIHRoYXQgY2FuIGJlIHVzZWQgZm9yIHRlc3RpbmcuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2VOb29wID0gaW50ZXJuYWwubWFrZU5vb3A7XG4vKipcbiAqIENyZWF0ZSBhIG5vLW9wIGZpbGUgc3lzdGVtIHRoYXQgY2FuIGJlIHVzZWQgZm9yIHRlc3RpbmcuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgbGF5ZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllck5vb3AgPSBpbnRlcm5hbC5sYXllck5vb3A7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqL1xuZXhwb3J0IGNvbnN0IEZpbGVUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vRmlsZVN5c3RlbS9GaWxlXCIpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBndWFyZFxuICovXG5leHBvcnQgY29uc3QgaXNGaWxlID0gdSA9PiB0eXBlb2YgdSA9PT0gXCJvYmplY3RcIiAmJiB1ICE9PSBudWxsICYmIEZpbGVUeXBlSWQgaW4gdTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IEZpbGVEZXNjcmlwdG9yID0gLyojX19QVVJFX18qL0JyYW5kLm5vbWluYWwoKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IFdhdGNoRXZlbnRDcmVhdGUgPSAvKiNfX1BVUkVfXyovRGF0YS50YWdnZWQoXCJDcmVhdGVcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBXYXRjaEV2ZW50VXBkYXRlID0gLyojX19QVVJFX18qL0RhdGEudGFnZ2VkKFwiVXBkYXRlXCIpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgV2F0Y2hFdmVudFJlbW92ZSA9IC8qI19fUFVSRV9fKi9EYXRhLnRhZ2dlZChcIlJlbW92ZVwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmlsZSB3YXRjaGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBXYXRjaEJhY2tlbmQgZXh0ZW5kcyAvKiNfX1BVUkVfXyovQ29udGV4dC5UYWcoXCJAZWZmZWN0L3BsYXRmb3JtL0ZpbGVTeXN0ZW0vV2F0Y2hCYWNrZW5kXCIpKCkge31cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbGVTeXN0ZW0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/FileSystem.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/Headers.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HeadersTypeId: () => (/* binding */ HeadersTypeId),\n/* harmony export */   currentRedactedNames: () => (/* binding */ currentRedactedNames),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   fromInput: () => (/* binding */ fromInput),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   isHeaders: () => (/* binding */ isHeaders),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   redact: () => (/* binding */ redact),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   schema: () => (/* binding */ schema),\n/* harmony export */   schemaFromSelf: () => (/* binding */ schemaFromSelf),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   setAll: () => (/* binding */ setAll),\n/* harmony export */   unsafeFromRecord: () => (/* binding */ unsafeFromRecord)\n/* harmony export */ });\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_FiberRefs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/FiberRefs */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRefs.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Record__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Record */ \"(rsc)/../../node_modules/effect/dist/esm/Record.js\");\n/* harmony import */ var effect_Redacted__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Redacted */ \"(rsc)/../../node_modules/effect/dist/esm/Redacted.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_String__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/String */ \"(rsc)/../../node_modules/effect/dist/esm/String.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst HeadersTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Headers\");\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isHeaders = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, HeadersTypeId);\nconst Proto = /*#__PURE__*/Object.assign( /*#__PURE__*/Object.create(null), {\n  [HeadersTypeId]: HeadersTypeId,\n  [effect_Inspectable__WEBPACK_IMPORTED_MODULE_1__.symbolRedactable](fiberRefs) {\n    return redact(this, effect_FiberRefs__WEBPACK_IMPORTED_MODULE_2__.getOrDefault(fiberRefs, currentRedactedNames));\n  }\n});\nconst make = input => Object.assign(Object.create(Proto), input);\n/**\n * @since 1.0.0\n * @category schemas\n */\nconst schemaFromSelf = /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_3__.declare(isHeaders, {\n  identifier: \"Headers\",\n  equivalence: () => effect_Record__WEBPACK_IMPORTED_MODULE_4__.getEquivalence(effect_String__WEBPACK_IMPORTED_MODULE_5__.Equivalence)\n});\n/**\n * @since 1.0.0\n * @category schemas\n */\nconst schema = /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_3__.transform( /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Record({\n  key: effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String,\n  value: /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Union(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String, /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_3__.Array(effect_Schema__WEBPACK_IMPORTED_MODULE_3__.String))\n}), schemaFromSelf, {\n  strict: true,\n  decode: record => fromInput(record),\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_6__.identity\n});\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst empty = /*#__PURE__*/Object.create(Proto);\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst fromInput = input => {\n  if (input === undefined) {\n    return empty;\n  } else if (Symbol.iterator in input) {\n    const out = Object.create(Proto);\n    for (const [k, v] of input) {\n      out[k.toLowerCase()] = v;\n    }\n    return out;\n  }\n  const out = Object.create(Proto);\n  for (const [k, v] of Object.entries(input)) {\n    if (Array.isArray(v)) {\n      out[k.toLowerCase()] = v.join(\", \");\n    } else if (v !== undefined) {\n      out[k.toLowerCase()] = v;\n    }\n  }\n  return out;\n};\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst unsafeFromRecord = input => Object.setPrototypeOf(input, Proto);\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst has = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, key) => key.toLowerCase() in self);\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst get = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, key) => effect_Record__WEBPACK_IMPORTED_MODULE_4__.get(self, key.toLowerCase()));\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst set = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(3, (self, key, value) => {\n  const out = make(self);\n  out[key.toLowerCase()] = value;\n  return out;\n});\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setAll = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, headers) => make({\n  ...self,\n  ...fromInput(headers)\n}));\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst merge = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, headers) => {\n  const out = make(self);\n  Object.assign(out, headers);\n  return out;\n});\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst remove = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, key) => {\n  const out = make(self);\n  delete out[key.toLowerCase()];\n  return out;\n});\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst redact = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, key) => {\n  const out = {\n    ...self\n  };\n  const modify = key => {\n    if (typeof key === \"string\") {\n      const k = key.toLowerCase();\n      if (k in self) {\n        out[k] = effect_Redacted__WEBPACK_IMPORTED_MODULE_7__.make(self[k]);\n      }\n    } else {\n      for (const name in self) {\n        if (key.test(name)) {\n          out[name] = effect_Redacted__WEBPACK_IMPORTED_MODULE_7__.make(self[name]);\n        }\n      }\n    }\n  };\n  if (Array.isArray(key)) {\n    for (let i = 0; i < key.length; i++) {\n      modify(key[i]);\n    }\n  } else {\n    modify(key);\n  }\n  return out;\n});\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst currentRedactedNames = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_8__.globalValue)(\"@effect/platform/Headers/currentRedactedNames\", () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_9__.unsafeMake([\"authorization\", \"cookie\", \"set-cookie\", \"x-api-key\"]));\n//# sourceMappingURL=Headers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSGVhZGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQzRDO0FBQ0U7QUFDRztBQUNBO0FBQ0s7QUFDUjtBQUNOO0FBQ0k7QUFDSjtBQUNBO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHVCQUF1Qix5REFBcUI7QUFDbkQ7QUFDQTtBQUNBLEdBQUcsZ0VBQWdCO0FBQ25CLHdCQUF3QiwwREFBc0I7QUFDOUM7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQyxrREFBYztBQUN6RDtBQUNBLHFCQUFxQix5REFBcUIsQ0FBQyxzREFBa0I7QUFDN0QsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLG9EQUFnQixlQUFlLGlEQUFhO0FBQy9FLE9BQU8saURBQWE7QUFDcEIsc0JBQXNCLGdEQUFZLENBQUMsaURBQWEsZUFBZSxnREFBWSxDQUFDLGlEQUFhO0FBQ3pGLENBQUM7QUFDRDtBQUNBO0FBQ0EsVUFBVSxxREFBUTtBQUNsQixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTyx5QkFBeUIscURBQUk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDTyx5QkFBeUIscURBQUksbUJBQW1CLDhDQUFVO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLHFEQUFJO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRCQUE0QixxREFBSTtBQUN2QztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLHFEQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRCQUE0QixxREFBSTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0QkFBNEIscURBQUk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsaURBQWE7QUFDOUI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLHNCQUFzQixpREFBYTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBDQUEwQywrREFBVyx3REFBd0QsdURBQW1CO0FBQ3ZJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL0hlYWRlcnMuanM/YjhkYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5pbXBvcnQgKiBhcyBGaWJlclJlZiBmcm9tIFwiZWZmZWN0L0ZpYmVyUmVmXCI7XG5pbXBvcnQgKiBhcyBGaWJlclJlZnMgZnJvbSBcImVmZmVjdC9GaWJlclJlZnNcIjtcbmltcG9ydCB7IGR1YWwsIGlkZW50aXR5IH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0IHsgZ2xvYmFsVmFsdWUgfSBmcm9tIFwiZWZmZWN0L0dsb2JhbFZhbHVlXCI7XG5pbXBvcnQgeyBzeW1ib2xSZWRhY3RhYmxlIH0gZnJvbSBcImVmZmVjdC9JbnNwZWN0YWJsZVwiO1xuaW1wb3J0ICogYXMgUHJlZGljYXRlIGZyb20gXCJlZmZlY3QvUHJlZGljYXRlXCI7XG5pbXBvcnQgKiBhcyBSZWNvcmQgZnJvbSBcImVmZmVjdC9SZWNvcmRcIjtcbmltcG9ydCAqIGFzIFJlZGFjdGVkIGZyb20gXCJlZmZlY3QvUmVkYWN0ZWRcIjtcbmltcG9ydCAqIGFzIFNjaGVtYSBmcm9tIFwiZWZmZWN0L1NjaGVtYVwiO1xuaW1wb3J0ICogYXMgU3RyaW5nIGZyb20gXCJlZmZlY3QvU3RyaW5nXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBIZWFkZXJzVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0hlYWRlcnNcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJlZmluZW1lbnRzXG4gKi9cbmV4cG9ydCBjb25zdCBpc0hlYWRlcnMgPSB1ID0+IFByZWRpY2F0ZS5oYXNQcm9wZXJ0eSh1LCBIZWFkZXJzVHlwZUlkKTtcbmNvbnN0IFByb3RvID0gLyojX19QVVJFX18qL09iamVjdC5hc3NpZ24oIC8qI19fUFVSRV9fKi9PYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gIFtIZWFkZXJzVHlwZUlkXTogSGVhZGVyc1R5cGVJZCxcbiAgW3N5bWJvbFJlZGFjdGFibGVdKGZpYmVyUmVmcykge1xuICAgIHJldHVybiByZWRhY3QodGhpcywgRmliZXJSZWZzLmdldE9yRGVmYXVsdChmaWJlclJlZnMsIGN1cnJlbnRSZWRhY3RlZE5hbWVzKSk7XG4gIH1cbn0pO1xuY29uc3QgbWFrZSA9IGlucHV0ID0+IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShQcm90byksIGlucHV0KTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hc1xuICovXG5leHBvcnQgY29uc3Qgc2NoZW1hRnJvbVNlbGYgPSAvKiNfX1BVUkVfXyovU2NoZW1hLmRlY2xhcmUoaXNIZWFkZXJzLCB7XG4gIGlkZW50aWZpZXI6IFwiSGVhZGVyc1wiLFxuICBlcXVpdmFsZW5jZTogKCkgPT4gUmVjb3JkLmdldEVxdWl2YWxlbmNlKFN0cmluZy5FcXVpdmFsZW5jZSlcbn0pO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBzY2hlbWFzXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWEgPSAvKiNfX1BVUkVfXyovU2NoZW1hLnRyYW5zZm9ybSggLyojX19QVVJFX18qL1NjaGVtYS5SZWNvcmQoe1xuICBrZXk6IFNjaGVtYS5TdHJpbmcsXG4gIHZhbHVlOiAvKiNfX1BVUkVfXyovU2NoZW1hLlVuaW9uKFNjaGVtYS5TdHJpbmcsIC8qI19fUFVSRV9fKi9TY2hlbWEuQXJyYXkoU2NoZW1hLlN0cmluZykpXG59KSwgc2NoZW1hRnJvbVNlbGYsIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IHJlY29yZCA9PiBmcm9tSW5wdXQocmVjb3JkKSxcbiAgZW5jb2RlOiBpZGVudGl0eVxufSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgZW1wdHkgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShQcm90byk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgZnJvbUlucHV0ID0gaW5wdXQgPT4ge1xuICBpZiAoaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBlbXB0eTtcbiAgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gaW5wdXQpIHtcbiAgICBjb25zdCBvdXQgPSBPYmplY3QuY3JlYXRlKFByb3RvKTtcbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBpbnB1dCkge1xuICAgICAgb3V0W2sudG9Mb3dlckNhc2UoKV0gPSB2O1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIGNvbnN0IG91dCA9IE9iamVjdC5jcmVhdGUoUHJvdG8pO1xuICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhpbnB1dCkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgb3V0W2sudG9Mb3dlckNhc2UoKV0gPSB2LmpvaW4oXCIsIFwiKTtcbiAgICB9IGVsc2UgaWYgKHYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3V0W2sudG9Mb3dlckNhc2UoKV0gPSB2O1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVGcm9tUmVjb3JkID0gaW5wdXQgPT4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGlucHV0LCBQcm90byk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBoYXMgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwga2V5KSA9PiBrZXkudG9Mb3dlckNhc2UoKSBpbiBzZWxmKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBrZXkpID0+IFJlY29yZC5nZXQoc2VsZiwga2V5LnRvTG93ZXJDYXNlKCkpKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldCA9IC8qI19fUFVSRV9fKi9kdWFsKDMsIChzZWxmLCBrZXksIHZhbHVlKSA9PiB7XG4gIGNvbnN0IG91dCA9IG1ha2Uoc2VsZik7XG4gIG91dFtrZXkudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG91dDtcbn0pO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2V0QWxsID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGhlYWRlcnMpID0+IG1ha2Uoe1xuICAuLi5zZWxmLFxuICAuLi5mcm9tSW5wdXQoaGVhZGVycylcbn0pKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1lcmdlID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGhlYWRlcnMpID0+IHtcbiAgY29uc3Qgb3V0ID0gbWFrZShzZWxmKTtcbiAgT2JqZWN0LmFzc2lnbihvdXQsIGhlYWRlcnMpO1xuICByZXR1cm4gb3V0O1xufSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmUgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwga2V5KSA9PiB7XG4gIGNvbnN0IG91dCA9IG1ha2Uoc2VsZik7XG4gIGRlbGV0ZSBvdXRba2V5LnRvTG93ZXJDYXNlKCldO1xuICByZXR1cm4gb3V0O1xufSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCByZWRhY3QgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwga2V5KSA9PiB7XG4gIGNvbnN0IG91dCA9IHtcbiAgICAuLi5zZWxmXG4gIH07XG4gIGNvbnN0IG1vZGlmeSA9IGtleSA9PiB7XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IGsgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChrIGluIHNlbGYpIHtcbiAgICAgICAgb3V0W2tdID0gUmVkYWN0ZWQubWFrZShzZWxmW2tdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIHNlbGYpIHtcbiAgICAgICAgaWYgKGtleS50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgb3V0W25hbWVdID0gUmVkYWN0ZWQubWFrZShzZWxmW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBtb2RpZnkoa2V5W2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbW9kaWZ5KGtleSk7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn0pO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBmaWJlciByZWZzXG4gKi9cbmV4cG9ydCBjb25zdCBjdXJyZW50UmVkYWN0ZWROYW1lcyA9IC8qI19fUFVSRV9fKi9nbG9iYWxWYWx1ZShcIkBlZmZlY3QvcGxhdGZvcm0vSGVhZGVycy9jdXJyZW50UmVkYWN0ZWROYW1lc1wiLCAoKSA9PiBGaWJlclJlZi51bnNhZmVNYWtlKFtcImF1dGhvcml6YXRpb25cIiwgXCJjb29raWVcIiwgXCJzZXQtY29va2llXCIsIFwieC1hcGkta2V5XCJdKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IZWFkZXJzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApi.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpApi.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdditionalSchemas: () => (/* binding */ AdditionalSchemas),\n/* harmony export */   Api: () => (/* binding */ Api),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   isHttpApi: () => (/* binding */ isHttpApi),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   reflect: () => (/* binding */ reflect)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Pipeable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Pipeable */ \"(rsc)/../../node_modules/effect/dist/esm/Pipeable.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Record__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Record */ \"(rsc)/../../node_modules/effect/dist/esm/Record.js\");\n/* harmony import */ var effect_SchemaAST__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/SchemaAST */ \"(rsc)/../../node_modules/effect/dist/esm/SchemaAST.js\");\n/* harmony import */ var _HttpApiError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./HttpApiError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiError.js\");\n/* harmony import */ var _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HttpApiSchema.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiSchema.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApi\");\n/**\n * @since 1.0.0\n * @category guards\n */\nconst isHttpApi = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, TypeId);\n/**\n * @since 1.0.0\n * @category tags\n */\nclass Api extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_1__.Tag(\"@effect/platform/HttpApi/Api\")() {}\nconst Proto = {\n  [TypeId]: TypeId,\n  pipe() {\n    return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_2__.pipeArguments)(this, arguments);\n  },\n  add(group) {\n    return makeProto({\n      identifier: this.identifier,\n      groups: effect_Record__WEBPACK_IMPORTED_MODULE_3__.set(this.groups, group.identifier, group),\n      errorSchema: this.errorSchema,\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  addHttpApi(api) {\n    const newGroups = {\n      ...this.groups\n    };\n    for (const key in api.groups) {\n      const newGroup = api.groups[key].annotateContext(effect_Context__WEBPACK_IMPORTED_MODULE_1__.empty());\n      newGroup.annotations = effect_Context__WEBPACK_IMPORTED_MODULE_1__.merge(api.annotations, newGroup.annotations);\n      newGroup.middlewares = new Set([...api.middlewares, ...newGroup.middlewares]);\n      newGroups[key] = newGroup;\n    }\n    return makeProto({\n      identifier: this.identifier,\n      groups: newGroups,\n      errorSchema: _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.UnionUnify(this.errorSchema, api.errorSchema),\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  addError(schema, annotations) {\n    return makeProto({\n      identifier: this.identifier,\n      groups: this.groups,\n      errorSchema: _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.UnionUnify(this.errorSchema, annotations?.status ? schema.annotations(_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.annotations({\n        status: annotations.status\n      })) : schema),\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  prefix(prefix) {\n    return makeProto({\n      identifier: this.identifier,\n      groups: effect_Record__WEBPACK_IMPORTED_MODULE_3__.map(this.groups, group => group.prefix(prefix)),\n      errorSchema: this.errorSchema,\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  middleware(tag) {\n    return makeProto({\n      identifier: this.identifier,\n      groups: this.groups,\n      errorSchema: _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.UnionUnify(this.errorSchema, tag.failure),\n      annotations: this.annotations,\n      middlewares: new Set([...this.middlewares, tag])\n    });\n  },\n  annotate(tag, value) {\n    return makeProto({\n      identifier: this.identifier,\n      groups: this.groups,\n      errorSchema: this.errorSchema,\n      annotations: effect_Context__WEBPACK_IMPORTED_MODULE_1__.add(this.annotations, tag, value),\n      middlewares: this.middlewares\n    });\n  },\n  annotateContext(context) {\n    return makeProto({\n      identifier: this.identifier,\n      groups: this.groups,\n      errorSchema: this.errorSchema,\n      annotations: effect_Context__WEBPACK_IMPORTED_MODULE_1__.merge(this.annotations, context),\n      middlewares: this.middlewares\n    });\n  }\n};\nconst makeProto = options => {\n  function HttpApi() {}\n  Object.setPrototypeOf(HttpApi, Proto);\n  HttpApi.groups = options.groups;\n  HttpApi.errorSchema = options.errorSchema;\n  HttpApi.annotations = options.annotations;\n  HttpApi.middlewares = options.middlewares;\n  return HttpApi;\n};\n/**\n * An `HttpApi` is a collection of `HttpApiEndpoint`s. You can use an `HttpApi` to\n * represent a portion of your domain.\n *\n * The endpoints can be implemented later using the `HttpApiBuilder.make` api.\n *\n * @since 1.0.0\n * @category constructors\n */\nconst make = identifier => makeProto({\n  identifier,\n  groups: new Map(),\n  errorSchema: _HttpApiError_js__WEBPACK_IMPORTED_MODULE_5__.HttpApiDecodeError,\n  annotations: effect_Context__WEBPACK_IMPORTED_MODULE_1__.empty(),\n  middlewares: new Set()\n});\n/**\n * Extract metadata from an `HttpApi`, which can be used to generate documentation\n * or other tooling.\n *\n * See the `OpenApi` & `HttpApiClient` modules for examples of how to use this function.\n *\n * @since 1.0.0\n * @category reflection\n */\nconst reflect = (self, options) => {\n  const apiErrors = extractMembers(self.errorSchema.ast, new Map(), _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.getStatusErrorAST);\n  const groups = Object.values(self.groups);\n  for (const group of groups) {\n    const groupErrors = extractMembers(group.errorSchema.ast, apiErrors, _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.getStatusErrorAST);\n    const groupAnnotations = effect_Context__WEBPACK_IMPORTED_MODULE_1__.merge(self.annotations, group.annotations);\n    options.onGroup({\n      group,\n      mergedAnnotations: groupAnnotations\n    });\n    const endpoints = Object.values(group.endpoints);\n    for (const endpoint of endpoints) {\n      if (options.predicate && !options.predicate({\n        endpoint,\n        group\n      })) continue;\n      const errors = extractMembers(endpoint.errorSchema.ast, groupErrors, _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.getStatusErrorAST);\n      options.onEndpoint({\n        group,\n        endpoint,\n        middleware: new Set([...group.middlewares, ...endpoint.middlewares]),\n        mergedAnnotations: effect_Context__WEBPACK_IMPORTED_MODULE_1__.merge(groupAnnotations, endpoint.annotations),\n        payloads: endpoint.payloadSchema._tag === \"Some\" ? extractPayloads(endpoint.payloadSchema.value.ast) : emptyMap,\n        successes: extractMembers(endpoint.successSchema.ast, new Map(), _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.getStatusSuccessAST),\n        errors\n      });\n    }\n  }\n};\n// -------------------------------------------------------------------------------------\nconst emptyMap = /*#__PURE__*/new Map();\nconst extractMembers = (ast, inherited, getStatus) => {\n  const members = new Map(inherited);\n  function process(type) {\n    if (effect_SchemaAST__WEBPACK_IMPORTED_MODULE_6__.isNeverKeyword(type)) {\n      return;\n    }\n    const annotations = _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.extractAnnotations(ast.annotations);\n    // Avoid changing the reference unless necessary\n    // Otherwise, deduplication of the ASTs below will not be possible\n    if (!effect_Record__WEBPACK_IMPORTED_MODULE_3__.isEmptyRecord(annotations)) {\n      type = effect_SchemaAST__WEBPACK_IMPORTED_MODULE_6__.annotations(type, {\n        ...annotations,\n        ...type.annotations\n      });\n    }\n    const status = getStatus(type);\n    const emptyDecodeable = _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.getEmptyDecodeable(type);\n    const current = members.get(status);\n    members.set(status, {\n      description: (current ? current.description : effect_Option__WEBPACK_IMPORTED_MODULE_7__.none()).pipe(effect_Option__WEBPACK_IMPORTED_MODULE_7__.orElse(() => getDescriptionOrIdentifier(type))),\n      ast: (current ? current.ast : effect_Option__WEBPACK_IMPORTED_MODULE_7__.none()).pipe(\n      // Deduplicate the ASTs\n      effect_Option__WEBPACK_IMPORTED_MODULE_7__.map(current => _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.UnionUnifyAST(current, type)), effect_Option__WEBPACK_IMPORTED_MODULE_7__.orElse(() => !emptyDecodeable && effect_SchemaAST__WEBPACK_IMPORTED_MODULE_6__.isVoidKeyword(effect_SchemaAST__WEBPACK_IMPORTED_MODULE_6__.encodedAST(type)) ? effect_Option__WEBPACK_IMPORTED_MODULE_7__.none() : effect_Option__WEBPACK_IMPORTED_MODULE_7__.some(type)))\n    });\n  }\n  _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.extractUnionTypes(ast).forEach(process);\n  return members;\n};\nconst extractPayloads = topAst => {\n  const members = new Map();\n  function process(ast) {\n    if (ast._tag === \"NeverKeyword\") {\n      return;\n    }\n    ast = effect_SchemaAST__WEBPACK_IMPORTED_MODULE_6__.annotations(ast, {\n      ..._HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.extractAnnotations(topAst.annotations),\n      ...ast.annotations\n    });\n    const encoding = _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.getEncoding(ast);\n    const contentType = _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_4__.getMultipart(ast) ? \"multipart/form-data\" : encoding.contentType;\n    const current = members.get(contentType);\n    if (current === undefined) {\n      members.set(contentType, {\n        encoding,\n        ast\n      });\n    } else {\n      current.ast = effect_SchemaAST__WEBPACK_IMPORTED_MODULE_6__.Union.make([current.ast, ast]);\n    }\n  }\n  if (topAst._tag === \"Union\") {\n    for (const type of topAst.types) {\n      process(type);\n    }\n  } else {\n    process(topAst);\n  }\n  return members;\n};\nconst getDescriptionOrIdentifier = ast => {\n  const annotations = \"to\" in ast ? {\n    ...ast.to.annotations,\n    ...ast.annotations\n  } : ast.annotations;\n  return effect_Option__WEBPACK_IMPORTED_MODULE_7__.fromNullable(annotations[effect_SchemaAST__WEBPACK_IMPORTED_MODULE_6__.DescriptionAnnotationId] ?? annotations[effect_SchemaAST__WEBPACK_IMPORTED_MODULE_6__.IdentifierAnnotationId]);\n};\n/**\n * Adds additional schemas to components/schemas.\n * The provided schemas must have a `identifier` annotation.\n *\n * @since 1.0.0\n * @category tags\n */\nclass AdditionalSchemas extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_1__.Tag(\"@effect/platform/HttpApi/AdditionalSchemas\")() {}\n//# sourceMappingURL=HttpApi.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUMwQztBQUNGO0FBQ1E7QUFDRjtBQUNOO0FBQ0E7QUFDZTtBQUNIO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHVCQUF1Qix5REFBcUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTywrQkFBK0IsK0NBQVc7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBYTtBQUN4QixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsY0FBYyw4Q0FBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsaURBQWE7QUFDcEUsNkJBQTZCLGlEQUFhO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5REFBd0I7QUFDM0M7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseURBQXdCLDREQUE0RCwwREFBeUI7QUFDaEk7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsY0FBYyw4Q0FBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlEQUF3QjtBQUMzQztBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtDQUFXO0FBQzlCO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlEQUFhO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGdFQUFrQjtBQUNqQyxlQUFlLGlEQUFhO0FBQzVCO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0VBQW9FLGdFQUErQjtBQUNuRztBQUNBO0FBQ0EseUVBQXlFLGdFQUErQjtBQUN4Ryw2QkFBNkIsaURBQWE7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsMkVBQTJFLGdFQUErQjtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpREFBYTtBQUN4QztBQUNBLHlFQUF5RSxrRUFBaUM7QUFDMUc7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQWtCO0FBQzFCO0FBQ0E7QUFDQSx3QkFBd0IsaUVBQWdDO0FBQ3hEO0FBQ0E7QUFDQSxTQUFTLHdEQUFvQjtBQUM3QixhQUFhLHlEQUFlO0FBQzVCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLDRCQUE0QixpRUFBZ0M7QUFDNUQ7QUFDQTtBQUNBLG9EQUFvRCwrQ0FBVyxTQUFTLGlEQUFhO0FBQ3JGLG9DQUFvQywrQ0FBVztBQUMvQztBQUNBLE1BQU0sOENBQVUsWUFBWSw0REFBMkIsa0JBQWtCLGlEQUFhLDJCQUEyQiwyREFBaUIsQ0FBQyx3REFBYyxVQUFVLCtDQUFXLEtBQUssK0NBQVc7QUFDdEwsS0FBSztBQUNMO0FBQ0EsRUFBRSxnRUFBK0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUseURBQWU7QUFDekIsU0FBUyxpRUFBZ0M7QUFDekM7QUFDQSxLQUFLO0FBQ0wscUJBQXFCLDBEQUF5QjtBQUM5Qyx3QkFBd0IsMkRBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOLG9CQUFvQixtREFBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixTQUFTLHVEQUFtQixhQUFhLHFFQUEyQixpQkFBaUIsb0VBQTBCO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2Q0FBNkMsK0NBQVc7QUFDL0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwaS5qcz83YmU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCB7IHBpcGVBcmd1bWVudHMgfSBmcm9tIFwiZWZmZWN0L1BpcGVhYmxlXCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIFJlY29yZCBmcm9tIFwiZWZmZWN0L1JlY29yZFwiO1xuaW1wb3J0ICogYXMgQVNUIGZyb20gXCJlZmZlY3QvU2NoZW1hQVNUXCI7XG5pbXBvcnQgeyBIdHRwQXBpRGVjb2RlRXJyb3IgfSBmcm9tIFwiLi9IdHRwQXBpRXJyb3IuanNcIjtcbmltcG9ydCAqIGFzIEh0dHBBcGlTY2hlbWEgZnJvbSBcIi4vSHR0cEFwaVNjaGVtYS5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBBcGlcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGd1YXJkc1xuICovXG5leHBvcnQgY29uc3QgaXNIdHRwQXBpID0gdSA9PiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgVHlwZUlkKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdGFnc1xuICovXG5leHBvcnQgY2xhc3MgQXBpIGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQXBpL0FwaVwiKSgpIHt9XG5jb25zdCBQcm90byA9IHtcbiAgW1R5cGVJZF06IFR5cGVJZCxcbiAgcGlwZSgpIHtcbiAgICByZXR1cm4gcGlwZUFyZ3VtZW50cyh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuICBhZGQoZ3JvdXApIHtcbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIGlkZW50aWZpZXI6IHRoaXMuaWRlbnRpZmllcixcbiAgICAgIGdyb3VwczogUmVjb3JkLnNldCh0aGlzLmdyb3VwcywgZ3JvdXAuaWRlbnRpZmllciwgZ3JvdXApLFxuICAgICAgZXJyb3JTY2hlbWE6IHRoaXMuZXJyb3JTY2hlbWEsXG4gICAgICBhbm5vdGF0aW9uczogdGhpcy5hbm5vdGF0aW9ucyxcbiAgICAgIG1pZGRsZXdhcmVzOiB0aGlzLm1pZGRsZXdhcmVzXG4gICAgfSk7XG4gIH0sXG4gIGFkZEh0dHBBcGkoYXBpKSB7XG4gICAgY29uc3QgbmV3R3JvdXBzID0ge1xuICAgICAgLi4udGhpcy5ncm91cHNcbiAgICB9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGFwaS5ncm91cHMpIHtcbiAgICAgIGNvbnN0IG5ld0dyb3VwID0gYXBpLmdyb3Vwc1trZXldLmFubm90YXRlQ29udGV4dChDb250ZXh0LmVtcHR5KCkpO1xuICAgICAgbmV3R3JvdXAuYW5ub3RhdGlvbnMgPSBDb250ZXh0Lm1lcmdlKGFwaS5hbm5vdGF0aW9ucywgbmV3R3JvdXAuYW5ub3RhdGlvbnMpO1xuICAgICAgbmV3R3JvdXAubWlkZGxld2FyZXMgPSBuZXcgU2V0KFsuLi5hcGkubWlkZGxld2FyZXMsIC4uLm5ld0dyb3VwLm1pZGRsZXdhcmVzXSk7XG4gICAgICBuZXdHcm91cHNba2V5XSA9IG5ld0dyb3VwO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIGlkZW50aWZpZXI6IHRoaXMuaWRlbnRpZmllcixcbiAgICAgIGdyb3VwczogbmV3R3JvdXBzLFxuICAgICAgZXJyb3JTY2hlbWE6IEh0dHBBcGlTY2hlbWEuVW5pb25VbmlmeSh0aGlzLmVycm9yU2NoZW1hLCBhcGkuZXJyb3JTY2hlbWEpLFxuICAgICAgYW5ub3RhdGlvbnM6IHRoaXMuYW5ub3RhdGlvbnMsXG4gICAgICBtaWRkbGV3YXJlczogdGhpcy5taWRkbGV3YXJlc1xuICAgIH0pO1xuICB9LFxuICBhZGRFcnJvcihzY2hlbWEsIGFubm90YXRpb25zKSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICBpZGVudGlmaWVyOiB0aGlzLmlkZW50aWZpZXIsXG4gICAgICBncm91cHM6IHRoaXMuZ3JvdXBzLFxuICAgICAgZXJyb3JTY2hlbWE6IEh0dHBBcGlTY2hlbWEuVW5pb25VbmlmeSh0aGlzLmVycm9yU2NoZW1hLCBhbm5vdGF0aW9ucz8uc3RhdHVzID8gc2NoZW1hLmFubm90YXRpb25zKEh0dHBBcGlTY2hlbWEuYW5ub3RhdGlvbnMoe1xuICAgICAgICBzdGF0dXM6IGFubm90YXRpb25zLnN0YXR1c1xuICAgICAgfSkpIDogc2NoZW1hKSxcbiAgICAgIGFubm90YXRpb25zOiB0aGlzLmFubm90YXRpb25zLFxuICAgICAgbWlkZGxld2FyZXM6IHRoaXMubWlkZGxld2FyZXNcbiAgICB9KTtcbiAgfSxcbiAgcHJlZml4KHByZWZpeCkge1xuICAgIHJldHVybiBtYWtlUHJvdG8oe1xuICAgICAgaWRlbnRpZmllcjogdGhpcy5pZGVudGlmaWVyLFxuICAgICAgZ3JvdXBzOiBSZWNvcmQubWFwKHRoaXMuZ3JvdXBzLCBncm91cCA9PiBncm91cC5wcmVmaXgocHJlZml4KSksXG4gICAgICBlcnJvclNjaGVtYTogdGhpcy5lcnJvclNjaGVtYSxcbiAgICAgIGFubm90YXRpb25zOiB0aGlzLmFubm90YXRpb25zLFxuICAgICAgbWlkZGxld2FyZXM6IHRoaXMubWlkZGxld2FyZXNcbiAgICB9KTtcbiAgfSxcbiAgbWlkZGxld2FyZSh0YWcpIHtcbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIGlkZW50aWZpZXI6IHRoaXMuaWRlbnRpZmllcixcbiAgICAgIGdyb3VwczogdGhpcy5ncm91cHMsXG4gICAgICBlcnJvclNjaGVtYTogSHR0cEFwaVNjaGVtYS5VbmlvblVuaWZ5KHRoaXMuZXJyb3JTY2hlbWEsIHRhZy5mYWlsdXJlKSxcbiAgICAgIGFubm90YXRpb25zOiB0aGlzLmFubm90YXRpb25zLFxuICAgICAgbWlkZGxld2FyZXM6IG5ldyBTZXQoWy4uLnRoaXMubWlkZGxld2FyZXMsIHRhZ10pXG4gICAgfSk7XG4gIH0sXG4gIGFubm90YXRlKHRhZywgdmFsdWUpIHtcbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIGlkZW50aWZpZXI6IHRoaXMuaWRlbnRpZmllcixcbiAgICAgIGdyb3VwczogdGhpcy5ncm91cHMsXG4gICAgICBlcnJvclNjaGVtYTogdGhpcy5lcnJvclNjaGVtYSxcbiAgICAgIGFubm90YXRpb25zOiBDb250ZXh0LmFkZCh0aGlzLmFubm90YXRpb25zLCB0YWcsIHZhbHVlKSxcbiAgICAgIG1pZGRsZXdhcmVzOiB0aGlzLm1pZGRsZXdhcmVzXG4gICAgfSk7XG4gIH0sXG4gIGFubm90YXRlQ29udGV4dChjb250ZXh0KSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICBpZGVudGlmaWVyOiB0aGlzLmlkZW50aWZpZXIsXG4gICAgICBncm91cHM6IHRoaXMuZ3JvdXBzLFxuICAgICAgZXJyb3JTY2hlbWE6IHRoaXMuZXJyb3JTY2hlbWEsXG4gICAgICBhbm5vdGF0aW9uczogQ29udGV4dC5tZXJnZSh0aGlzLmFubm90YXRpb25zLCBjb250ZXh0KSxcbiAgICAgIG1pZGRsZXdhcmVzOiB0aGlzLm1pZGRsZXdhcmVzXG4gICAgfSk7XG4gIH1cbn07XG5jb25zdCBtYWtlUHJvdG8gPSBvcHRpb25zID0+IHtcbiAgZnVuY3Rpb24gSHR0cEFwaSgpIHt9XG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihIdHRwQXBpLCBQcm90byk7XG4gIEh0dHBBcGkuZ3JvdXBzID0gb3B0aW9ucy5ncm91cHM7XG4gIEh0dHBBcGkuZXJyb3JTY2hlbWEgPSBvcHRpb25zLmVycm9yU2NoZW1hO1xuICBIdHRwQXBpLmFubm90YXRpb25zID0gb3B0aW9ucy5hbm5vdGF0aW9ucztcbiAgSHR0cEFwaS5taWRkbGV3YXJlcyA9IG9wdGlvbnMubWlkZGxld2FyZXM7XG4gIHJldHVybiBIdHRwQXBpO1xufTtcbi8qKlxuICogQW4gYEh0dHBBcGlgIGlzIGEgY29sbGVjdGlvbiBvZiBgSHR0cEFwaUVuZHBvaW50YHMuIFlvdSBjYW4gdXNlIGFuIGBIdHRwQXBpYCB0b1xuICogcmVwcmVzZW50IGEgcG9ydGlvbiBvZiB5b3VyIGRvbWFpbi5cbiAqXG4gKiBUaGUgZW5kcG9pbnRzIGNhbiBiZSBpbXBsZW1lbnRlZCBsYXRlciB1c2luZyB0aGUgYEh0dHBBcGlCdWlsZGVyLm1ha2VgIGFwaS5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBpZGVudGlmaWVyID0+IG1ha2VQcm90byh7XG4gIGlkZW50aWZpZXIsXG4gIGdyb3VwczogbmV3IE1hcCgpLFxuICBlcnJvclNjaGVtYTogSHR0cEFwaURlY29kZUVycm9yLFxuICBhbm5vdGF0aW9uczogQ29udGV4dC5lbXB0eSgpLFxuICBtaWRkbGV3YXJlczogbmV3IFNldCgpXG59KTtcbi8qKlxuICogRXh0cmFjdCBtZXRhZGF0YSBmcm9tIGFuIGBIdHRwQXBpYCwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgZG9jdW1lbnRhdGlvblxuICogb3Igb3RoZXIgdG9vbGluZy5cbiAqXG4gKiBTZWUgdGhlIGBPcGVuQXBpYCAmIGBIdHRwQXBpQ2xpZW50YCBtb2R1bGVzIGZvciBleGFtcGxlcyBvZiBob3cgdG8gdXNlIHRoaXMgZnVuY3Rpb24uXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcmVmbGVjdGlvblxuICovXG5leHBvcnQgY29uc3QgcmVmbGVjdCA9IChzZWxmLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGFwaUVycm9ycyA9IGV4dHJhY3RNZW1iZXJzKHNlbGYuZXJyb3JTY2hlbWEuYXN0LCBuZXcgTWFwKCksIEh0dHBBcGlTY2hlbWEuZ2V0U3RhdHVzRXJyb3JBU1QpO1xuICBjb25zdCBncm91cHMgPSBPYmplY3QudmFsdWVzKHNlbGYuZ3JvdXBzKTtcbiAgZm9yIChjb25zdCBncm91cCBvZiBncm91cHMpIHtcbiAgICBjb25zdCBncm91cEVycm9ycyA9IGV4dHJhY3RNZW1iZXJzKGdyb3VwLmVycm9yU2NoZW1hLmFzdCwgYXBpRXJyb3JzLCBIdHRwQXBpU2NoZW1hLmdldFN0YXR1c0Vycm9yQVNUKTtcbiAgICBjb25zdCBncm91cEFubm90YXRpb25zID0gQ29udGV4dC5tZXJnZShzZWxmLmFubm90YXRpb25zLCBncm91cC5hbm5vdGF0aW9ucyk7XG4gICAgb3B0aW9ucy5vbkdyb3VwKHtcbiAgICAgIGdyb3VwLFxuICAgICAgbWVyZ2VkQW5ub3RhdGlvbnM6IGdyb3VwQW5ub3RhdGlvbnNcbiAgICB9KTtcbiAgICBjb25zdCBlbmRwb2ludHMgPSBPYmplY3QudmFsdWVzKGdyb3VwLmVuZHBvaW50cyk7XG4gICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBlbmRwb2ludHMpIHtcbiAgICAgIGlmIChvcHRpb25zLnByZWRpY2F0ZSAmJiAhb3B0aW9ucy5wcmVkaWNhdGUoe1xuICAgICAgICBlbmRwb2ludCxcbiAgICAgICAgZ3JvdXBcbiAgICAgIH0pKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGVycm9ycyA9IGV4dHJhY3RNZW1iZXJzKGVuZHBvaW50LmVycm9yU2NoZW1hLmFzdCwgZ3JvdXBFcnJvcnMsIEh0dHBBcGlTY2hlbWEuZ2V0U3RhdHVzRXJyb3JBU1QpO1xuICAgICAgb3B0aW9ucy5vbkVuZHBvaW50KHtcbiAgICAgICAgZ3JvdXAsXG4gICAgICAgIGVuZHBvaW50LFxuICAgICAgICBtaWRkbGV3YXJlOiBuZXcgU2V0KFsuLi5ncm91cC5taWRkbGV3YXJlcywgLi4uZW5kcG9pbnQubWlkZGxld2FyZXNdKSxcbiAgICAgICAgbWVyZ2VkQW5ub3RhdGlvbnM6IENvbnRleHQubWVyZ2UoZ3JvdXBBbm5vdGF0aW9ucywgZW5kcG9pbnQuYW5ub3RhdGlvbnMpLFxuICAgICAgICBwYXlsb2FkczogZW5kcG9pbnQucGF5bG9hZFNjaGVtYS5fdGFnID09PSBcIlNvbWVcIiA/IGV4dHJhY3RQYXlsb2FkcyhlbmRwb2ludC5wYXlsb2FkU2NoZW1hLnZhbHVlLmFzdCkgOiBlbXB0eU1hcCxcbiAgICAgICAgc3VjY2Vzc2VzOiBleHRyYWN0TWVtYmVycyhlbmRwb2ludC5zdWNjZXNzU2NoZW1hLmFzdCwgbmV3IE1hcCgpLCBIdHRwQXBpU2NoZW1hLmdldFN0YXR1c1N1Y2Nlc3NBU1QpLFxuICAgICAgICBlcnJvcnNcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IGVtcHR5TWFwID0gLyojX19QVVJFX18qL25ldyBNYXAoKTtcbmNvbnN0IGV4dHJhY3RNZW1iZXJzID0gKGFzdCwgaW5oZXJpdGVkLCBnZXRTdGF0dXMpID0+IHtcbiAgY29uc3QgbWVtYmVycyA9IG5ldyBNYXAoaW5oZXJpdGVkKTtcbiAgZnVuY3Rpb24gcHJvY2Vzcyh0eXBlKSB7XG4gICAgaWYgKEFTVC5pc05ldmVyS2V5d29yZCh0eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IEh0dHBBcGlTY2hlbWEuZXh0cmFjdEFubm90YXRpb25zKGFzdC5hbm5vdGF0aW9ucyk7XG4gICAgLy8gQXZvaWQgY2hhbmdpbmcgdGhlIHJlZmVyZW5jZSB1bmxlc3MgbmVjZXNzYXJ5XG4gICAgLy8gT3RoZXJ3aXNlLCBkZWR1cGxpY2F0aW9uIG9mIHRoZSBBU1RzIGJlbG93IHdpbGwgbm90IGJlIHBvc3NpYmxlXG4gICAgaWYgKCFSZWNvcmQuaXNFbXB0eVJlY29yZChhbm5vdGF0aW9ucykpIHtcbiAgICAgIHR5cGUgPSBBU1QuYW5ub3RhdGlvbnModHlwZSwge1xuICAgICAgICAuLi5hbm5vdGF0aW9ucyxcbiAgICAgICAgLi4udHlwZS5hbm5vdGF0aW9uc1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHN0YXR1cyA9IGdldFN0YXR1cyh0eXBlKTtcbiAgICBjb25zdCBlbXB0eURlY29kZWFibGUgPSBIdHRwQXBpU2NoZW1hLmdldEVtcHR5RGVjb2RlYWJsZSh0eXBlKTtcbiAgICBjb25zdCBjdXJyZW50ID0gbWVtYmVycy5nZXQoc3RhdHVzKTtcbiAgICBtZW1iZXJzLnNldChzdGF0dXMsIHtcbiAgICAgIGRlc2NyaXB0aW9uOiAoY3VycmVudCA/IGN1cnJlbnQuZGVzY3JpcHRpb24gOiBPcHRpb24ubm9uZSgpKS5waXBlKE9wdGlvbi5vckVsc2UoKCkgPT4gZ2V0RGVzY3JpcHRpb25PcklkZW50aWZpZXIodHlwZSkpKSxcbiAgICAgIGFzdDogKGN1cnJlbnQgPyBjdXJyZW50LmFzdCA6IE9wdGlvbi5ub25lKCkpLnBpcGUoXG4gICAgICAvLyBEZWR1cGxpY2F0ZSB0aGUgQVNUc1xuICAgICAgT3B0aW9uLm1hcChjdXJyZW50ID0+IEh0dHBBcGlTY2hlbWEuVW5pb25VbmlmeUFTVChjdXJyZW50LCB0eXBlKSksIE9wdGlvbi5vckVsc2UoKCkgPT4gIWVtcHR5RGVjb2RlYWJsZSAmJiBBU1QuaXNWb2lkS2V5d29yZChBU1QuZW5jb2RlZEFTVCh0eXBlKSkgPyBPcHRpb24ubm9uZSgpIDogT3B0aW9uLnNvbWUodHlwZSkpKVxuICAgIH0pO1xuICB9XG4gIEh0dHBBcGlTY2hlbWEuZXh0cmFjdFVuaW9uVHlwZXMoYXN0KS5mb3JFYWNoKHByb2Nlc3MpO1xuICByZXR1cm4gbWVtYmVycztcbn07XG5jb25zdCBleHRyYWN0UGF5bG9hZHMgPSB0b3BBc3QgPT4ge1xuICBjb25zdCBtZW1iZXJzID0gbmV3IE1hcCgpO1xuICBmdW5jdGlvbiBwcm9jZXNzKGFzdCkge1xuICAgIGlmIChhc3QuX3RhZyA9PT0gXCJOZXZlcktleXdvcmRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhc3QgPSBBU1QuYW5ub3RhdGlvbnMoYXN0LCB7XG4gICAgICAuLi5IdHRwQXBpU2NoZW1hLmV4dHJhY3RBbm5vdGF0aW9ucyh0b3BBc3QuYW5ub3RhdGlvbnMpLFxuICAgICAgLi4uYXN0LmFubm90YXRpb25zXG4gICAgfSk7XG4gICAgY29uc3QgZW5jb2RpbmcgPSBIdHRwQXBpU2NoZW1hLmdldEVuY29kaW5nKGFzdCk7XG4gICAgY29uc3QgY29udGVudFR5cGUgPSBIdHRwQXBpU2NoZW1hLmdldE11bHRpcGFydChhc3QpID8gXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgOiBlbmNvZGluZy5jb250ZW50VHlwZTtcbiAgICBjb25zdCBjdXJyZW50ID0gbWVtYmVycy5nZXQoY29udGVudFR5cGUpO1xuICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1lbWJlcnMuc2V0KGNvbnRlbnRUeXBlLCB7XG4gICAgICAgIGVuY29kaW5nLFxuICAgICAgICBhc3RcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50LmFzdCA9IEFTVC5Vbmlvbi5tYWtlKFtjdXJyZW50LmFzdCwgYXN0XSk7XG4gICAgfVxuICB9XG4gIGlmICh0b3BBc3QuX3RhZyA9PT0gXCJVbmlvblwiKSB7XG4gICAgZm9yIChjb25zdCB0eXBlIG9mIHRvcEFzdC50eXBlcykge1xuICAgICAgcHJvY2Vzcyh0eXBlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcHJvY2Vzcyh0b3BBc3QpO1xuICB9XG4gIHJldHVybiBtZW1iZXJzO1xufTtcbmNvbnN0IGdldERlc2NyaXB0aW9uT3JJZGVudGlmaWVyID0gYXN0ID0+IHtcbiAgY29uc3QgYW5ub3RhdGlvbnMgPSBcInRvXCIgaW4gYXN0ID8ge1xuICAgIC4uLmFzdC50by5hbm5vdGF0aW9ucyxcbiAgICAuLi5hc3QuYW5ub3RhdGlvbnNcbiAgfSA6IGFzdC5hbm5vdGF0aW9ucztcbiAgcmV0dXJuIE9wdGlvbi5mcm9tTnVsbGFibGUoYW5ub3RhdGlvbnNbQVNULkRlc2NyaXB0aW9uQW5ub3RhdGlvbklkXSA/PyBhbm5vdGF0aW9uc1tBU1QuSWRlbnRpZmllckFubm90YXRpb25JZF0pO1xufTtcbi8qKlxuICogQWRkcyBhZGRpdGlvbmFsIHNjaGVtYXMgdG8gY29tcG9uZW50cy9zY2hlbWFzLlxuICogVGhlIHByb3ZpZGVkIHNjaGVtYXMgbXVzdCBoYXZlIGEgYGlkZW50aWZpZXJgIGFubm90YXRpb24uXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdGFnc1xuICovXG5leHBvcnQgY2xhc3MgQWRkaXRpb25hbFNjaGVtYXMgZXh0ZW5kcyAvKiNfX1BVUkVfXyovQ29udGV4dC5UYWcoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBBcGkvQWRkaXRpb25hbFNjaGVtYXNcIikoKSB7fVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHR0cEFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApi.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiBuilder.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpApiBuilder.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HandlersTypeId: () => (/* binding */ HandlersTypeId),\n/* harmony export */   Middleware: () => (/* binding */ Middleware),\n/* harmony export */   Router: () => (/* binding */ Router),\n/* harmony export */   api: () => (/* binding */ api),\n/* harmony export */   group: () => (/* binding */ group),\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   httpApp: () => (/* binding */ httpApp),\n/* harmony export */   middleware: () => (/* binding */ middleware),\n/* harmony export */   middlewareCors: () => (/* binding */ middlewareCors),\n/* harmony export */   middlewareOpenApi: () => (/* binding */ middlewareOpenApi),\n/* harmony export */   normalizeUrlParams: () => (/* binding */ normalizeUrlParams),\n/* harmony export */   securityDecode: () => (/* binding */ securityDecode),\n/* harmony export */   securitySetCookie: () => (/* binding */ securitySetCookie),\n/* harmony export */   serve: () => (/* binding */ serve),\n/* harmony export */   toWebHandler: () => (/* binding */ toWebHandler)\n/* harmony export */ });\n/* harmony import */ var effect_Cause__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Cause */ \"(rsc)/../../node_modules/effect/dist/esm/Cause.js\");\n/* harmony import */ var effect_Chunk__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! effect/Chunk */ \"(rsc)/../../node_modules/effect/dist/esm/Chunk.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Encoding__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! effect/Encoding */ \"(rsc)/../../node_modules/effect/dist/esm/Encoding.js\");\n/* harmony import */ var effect_Fiber__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! effect/Fiber */ \"(rsc)/../../node_modules/effect/dist/esm/Fiber.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_ManagedRuntime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/ManagedRuntime */ \"(rsc)/../../node_modules/effect/dist/esm/ManagedRuntime.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/ParseResult.js\");\n/* harmony import */ var effect_Pipeable__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Pipeable */ \"(rsc)/../../node_modules/effect/dist/esm/Pipeable.js\");\n/* harmony import */ var effect_Redacted__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! effect/Redacted */ \"(rsc)/../../node_modules/effect/dist/esm/Redacted.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_Unify__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! effect/Unify */ \"(rsc)/../../node_modules/effect/dist/esm/Unify.js\");\n/* harmony import */ var _HttpApi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HttpApi.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApi.js\");\n/* harmony import */ var _HttpApiError_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./HttpApiError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiError.js\");\n/* harmony import */ var _HttpApiMiddleware_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./HttpApiMiddleware.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiMiddleware.js\");\n/* harmony import */ var _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./HttpApiSchema.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiSchema.js\");\n/* harmony import */ var _HttpApp_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./HttpApp.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApp.js\");\n/* harmony import */ var _HttpMethod_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./HttpMethod.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpMethod.js\");\n/* harmony import */ var _HttpMiddleware_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./HttpMiddleware.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpMiddleware.js\");\n/* harmony import */ var _HttpRouter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HttpRouter.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpRouter.js\");\n/* harmony import */ var _HttpServer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HttpServer.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServer.js\");\n/* harmony import */ var _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./HttpServerRequest.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRequest.js\");\n/* harmony import */ var _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./HttpServerResponse.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerResponse.js\");\n/* harmony import */ var _OpenApi_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./OpenApi.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/OpenApi.js\");\n/* harmony import */ var _UrlParams_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./UrlParams.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * The router that the API endpoints are attached to.\n *\n * @since 1.0.0\n * @category router\n */\nclass Router extends /*#__PURE__*/_HttpRouter_js__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/HttpApiBuilder/Router\")() {}\n/**\n * Create a top-level `HttpApi` layer.\n *\n * @since 1.0.0\n * @category constructors\n */\nconst api = api => effect_Layer__WEBPACK_IMPORTED_MODULE_1__.effect(_HttpApi_js__WEBPACK_IMPORTED_MODULE_2__.Api, effect_Effect__WEBPACK_IMPORTED_MODULE_3__.map(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.context(), context => ({\n  api: api,\n  context\n})));\n/**\n * Build an `HttpApp` from an `HttpApi` instance, and serve it using an\n * `HttpServer`.\n *\n * Optionally, you can provide a middleware function that will be applied to\n * the `HttpApp` before serving.\n *\n * @since 1.0.0\n * @category constructors\n */\nconst serve = middleware => httpApp.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.map(app => _HttpServer_js__WEBPACK_IMPORTED_MODULE_4__.serve(app, middleware)), effect_Layer__WEBPACK_IMPORTED_MODULE_1__.unwrapEffect, effect_Layer__WEBPACK_IMPORTED_MODULE_1__.provide([Router.Live, Middleware.layer]));\n/**\n * Construct an `HttpApp` from an `HttpApi` instance.\n *\n * @since 1.0.0\n * @category constructors\n */\nconst httpApp = /*#__PURE__*/effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n  const {\n    api,\n    context\n  } = yield* _HttpApi_js__WEBPACK_IMPORTED_MODULE_2__.Api;\n  const middleware = makeMiddlewareMap(api.middlewares, context);\n  const router = applyMiddleware(middleware, yield* Router.router);\n  const apiMiddlewareService = yield* Middleware;\n  const apiMiddleware = yield* apiMiddlewareService.retrieve;\n  const errorSchema = makeErrorSchema(api);\n  const encodeError = effect_Schema__WEBPACK_IMPORTED_MODULE_5__.encodeUnknown(errorSchema);\n  return router.pipe(apiMiddleware, effect_Effect__WEBPACK_IMPORTED_MODULE_3__.catchAllCause(cause => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.matchEffect(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.provide(encodeError(effect_Cause__WEBPACK_IMPORTED_MODULE_6__.squash(cause)), context), {\n    onFailure: () => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.failCause(cause),\n    onSuccess: effect_Effect__WEBPACK_IMPORTED_MODULE_3__.succeed\n  })));\n});\n/**\n * Construct an http web handler from an `HttpApi` instance.\n *\n * @since 1.0.0\n * @category constructors\n * @example\n * ```ts\n * import { HttpApi, HttpApiBuilder, HttpServer } from \"@effect/platform\"\n * import { Layer } from \"effect\"\n *\n * class MyApi extends HttpApi.make(\"api\") {}\n *\n * const MyApiLive = HttpApiBuilder.api(MyApi)\n *\n * const { dispose, handler } = HttpApiBuilder.toWebHandler(\n *   Layer.mergeAll(\n *     MyApiLive,\n *     // you could also use NodeHttpServer.layerContext, depending on your\n *     // server's platform\n *     HttpServer.layerContext\n *   )\n * )\n * ```\n */\nconst toWebHandler = (layer, options) => {\n  const runtime = effect_ManagedRuntime__WEBPACK_IMPORTED_MODULE_7__.make(effect_Layer__WEBPACK_IMPORTED_MODULE_1__.mergeAll(layer, Router.Live, Middleware.layer), options?.memoMap);\n  let handlerCached;\n  const handlerPromise = effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n    const app = yield* httpApp;\n    const rt = yield* runtime.runtimeEffect;\n    const handler = _HttpApp_js__WEBPACK_IMPORTED_MODULE_8__.toWebHandlerRuntime(rt)(options?.middleware ? options.middleware(app) : app);\n    handlerCached = handler;\n    return handler;\n  }).pipe(runtime.runPromise);\n  function handler(request, context) {\n    if (handlerCached !== undefined) {\n      return handlerCached(request, context);\n    }\n    return handlerPromise.then(handler => handler(request, context));\n  }\n  return {\n    handler,\n    dispose: runtime.dispose\n  };\n};\n/**\n * @since 1.0.0\n * @category handlers\n */\nconst HandlersTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiBuilder/Handlers\");\nconst HandlersProto = {\n  [HandlersTypeId]: {\n    _Endpoints: effect_Function__WEBPACK_IMPORTED_MODULE_9__.identity\n  },\n  pipe() {\n    return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_10__.pipeArguments)(this, arguments);\n  },\n  handle(name, handler) {\n    const endpoint = this.group.endpoints[name];\n    return makeHandlers({\n      group: this.group,\n      handlers: effect_Chunk__WEBPACK_IMPORTED_MODULE_11__.append(this.handlers, {\n        endpoint,\n        handler,\n        withFullResponse: false\n      })\n    });\n  },\n  handleRaw(name, handler) {\n    const endpoint = this.group.endpoints[name];\n    return makeHandlers({\n      group: this.group,\n      handlers: effect_Chunk__WEBPACK_IMPORTED_MODULE_11__.append(this.handlers, {\n        endpoint,\n        handler,\n        withFullResponse: true\n      })\n    });\n  }\n};\nconst makeHandlers = options => {\n  const self = Object.create(HandlersProto);\n  self.group = options.group;\n  self.handlers = options.handlers;\n  return self;\n};\n/**\n * Create a `Layer` that will implement all the endpoints in an `HttpApi`.\n *\n * An unimplemented `Handlers` instance is passed to the `build` function, which\n * you can use to add handlers to the group.\n *\n * You can implement endpoints using the `handlers.handle` api.\n *\n * @since 1.0.0\n * @category handlers\n */\nconst group = (api, groupName, build) => Router.use(router => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n  const context = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_3__.context();\n  const group = api.groups[groupName];\n  const result = build(makeHandlers({\n    group,\n    handlers: effect_Chunk__WEBPACK_IMPORTED_MODULE_11__.empty()\n  }));\n  const handlers = effect_Effect__WEBPACK_IMPORTED_MODULE_3__.isEffect(result) ? yield* result : result;\n  const groupMiddleware = makeMiddlewareMap(group.middlewares, context);\n  const routes = [];\n  for (const item of handlers.handlers) {\n    const middleware = makeMiddlewareMap(item.endpoint.middlewares, context, groupMiddleware);\n    routes.push(handlerToRoute(item.endpoint, middleware, function (request) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.mapInputContext(item.handler(request), input => effect_Context__WEBPACK_IMPORTED_MODULE_12__.merge(context, input));\n    }, item.withFullResponse));\n  }\n  yield* router.concat(_HttpRouter_js__WEBPACK_IMPORTED_MODULE_0__.fromIterable(routes));\n}));\n/**\n * Create a `Handler` for a single endpoint.\n *\n * @since 1.0.0\n * @category handlers\n */\nconst handler = (_api, _groupName, _name, f) => f;\n// internal\nconst requestPayload = (request, urlParams) => {\n  if (!_HttpMethod_js__WEBPACK_IMPORTED_MODULE_13__.hasBody(request.method)) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.succeed(urlParams);\n  }\n  const contentType = request.headers[\"content-type\"] ? request.headers[\"content-type\"].toLowerCase().trim() : \"application/json\";\n  if (contentType.includes(\"application/json\")) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.orDie(request.json);\n  } else if (contentType.includes(\"multipart/form-data\")) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.orDie(request.multipart);\n  } else if (contentType.includes(\"x-www-form-urlencoded\")) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.map(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.orDie(request.urlParamsBody), _UrlParams_js__WEBPACK_IMPORTED_MODULE_14__.toRecord);\n  } else if (contentType.startsWith(\"text/\")) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.orDie(request.text);\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.map(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.orDie(request.arrayBuffer), buffer => new Uint8Array(buffer));\n};\nconst makeMiddlewareMap = (middleware, context, initial) => {\n  const map = new Map(initial);\n  middleware.forEach(tag => {\n    map.set(tag.key, {\n      tag,\n      effect: effect_Context__WEBPACK_IMPORTED_MODULE_12__.unsafeGet(context, tag)\n    });\n  });\n  return map;\n};\nfunction isSingleStringType(ast, key) {\n  switch (ast._tag) {\n    case \"StringKeyword\":\n    case \"Literal\":\n    case \"TemplateLiteral\":\n    case \"Enums\":\n      return true;\n    case \"TypeLiteral\":\n      {\n        if (key !== undefined) {\n          const ps = ast.propertySignatures.find(ps => ps.name === key);\n          return ps !== undefined ? isSingleStringType(ps.type, key) : ast.indexSignatures.some(is => effect_Schema__WEBPACK_IMPORTED_MODULE_15__.is(effect_Schema__WEBPACK_IMPORTED_MODULE_5__.make(is.parameter))(key) && isSingleStringType(is.type));\n        }\n        return false;\n      }\n    case \"Union\":\n      return ast.types.some(type => isSingleStringType(type, key));\n    case \"Suspend\":\n      return isSingleStringType(ast.f(), key);\n    case \"Refinement\":\n    case \"Transformation\":\n      return isSingleStringType(ast.from, key);\n  }\n  return false;\n}\n/**\n * Normalizes the url parameters so that if a key is expected to be an array,\n * a single string value is wrapped in an array.\n *\n * @internal\n */\nfunction normalizeUrlParams(params, ast) {\n  const out = {};\n  for (const key in params) {\n    const value = params[key];\n    out[key] = Array.isArray(value) || isSingleStringType(ast, key) ? value : [value];\n  }\n  return out;\n}\nconst handlerToRoute = (endpoint_, middleware, handler, isFullResponse) => {\n  const endpoint = endpoint_;\n  const decodePath = effect_Option__WEBPACK_IMPORTED_MODULE_16__.map(endpoint.pathSchema, effect_Schema__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown);\n  const decodePayload = effect_Option__WEBPACK_IMPORTED_MODULE_16__.map(endpoint.payloadSchema, effect_Schema__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown);\n  const decodeHeaders = effect_Option__WEBPACK_IMPORTED_MODULE_16__.map(endpoint.headersSchema, effect_Schema__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown);\n  const encodeSuccess = effect_Schema__WEBPACK_IMPORTED_MODULE_5__.encode(makeSuccessSchema(endpoint.successSchema));\n  return _HttpRouter_js__WEBPACK_IMPORTED_MODULE_0__.makeRoute(endpoint.method, endpoint.path, applyMiddleware(middleware, effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n    const fiber = effect_Option__WEBPACK_IMPORTED_MODULE_16__.getOrThrow(effect_Fiber__WEBPACK_IMPORTED_MODULE_17__.getCurrentFiber());\n    const context = fiber.currentContext;\n    const httpRequest = effect_Context__WEBPACK_IMPORTED_MODULE_12__.unsafeGet(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_18__.HttpServerRequest);\n    const routeContext = effect_Context__WEBPACK_IMPORTED_MODULE_12__.unsafeGet(context, _HttpRouter_js__WEBPACK_IMPORTED_MODULE_0__.RouteContext);\n    const urlParams = effect_Context__WEBPACK_IMPORTED_MODULE_12__.unsafeGet(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_18__.ParsedSearchParams);\n    const request = {};\n    if (decodePath._tag === \"Some\") {\n      request.path = yield* decodePath.value(routeContext.params);\n    }\n    if (decodePayload._tag === \"Some\") {\n      request.payload = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_3__.flatMap(requestPayload(httpRequest, urlParams), decodePayload.value);\n    }\n    if (decodeHeaders._tag === \"Some\") {\n      request.headers = yield* decodeHeaders.value(httpRequest.headers);\n    }\n    if (endpoint.urlParamsSchema._tag === \"Some\") {\n      const schema = endpoint.urlParamsSchema.value;\n      request.urlParams = yield* effect_Schema__WEBPACK_IMPORTED_MODULE_5__.decodeUnknown(schema)(normalizeUrlParams(urlParams, schema.ast));\n    }\n    const response = isFullResponse ? yield* handler(request) : yield* effect_Effect__WEBPACK_IMPORTED_MODULE_3__.flatMap(handler(request), encodeSuccess);\n    return response;\n  }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.catchIf(effect_Schema__WEBPACK_IMPORTED_MODULE_15__.isParseError, _HttpApiError_js__WEBPACK_IMPORTED_MODULE_19__.HttpApiDecodeError.refailParseError))));\n};\nconst applyMiddleware = (middleware, handler) => {\n  for (const entry of middleware.values()) {\n    const effect = _HttpApiMiddleware_js__WEBPACK_IMPORTED_MODULE_20__.SecurityTypeId in entry.tag ? makeSecurityMiddleware(entry) : entry.effect;\n    if (entry.tag.optional) {\n      const previous = handler;\n      handler = effect_Effect__WEBPACK_IMPORTED_MODULE_3__.matchEffect(effect, {\n        onFailure: () => previous,\n        onSuccess: entry.tag.provides !== undefined ? value => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.provideService(previous, entry.tag.provides, value) : _ => previous\n      });\n    } else {\n      handler = entry.tag.provides !== undefined ? effect_Effect__WEBPACK_IMPORTED_MODULE_3__.provideServiceEffect(handler, entry.tag.provides, effect) : effect_Effect__WEBPACK_IMPORTED_MODULE_3__.zipRight(effect, handler);\n    }\n  }\n  return handler;\n};\nconst securityMiddlewareCache = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_21__.globalValue)(\"securityMiddlewareCache\", () => new WeakMap());\nconst makeSecurityMiddleware = entry => {\n  if (securityMiddlewareCache.has(entry.tag)) {\n    return securityMiddlewareCache.get(entry.tag);\n  }\n  let effect;\n  for (const [key, security] of Object.entries(entry.tag.security)) {\n    const decode = securityDecode(security);\n    const handler = entry.effect[key];\n    const middleware = effect_Effect__WEBPACK_IMPORTED_MODULE_3__.flatMap(decode, handler);\n    effect = effect === undefined ? middleware : effect_Effect__WEBPACK_IMPORTED_MODULE_3__.catchAll(effect, () => middleware);\n  }\n  if (effect === undefined) {\n    effect = effect_Effect__WEBPACK_IMPORTED_MODULE_3__[\"void\"];\n  }\n  securityMiddlewareCache.set(entry.tag, effect);\n  return effect;\n};\nconst responseSchema = /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_5__.declare(_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_22__.isServerResponse);\nconst makeSuccessSchema = schema => {\n  const schemas = new Set();\n  _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_23__.deunionize(schemas, schema);\n  return effect_Schema__WEBPACK_IMPORTED_MODULE_5__.Union(...Array.from(schemas, toResponseSuccess));\n};\nconst makeErrorSchema = api => {\n  const schemas = new Set();\n  _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_23__.deunionize(schemas, api.errorSchema);\n  for (const group of Object.values(api.groups)) {\n    for (const endpoint of Object.values(group.endpoints)) {\n      _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_23__.deunionize(schemas, endpoint.errorSchema);\n    }\n    _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_23__.deunionize(schemas, group.errorSchema);\n  }\n  return effect_Schema__WEBPACK_IMPORTED_MODULE_5__.Union(...Array.from(schemas, toResponseError));\n};\nconst decodeForbidden = (_, __, ast) => effect_Schema__WEBPACK_IMPORTED_MODULE_15__.fail(new effect_Schema__WEBPACK_IMPORTED_MODULE_15__.Forbidden(ast, _, \"Encode only schema\"));\nconst toResponseSchema = getStatus => {\n  const cache = new WeakMap();\n  const schemaToResponse = (data, _, ast) => {\n    const isEmpty = _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_23__.isVoid(ast.to);\n    const status = getStatus(ast.to);\n    if (isEmpty) {\n      return _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_22__.empty({\n        status\n      });\n    }\n    const encoding = _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_23__.getEncoding(ast.to);\n    switch (encoding.kind) {\n      case \"Json\":\n        {\n          return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.mapError(_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_22__.json(data, {\n            status,\n            contentType: encoding.contentType\n          }), error => new effect_Schema__WEBPACK_IMPORTED_MODULE_15__.Type(ast, error, \"Could not encode to JSON\"));\n        }\n      case \"Text\":\n        {\n          return effect_Schema__WEBPACK_IMPORTED_MODULE_15__.succeed(_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_22__.text(data, {\n            status,\n            contentType: encoding.contentType\n          }));\n        }\n      case \"Uint8Array\":\n        {\n          return effect_Schema__WEBPACK_IMPORTED_MODULE_15__.succeed(_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_22__.uint8Array(data, {\n            status,\n            contentType: encoding.contentType\n          }));\n        }\n      case \"UrlParams\":\n        {\n          return effect_Schema__WEBPACK_IMPORTED_MODULE_15__.succeed(_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_22__.urlParams(data, {\n            status,\n            contentType: encoding.contentType\n          }));\n        }\n    }\n  };\n  return schema => {\n    if (cache.has(schema.ast)) {\n      return cache.get(schema.ast);\n    }\n    const transform = effect_Schema__WEBPACK_IMPORTED_MODULE_5__.transformOrFail(responseSchema, schema, {\n      decode: decodeForbidden,\n      encode: schemaToResponse\n    });\n    cache.set(transform.ast, transform);\n    return transform;\n  };\n};\nconst toResponseSuccess = /*#__PURE__*/toResponseSchema(_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_23__.getStatusSuccessAST);\nconst toResponseError = /*#__PURE__*/toResponseSchema(_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_23__.getStatusErrorAST);\n// ----------------------------------------------------------------------------\n// Global middleware\n// ----------------------------------------------------------------------------\n/**\n * @since 1.0.0\n * @category middleware\n */\nclass Middleware extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_12__.Tag(\"@effect/platform/HttpApiBuilder/Middleware\")() {\n  /**\n   * @since 1.0.0\n   */\n  static layer = /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_1__.sync(Middleware, () => {\n    let middleware = effect_Function__WEBPACK_IMPORTED_MODULE_9__.identity;\n    return Middleware.of({\n      add: f => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.sync(() => {\n        const prev = middleware;\n        middleware = app => f(prev(app));\n      }),\n      retrieve: effect_Effect__WEBPACK_IMPORTED_MODULE_3__.sync(() => middleware)\n    });\n  });\n}\nconst middlewareAdd = middleware => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n  const context = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_3__.context();\n  const service = yield* Middleware;\n  yield* service.add(httpApp => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.mapInputContext(middleware(httpApp), input => effect_Context__WEBPACK_IMPORTED_MODULE_12__.merge(context, input)));\n});\nconst middlewareAddNoContext = middleware => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n  const service = yield* Middleware;\n  yield* service.add(middleware);\n});\n/**\n * Create an `HttpApi` level middleware `Layer`.\n *\n * @since 1.0.0\n * @category middleware\n */\nconst middleware = (...args) => {\n  const apiFirst = _HttpApi_js__WEBPACK_IMPORTED_MODULE_2__.isHttpApi(args[0]);\n  const withContext = apiFirst ? args[2]?.withContext === true : args[1]?.withContext === true;\n  const add = withContext ? middlewareAdd : middlewareAddNoContext;\n  const middleware = apiFirst ? args[1] : args[0];\n  return (effect_Effect__WEBPACK_IMPORTED_MODULE_3__.isEffect(middleware) ? effect_Layer__WEBPACK_IMPORTED_MODULE_1__.scopedDiscard(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.flatMap(middleware, add)) : effect_Layer__WEBPACK_IMPORTED_MODULE_1__.scopedDiscard(add(middleware))).pipe(effect_Layer__WEBPACK_IMPORTED_MODULE_1__.provide(Middleware.layer));\n};\n/**\n * A CORS middleware layer that can be provided to the `HttpApiBuilder.serve` layer.\n *\n * @since 1.0.0\n * @category middleware\n */\nconst middlewareCors = options => middleware(_HttpMiddleware_js__WEBPACK_IMPORTED_MODULE_24__.cors(options));\n/**\n * A middleware that adds an openapi.json endpoint to the API.\n *\n * @since 1.0.0\n * @category middleware\n */\nconst middlewareOpenApi = options => Router.use(router => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n  const {\n    api\n  } = yield* _HttpApi_js__WEBPACK_IMPORTED_MODULE_2__.Api;\n  const spec = _OpenApi_js__WEBPACK_IMPORTED_MODULE_25__.fromApi(api);\n  const response = yield* _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_22__.json(spec).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.orDie);\n  yield* router.get(options?.path ?? \"/openapi.json\", effect_Effect__WEBPACK_IMPORTED_MODULE_3__.succeed(response));\n}));\nconst bearerLen = `Bearer `.length;\nconst basicLen = `Basic `.length;\n/**\n * @since 1.0.0\n * @category security\n */\nconst securityDecode = self => {\n  switch (self._tag) {\n    case \"Bearer\":\n      {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.map(_HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_18__.HttpServerRequest, request => effect_Redacted__WEBPACK_IMPORTED_MODULE_26__.make((request.headers.authorization ?? \"\").slice(bearerLen)));\n      }\n    case \"ApiKey\":\n      {\n        const key = self.in === \"header\" ? self.key.toLowerCase() : self.key;\n        const schema = effect_Schema__WEBPACK_IMPORTED_MODULE_5__.Struct({\n          [key]: effect_Schema__WEBPACK_IMPORTED_MODULE_5__.String\n        });\n        const decode = (0,effect_Unify__WEBPACK_IMPORTED_MODULE_27__.unify)(self.in === \"query\" ? _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_18__.schemaSearchParams(schema) : self.in === \"cookie\" ? _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_18__.schemaCookies(schema) : _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_18__.schemaHeaders(schema));\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.match(decode, {\n          onFailure: () => effect_Redacted__WEBPACK_IMPORTED_MODULE_26__.make(\"\"),\n          onSuccess: match => effect_Redacted__WEBPACK_IMPORTED_MODULE_26__.make(match[key])\n        });\n      }\n    case \"Basic\":\n      {\n        const empty = {\n          username: \"\",\n          password: effect_Redacted__WEBPACK_IMPORTED_MODULE_26__.make(\"\")\n        };\n        return _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_18__.HttpServerRequest.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.flatMap(request => effect_Encoding__WEBPACK_IMPORTED_MODULE_28__.decodeBase64String((request.headers.authorization ?? \"\").slice(basicLen))), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.match({\n          onFailure: () => empty,\n          onSuccess: header => {\n            const parts = header.split(\":\");\n            if (parts.length !== 2) {\n              return empty;\n            }\n            return {\n              username: parts[0],\n              password: effect_Redacted__WEBPACK_IMPORTED_MODULE_26__.make(parts[1])\n            };\n          }\n        }));\n      }\n  }\n};\n/**\n * Set a cookie from an `HttpApiSecurity.HttpApiKey` instance.\n *\n * You can use this api before returning a response from an endpoint handler.\n *\n * ```ts\n * handlers.handle(\n *   \"authenticate\",\n *   (_) => HttpApiBuilder.securitySetCookie(security, \"secret123\")\n * )\n * ```\n *\n * @since 1.0.0\n * @category middleware\n */\nconst securitySetCookie = (self, value, options) => {\n  const stringValue = typeof value === \"string\" ? value : effect_Redacted__WEBPACK_IMPORTED_MODULE_26__.value(value);\n  return _HttpApp_js__WEBPACK_IMPORTED_MODULE_8__.appendPreResponseHandler((_req, response) => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.orDie(_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_22__.setCookie(response, self.key, stringValue, {\n    secure: true,\n    httpOnly: true,\n    ...options\n  })));\n};\n//# sourceMappingURL=HttpApiBuilder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwaUJ1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDc0M7QUFDQTtBQUNJO0FBQ0Y7QUFDSTtBQUNOO0FBQ0s7QUFDTTtBQUNYO0FBQ2tCO0FBQ2hCO0FBQ1U7QUFDRjtBQUNKO0FBQ0o7QUFDSDtBQUNHO0FBQ2U7QUFDSztBQUNSO0FBQ1o7QUFDTTtBQUNRO0FBQ1I7QUFDQTtBQUNjO0FBQ0U7QUFDdEI7QUFDSTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQ0FBa0MsK0NBQWM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUJBQW1CLGdEQUFZLENBQUMsNENBQVcsRUFBRSw4Q0FBVSxDQUFDLGtEQUFjO0FBQzdFO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx5Q0FBeUMsOENBQVUsUUFBUSxpREFBZ0Isb0JBQW9CLHNEQUFrQixFQUFFLGlEQUFhO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDZCQUE2Qiw4Q0FBVTtBQUM5QztBQUNBO0FBQ0E7QUFDQSxJQUFJLFNBQVMsNENBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3REFBb0I7QUFDMUMsb0NBQW9DLHdEQUFvQixVQUFVLHNEQUFrQixDQUFDLGtEQUFjLGFBQWEsZ0RBQVk7QUFDNUgscUJBQXFCLG9EQUFnQjtBQUNyQyxlQUFlLGtEQUFjO0FBQzdCLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNDQUFzQztBQUNsRCxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0JBQWtCLHVEQUFtQixDQUFDLGtEQUFjO0FBQ3BEO0FBQ0EseUJBQXlCLDhDQUFVO0FBQ25DO0FBQ0E7QUFDQSxvQkFBb0IsNERBQTJCO0FBQy9DO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFRO0FBQ3hCLEdBQUc7QUFDSDtBQUNBLFdBQVcsK0RBQWE7QUFDeEIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlEQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlEQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4REFBOEQsOENBQVU7QUFDL0UseUJBQXlCLGtEQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0RBQVc7QUFDekIsR0FBRztBQUNILG1CQUFtQixtREFBZTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwwREFBc0IsaUNBQWlDLGtEQUFhO0FBQ2pGLEtBQUs7QUFDTDtBQUNBLHVCQUF1Qix3REFBdUI7QUFDOUMsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLE9BQU8sb0RBQWtCO0FBQ3pCLFdBQVcsa0RBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnREFBWTtBQUN2QixJQUFJO0FBQ0osV0FBVyxnREFBWTtBQUN2QixJQUFJO0FBQ0osV0FBVyw4Q0FBVSxDQUFDLGdEQUFZLHlCQUF5QixvREFBa0I7QUFDN0UsSUFBSTtBQUNKLFdBQVcsZ0RBQVk7QUFDdkI7QUFDQSxTQUFTLDhDQUFVLENBQUMsZ0RBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzREFBaUI7QUFDL0IsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyw4Q0FBUyxDQUFDLCtDQUFXO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0NBQVUsc0JBQXNCLHdEQUFvQjtBQUN6RSx3QkFBd0IsK0NBQVUseUJBQXlCLHdEQUFvQjtBQUMvRSx3QkFBd0IsK0NBQVUseUJBQXlCLHdEQUFvQjtBQUMvRSx3QkFBd0IsaURBQWE7QUFDckMsU0FBUyxxREFBb0IsNkRBQTZELDhDQUFVO0FBQ3BHLGtCQUFrQixzREFBaUIsQ0FBQywwREFBcUI7QUFDekQ7QUFDQSx3QkFBd0Isc0RBQWlCLFVBQVUscUVBQW1DO0FBQ3RGLHlCQUF5QixzREFBaUIsVUFBVSx3REFBdUI7QUFDM0Usc0JBQXNCLHNEQUFpQixVQUFVLHNFQUFvQztBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGtEQUFjO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx3REFBb0I7QUFDckQ7QUFDQSx1RUFBdUUsa0RBQWM7QUFDckY7QUFDQSxHQUFHLE9BQU8sa0RBQWMsQ0FBQyx3REFBd0IsRUFBRSxpRUFBa0I7QUFDckU7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtFQUFnQztBQUNuRDtBQUNBO0FBQ0EsZ0JBQWdCLHNEQUFrQjtBQUNsQztBQUNBLCtEQUErRCx5REFBcUI7QUFDcEYsT0FBTztBQUNQLE1BQU07QUFDTixtREFBbUQsK0RBQTJCLHdDQUF3QyxtREFBZTtBQUNySTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxnRUFBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFjO0FBQ3JDLGlEQUFpRCxtREFBZTtBQUNoRTtBQUNBO0FBQ0EsYUFBYSxrREFBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrREFBYyxDQUFDLHFFQUFtQztBQUN0RjtBQUNBO0FBQ0EsRUFBRSwwREFBd0I7QUFDMUIsU0FBUyxnREFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxFQUFFLDBEQUF3QjtBQUMxQjtBQUNBO0FBQ0EsTUFBTSwwREFBd0I7QUFDOUI7QUFDQSxJQUFJLDBEQUF3QjtBQUM1QjtBQUNBLFNBQVMsZ0RBQVk7QUFDckI7QUFDQSx3Q0FBd0MsZ0RBQWdCLEtBQUsscURBQXFCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBb0I7QUFDeEM7QUFDQTtBQUNBLGFBQWEsMERBQXdCO0FBQ3JDO0FBQ0EsT0FBTztBQUNQO0FBQ0EscUJBQXFCLDJEQUF5QjtBQUM5QztBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbURBQWUsQ0FBQyx5REFBdUI7QUFDeEQ7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCLGdEQUFnQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbURBQW1CLENBQUMseURBQXVCO0FBQzVEO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1EQUFtQixDQUFDLCtEQUE2QjtBQUNsRTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtREFBbUIsQ0FBQyw4REFBNEI7QUFDakU7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwREFBc0I7QUFDNUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxtRUFBaUM7QUFDekYsc0RBQXNELGlFQUErQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQyxnREFBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsOENBQVU7QUFDeEMscUJBQXFCLHFEQUFRO0FBQzdCO0FBQ0EsZ0JBQWdCLCtDQUFXO0FBQzNCO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsZ0JBQWdCLCtDQUFXO0FBQzNCLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MsOENBQVU7QUFDOUMseUJBQXlCLGtEQUFjO0FBQ3ZDO0FBQ0EsZ0NBQWdDLDBEQUFzQiwrQkFBK0Isa0RBQWE7QUFDbEcsQ0FBQztBQUNELDZDQUE2Qyw4Q0FBVTtBQUN2RDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsbUJBQW1CLGtEQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQSxVQUFVLG1EQUFlLGVBQWUsdURBQW1CLENBQUMsa0RBQWMscUJBQXFCLHVEQUFtQix3QkFBd0IsaURBQWE7QUFDdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2Q0FBNkMscURBQW1CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBEQUEwRCw4Q0FBVTtBQUMzRTtBQUNBO0FBQ0EsSUFBSSxTQUFTLDRDQUFXO0FBQ3hCLGVBQWUsaURBQWU7QUFDOUIsMEJBQTBCLHlEQUF1QixZQUFZLGdEQUFZO0FBQ3pFLHNEQUFzRCxrREFBYztBQUNwRSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhDQUFVLENBQUMscUVBQW1DLGFBQWEsa0RBQWE7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaURBQWE7QUFDcEMsaUJBQWlCLGlEQUFhO0FBQzlCLFNBQVM7QUFDVCx1QkFBdUIsb0RBQUssdUJBQXVCLHNFQUFvQyxrQ0FBa0MsaUVBQStCLFdBQVcsaUVBQStCO0FBQ2xNLGVBQWUsZ0RBQVk7QUFDM0IsMkJBQTJCLGtEQUFhO0FBQ3hDLDhCQUE4QixrREFBYTtBQUMzQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrREFBYTtBQUNqQztBQUNBLGVBQWUscUVBQW1DLE1BQU0sa0RBQWMsWUFBWSxnRUFBMkIsMERBQTBELGdEQUFZO0FBQ25MO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQWE7QUFDckM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDBEQUEwRCxtREFBYztBQUN4RSxTQUFTLGlFQUFnQyxxQkFBcUIsZ0RBQVksQ0FBQyw4REFBNEI7QUFDdkc7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwaUJ1aWxkZXIuanM/NmE2YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5pbXBvcnQgKiBhcyBDYXVzZSBmcm9tIFwiZWZmZWN0L0NhdXNlXCI7XG5pbXBvcnQgKiBhcyBDaHVuayBmcm9tIFwiZWZmZWN0L0NodW5rXCI7XG5pbXBvcnQgKiBhcyBDb250ZXh0IGZyb20gXCJlZmZlY3QvQ29udGV4dFwiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgKiBhcyBFbmNvZGluZyBmcm9tIFwiZWZmZWN0L0VuY29kaW5nXCI7XG5pbXBvcnQgKiBhcyBGaWJlciBmcm9tIFwiZWZmZWN0L0ZpYmVyXCI7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIjtcbmltcG9ydCB7IGdsb2JhbFZhbHVlIH0gZnJvbSBcImVmZmVjdC9HbG9iYWxWYWx1ZVwiO1xuaW1wb3J0ICogYXMgTGF5ZXIgZnJvbSBcImVmZmVjdC9MYXllclwiO1xuaW1wb3J0ICogYXMgTWFuYWdlZFJ1bnRpbWUgZnJvbSBcImVmZmVjdC9NYW5hZ2VkUnVudGltZVwiO1xuaW1wb3J0ICogYXMgT3B0aW9uIGZyb20gXCJlZmZlY3QvT3B0aW9uXCI7XG5pbXBvcnQgKiBhcyBQYXJzZVJlc3VsdCBmcm9tIFwiZWZmZWN0L1BhcnNlUmVzdWx0XCI7XG5pbXBvcnQgeyBwaXBlQXJndW1lbnRzIH0gZnJvbSBcImVmZmVjdC9QaXBlYWJsZVwiO1xuaW1wb3J0ICogYXMgUmVkYWN0ZWQgZnJvbSBcImVmZmVjdC9SZWRhY3RlZFwiO1xuaW1wb3J0ICogYXMgU2NoZW1hIGZyb20gXCJlZmZlY3QvU2NoZW1hXCI7XG5pbXBvcnQgeyB1bmlmeSB9IGZyb20gXCJlZmZlY3QvVW5pZnlcIjtcbmltcG9ydCAqIGFzIEh0dHBBcGkgZnJvbSBcIi4vSHR0cEFwaS5qc1wiO1xuaW1wb3J0IHsgSHR0cEFwaURlY29kZUVycm9yIH0gZnJvbSBcIi4vSHR0cEFwaUVycm9yLmpzXCI7XG5pbXBvcnQgKiBhcyBIdHRwQXBpTWlkZGxld2FyZSBmcm9tIFwiLi9IdHRwQXBpTWlkZGxld2FyZS5qc1wiO1xuaW1wb3J0ICogYXMgSHR0cEFwaVNjaGVtYSBmcm9tIFwiLi9IdHRwQXBpU2NoZW1hLmpzXCI7XG5pbXBvcnQgKiBhcyBIdHRwQXBwIGZyb20gXCIuL0h0dHBBcHAuanNcIjtcbmltcG9ydCAqIGFzIEh0dHBNZXRob2QgZnJvbSBcIi4vSHR0cE1ldGhvZC5qc1wiO1xuaW1wb3J0ICogYXMgSHR0cE1pZGRsZXdhcmUgZnJvbSBcIi4vSHR0cE1pZGRsZXdhcmUuanNcIjtcbmltcG9ydCAqIGFzIEh0dHBSb3V0ZXIgZnJvbSBcIi4vSHR0cFJvdXRlci5qc1wiO1xuaW1wb3J0ICogYXMgSHR0cFNlcnZlciBmcm9tIFwiLi9IdHRwU2VydmVyLmpzXCI7XG5pbXBvcnQgKiBhcyBIdHRwU2VydmVyUmVxdWVzdCBmcm9tIFwiLi9IdHRwU2VydmVyUmVxdWVzdC5qc1wiO1xuaW1wb3J0ICogYXMgSHR0cFNlcnZlclJlc3BvbnNlIGZyb20gXCIuL0h0dHBTZXJ2ZXJSZXNwb25zZS5qc1wiO1xuaW1wb3J0ICogYXMgT3BlbkFwaSBmcm9tIFwiLi9PcGVuQXBpLmpzXCI7XG5pbXBvcnQgKiBhcyBVcmxQYXJhbXMgZnJvbSBcIi4vVXJsUGFyYW1zLmpzXCI7XG4vKipcbiAqIFRoZSByb3V0ZXIgdGhhdCB0aGUgQVBJIGVuZHBvaW50cyBhcmUgYXR0YWNoZWQgdG8uXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcm91dGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBSb3V0ZXIgZXh0ZW5kcyAvKiNfX1BVUkVfXyovSHR0cFJvdXRlci5UYWcoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBBcGlCdWlsZGVyL1JvdXRlclwiKSgpIHt9XG4vKipcbiAqIENyZWF0ZSBhIHRvcC1sZXZlbCBgSHR0cEFwaWAgbGF5ZXIuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBhcGkgPSBhcGkgPT4gTGF5ZXIuZWZmZWN0KEh0dHBBcGkuQXBpLCBFZmZlY3QubWFwKEVmZmVjdC5jb250ZXh0KCksIGNvbnRleHQgPT4gKHtcbiAgYXBpOiBhcGksXG4gIGNvbnRleHRcbn0pKSk7XG4vKipcbiAqIEJ1aWxkIGFuIGBIdHRwQXBwYCBmcm9tIGFuIGBIdHRwQXBpYCBpbnN0YW5jZSwgYW5kIHNlcnZlIGl0IHVzaW5nIGFuXG4gKiBgSHR0cFNlcnZlcmAuXG4gKlxuICogT3B0aW9uYWxseSwgeW91IGNhbiBwcm92aWRlIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgYXBwbGllZCB0b1xuICogdGhlIGBIdHRwQXBwYCBiZWZvcmUgc2VydmluZy5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNlcnZlID0gbWlkZGxld2FyZSA9PiBodHRwQXBwLnBpcGUoRWZmZWN0Lm1hcChhcHAgPT4gSHR0cFNlcnZlci5zZXJ2ZShhcHAsIG1pZGRsZXdhcmUpKSwgTGF5ZXIudW53cmFwRWZmZWN0LCBMYXllci5wcm92aWRlKFtSb3V0ZXIuTGl2ZSwgTWlkZGxld2FyZS5sYXllcl0pKTtcbi8qKlxuICogQ29uc3RydWN0IGFuIGBIdHRwQXBwYCBmcm9tIGFuIGBIdHRwQXBpYCBpbnN0YW5jZS5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGh0dHBBcHAgPSAvKiNfX1BVUkVfXyovRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuICBjb25zdCB7XG4gICAgYXBpLFxuICAgIGNvbnRleHRcbiAgfSA9IHlpZWxkKiBIdHRwQXBpLkFwaTtcbiAgY29uc3QgbWlkZGxld2FyZSA9IG1ha2VNaWRkbGV3YXJlTWFwKGFwaS5taWRkbGV3YXJlcywgY29udGV4dCk7XG4gIGNvbnN0IHJvdXRlciA9IGFwcGx5TWlkZGxld2FyZShtaWRkbGV3YXJlLCB5aWVsZCogUm91dGVyLnJvdXRlcik7XG4gIGNvbnN0IGFwaU1pZGRsZXdhcmVTZXJ2aWNlID0geWllbGQqIE1pZGRsZXdhcmU7XG4gIGNvbnN0IGFwaU1pZGRsZXdhcmUgPSB5aWVsZCogYXBpTWlkZGxld2FyZVNlcnZpY2UucmV0cmlldmU7XG4gIGNvbnN0IGVycm9yU2NoZW1hID0gbWFrZUVycm9yU2NoZW1hKGFwaSk7XG4gIGNvbnN0IGVuY29kZUVycm9yID0gU2NoZW1hLmVuY29kZVVua25vd24oZXJyb3JTY2hlbWEpO1xuICByZXR1cm4gcm91dGVyLnBpcGUoYXBpTWlkZGxld2FyZSwgRWZmZWN0LmNhdGNoQWxsQ2F1c2UoY2F1c2UgPT4gRWZmZWN0Lm1hdGNoRWZmZWN0KEVmZmVjdC5wcm92aWRlKGVuY29kZUVycm9yKENhdXNlLnNxdWFzaChjYXVzZSkpLCBjb250ZXh0KSwge1xuICAgIG9uRmFpbHVyZTogKCkgPT4gRWZmZWN0LmZhaWxDYXVzZShjYXVzZSksXG4gICAgb25TdWNjZXNzOiBFZmZlY3Quc3VjY2VlZFxuICB9KSkpO1xufSk7XG4vKipcbiAqIENvbnN0cnVjdCBhbiBodHRwIHdlYiBoYW5kbGVyIGZyb20gYW4gYEh0dHBBcGlgIGluc3RhbmNlLlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBIdHRwQXBpLCBIdHRwQXBpQnVpbGRlciwgSHR0cFNlcnZlciB9IGZyb20gXCJAZWZmZWN0L3BsYXRmb3JtXCJcbiAqIGltcG9ydCB7IExheWVyIH0gZnJvbSBcImVmZmVjdFwiXG4gKlxuICogY2xhc3MgTXlBcGkgZXh0ZW5kcyBIdHRwQXBpLm1ha2UoXCJhcGlcIikge31cbiAqXG4gKiBjb25zdCBNeUFwaUxpdmUgPSBIdHRwQXBpQnVpbGRlci5hcGkoTXlBcGkpXG4gKlxuICogY29uc3QgeyBkaXNwb3NlLCBoYW5kbGVyIH0gPSBIdHRwQXBpQnVpbGRlci50b1dlYkhhbmRsZXIoXG4gKiAgIExheWVyLm1lcmdlQWxsKFxuICogICAgIE15QXBpTGl2ZSxcbiAqICAgICAvLyB5b3UgY291bGQgYWxzbyB1c2UgTm9kZUh0dHBTZXJ2ZXIubGF5ZXJDb250ZXh0LCBkZXBlbmRpbmcgb24geW91clxuICogICAgIC8vIHNlcnZlcidzIHBsYXRmb3JtXG4gKiAgICAgSHR0cFNlcnZlci5sYXllckNvbnRleHRcbiAqICAgKVxuICogKVxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCB0b1dlYkhhbmRsZXIgPSAobGF5ZXIsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcnVudGltZSA9IE1hbmFnZWRSdW50aW1lLm1ha2UoTGF5ZXIubWVyZ2VBbGwobGF5ZXIsIFJvdXRlci5MaXZlLCBNaWRkbGV3YXJlLmxheWVyKSwgb3B0aW9ucz8ubWVtb01hcCk7XG4gIGxldCBoYW5kbGVyQ2FjaGVkO1xuICBjb25zdCBoYW5kbGVyUHJvbWlzZSA9IEVmZmVjdC5nZW4oZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBhcHAgPSB5aWVsZCogaHR0cEFwcDtcbiAgICBjb25zdCBydCA9IHlpZWxkKiBydW50aW1lLnJ1bnRpbWVFZmZlY3Q7XG4gICAgY29uc3QgaGFuZGxlciA9IEh0dHBBcHAudG9XZWJIYW5kbGVyUnVudGltZShydCkob3B0aW9ucz8ubWlkZGxld2FyZSA/IG9wdGlvbnMubWlkZGxld2FyZShhcHApIDogYXBwKTtcbiAgICBoYW5kbGVyQ2FjaGVkID0gaGFuZGxlcjtcbiAgICByZXR1cm4gaGFuZGxlcjtcbiAgfSkucGlwZShydW50aW1lLnJ1blByb21pc2UpO1xuICBmdW5jdGlvbiBoYW5kbGVyKHJlcXVlc3QsIGNvbnRleHQpIHtcbiAgICBpZiAoaGFuZGxlckNhY2hlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaGFuZGxlckNhY2hlZChyZXF1ZXN0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZXJQcm9taXNlLnRoZW4oaGFuZGxlciA9PiBoYW5kbGVyKHJlcXVlc3QsIGNvbnRleHQpKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGhhbmRsZXIsXG4gICAgZGlzcG9zZTogcnVudGltZS5kaXNwb3NlXG4gIH07XG59O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBoYW5kbGVyc1xuICovXG5leHBvcnQgY29uc3QgSGFuZGxlcnNUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEFwaUJ1aWxkZXIvSGFuZGxlcnNcIik7XG5jb25zdCBIYW5kbGVyc1Byb3RvID0ge1xuICBbSGFuZGxlcnNUeXBlSWRdOiB7XG4gICAgX0VuZHBvaW50czogaWRlbnRpdHlcbiAgfSxcbiAgcGlwZSgpIHtcbiAgICByZXR1cm4gcGlwZUFyZ3VtZW50cyh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuICBoYW5kbGUobmFtZSwgaGFuZGxlcikge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5ncm91cC5lbmRwb2ludHNbbmFtZV07XG4gICAgcmV0dXJuIG1ha2VIYW5kbGVycyh7XG4gICAgICBncm91cDogdGhpcy5ncm91cCxcbiAgICAgIGhhbmRsZXJzOiBDaHVuay5hcHBlbmQodGhpcy5oYW5kbGVycywge1xuICAgICAgICBlbmRwb2ludCxcbiAgICAgICAgaGFuZGxlcixcbiAgICAgICAgd2l0aEZ1bGxSZXNwb25zZTogZmFsc2VcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0sXG4gIGhhbmRsZVJhdyhuYW1lLCBoYW5kbGVyKSB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLmdyb3VwLmVuZHBvaW50c1tuYW1lXTtcbiAgICByZXR1cm4gbWFrZUhhbmRsZXJzKHtcbiAgICAgIGdyb3VwOiB0aGlzLmdyb3VwLFxuICAgICAgaGFuZGxlcnM6IENodW5rLmFwcGVuZCh0aGlzLmhhbmRsZXJzLCB7XG4gICAgICAgIGVuZHBvaW50LFxuICAgICAgICBoYW5kbGVyLFxuICAgICAgICB3aXRoRnVsbFJlc3BvbnNlOiB0cnVlXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG59O1xuY29uc3QgbWFrZUhhbmRsZXJzID0gb3B0aW9ucyA9PiB7XG4gIGNvbnN0IHNlbGYgPSBPYmplY3QuY3JlYXRlKEhhbmRsZXJzUHJvdG8pO1xuICBzZWxmLmdyb3VwID0gb3B0aW9ucy5ncm91cDtcbiAgc2VsZi5oYW5kbGVycyA9IG9wdGlvbnMuaGFuZGxlcnM7XG4gIHJldHVybiBzZWxmO1xufTtcbi8qKlxuICogQ3JlYXRlIGEgYExheWVyYCB0aGF0IHdpbGwgaW1wbGVtZW50IGFsbCB0aGUgZW5kcG9pbnRzIGluIGFuIGBIdHRwQXBpYC5cbiAqXG4gKiBBbiB1bmltcGxlbWVudGVkIGBIYW5kbGVyc2AgaW5zdGFuY2UgaXMgcGFzc2VkIHRvIHRoZSBgYnVpbGRgIGZ1bmN0aW9uLCB3aGljaFxuICogeW91IGNhbiB1c2UgdG8gYWRkIGhhbmRsZXJzIHRvIHRoZSBncm91cC5cbiAqXG4gKiBZb3UgY2FuIGltcGxlbWVudCBlbmRwb2ludHMgdXNpbmcgdGhlIGBoYW5kbGVycy5oYW5kbGVgIGFwaS5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBoYW5kbGVyc1xuICovXG5leHBvcnQgY29uc3QgZ3JvdXAgPSAoYXBpLCBncm91cE5hbWUsIGJ1aWxkKSA9PiBSb3V0ZXIudXNlKHJvdXRlciA9PiBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB5aWVsZCogRWZmZWN0LmNvbnRleHQoKTtcbiAgY29uc3QgZ3JvdXAgPSBhcGkuZ3JvdXBzW2dyb3VwTmFtZV07XG4gIGNvbnN0IHJlc3VsdCA9IGJ1aWxkKG1ha2VIYW5kbGVycyh7XG4gICAgZ3JvdXAsXG4gICAgaGFuZGxlcnM6IENodW5rLmVtcHR5KClcbiAgfSkpO1xuICBjb25zdCBoYW5kbGVycyA9IEVmZmVjdC5pc0VmZmVjdChyZXN1bHQpID8geWllbGQqIHJlc3VsdCA6IHJlc3VsdDtcbiAgY29uc3QgZ3JvdXBNaWRkbGV3YXJlID0gbWFrZU1pZGRsZXdhcmVNYXAoZ3JvdXAubWlkZGxld2FyZXMsIGNvbnRleHQpO1xuICBjb25zdCByb3V0ZXMgPSBbXTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGhhbmRsZXJzLmhhbmRsZXJzKSB7XG4gICAgY29uc3QgbWlkZGxld2FyZSA9IG1ha2VNaWRkbGV3YXJlTWFwKGl0ZW0uZW5kcG9pbnQubWlkZGxld2FyZXMsIGNvbnRleHQsIGdyb3VwTWlkZGxld2FyZSk7XG4gICAgcm91dGVzLnB1c2goaGFuZGxlclRvUm91dGUoaXRlbS5lbmRwb2ludCwgbWlkZGxld2FyZSwgZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgIHJldHVybiBFZmZlY3QubWFwSW5wdXRDb250ZXh0KGl0ZW0uaGFuZGxlcihyZXF1ZXN0KSwgaW5wdXQgPT4gQ29udGV4dC5tZXJnZShjb250ZXh0LCBpbnB1dCkpO1xuICAgIH0sIGl0ZW0ud2l0aEZ1bGxSZXNwb25zZSkpO1xuICB9XG4gIHlpZWxkKiByb3V0ZXIuY29uY2F0KEh0dHBSb3V0ZXIuZnJvbUl0ZXJhYmxlKHJvdXRlcykpO1xufSkpO1xuLyoqXG4gKiBDcmVhdGUgYSBgSGFuZGxlcmAgZm9yIGEgc2luZ2xlIGVuZHBvaW50LlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGhhbmRsZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBoYW5kbGVyID0gKF9hcGksIF9ncm91cE5hbWUsIF9uYW1lLCBmKSA9PiBmO1xuLy8gaW50ZXJuYWxcbmNvbnN0IHJlcXVlc3RQYXlsb2FkID0gKHJlcXVlc3QsIHVybFBhcmFtcykgPT4ge1xuICBpZiAoIUh0dHBNZXRob2QuaGFzQm9keShyZXF1ZXN0Lm1ldGhvZCkpIHtcbiAgICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQodXJsUGFyYW1zKTtcbiAgfVxuICBjb25zdCBjb250ZW50VHlwZSA9IHJlcXVlc3QuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSA/IHJlcXVlc3QuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA6IFwiYXBwbGljYXRpb24vanNvblwiO1xuICBpZiAoY29udGVudFR5cGUuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgcmV0dXJuIEVmZmVjdC5vckRpZShyZXF1ZXN0Lmpzb24pO1xuICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiKSkge1xuICAgIHJldHVybiBFZmZlY3Qub3JEaWUocmVxdWVzdC5tdWx0aXBhcnQpO1xuICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKFwieC13d3ctZm9ybS11cmxlbmNvZGVkXCIpKSB7XG4gICAgcmV0dXJuIEVmZmVjdC5tYXAoRWZmZWN0Lm9yRGllKHJlcXVlc3QudXJsUGFyYW1zQm9keSksIFVybFBhcmFtcy50b1JlY29yZCk7XG4gIH0gZWxzZSBpZiAoY29udGVudFR5cGUuc3RhcnRzV2l0aChcInRleHQvXCIpKSB7XG4gICAgcmV0dXJuIEVmZmVjdC5vckRpZShyZXF1ZXN0LnRleHQpO1xuICB9XG4gIHJldHVybiBFZmZlY3QubWFwKEVmZmVjdC5vckRpZShyZXF1ZXN0LmFycmF5QnVmZmVyKSwgYnVmZmVyID0+IG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xufTtcbmNvbnN0IG1ha2VNaWRkbGV3YXJlTWFwID0gKG1pZGRsZXdhcmUsIGNvbnRleHQsIGluaXRpYWwpID0+IHtcbiAgY29uc3QgbWFwID0gbmV3IE1hcChpbml0aWFsKTtcbiAgbWlkZGxld2FyZS5mb3JFYWNoKHRhZyA9PiB7XG4gICAgbWFwLnNldCh0YWcua2V5LCB7XG4gICAgICB0YWcsXG4gICAgICBlZmZlY3Q6IENvbnRleHQudW5zYWZlR2V0KGNvbnRleHQsIHRhZylcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBtYXA7XG59O1xuZnVuY3Rpb24gaXNTaW5nbGVTdHJpbmdUeXBlKGFzdCwga2V5KSB7XG4gIHN3aXRjaCAoYXN0Ll90YWcpIHtcbiAgICBjYXNlIFwiU3RyaW5nS2V5d29yZFwiOlxuICAgIGNhc2UgXCJMaXRlcmFsXCI6XG4gICAgY2FzZSBcIlRlbXBsYXRlTGl0ZXJhbFwiOlxuICAgIGNhc2UgXCJFbnVtc1wiOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY2FzZSBcIlR5cGVMaXRlcmFsXCI6XG4gICAgICB7XG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IHBzID0gYXN0LnByb3BlcnR5U2lnbmF0dXJlcy5maW5kKHBzID0+IHBzLm5hbWUgPT09IGtleSk7XG4gICAgICAgICAgcmV0dXJuIHBzICE9PSB1bmRlZmluZWQgPyBpc1NpbmdsZVN0cmluZ1R5cGUocHMudHlwZSwga2V5KSA6IGFzdC5pbmRleFNpZ25hdHVyZXMuc29tZShpcyA9PiBTY2hlbWEuaXMoU2NoZW1hLm1ha2UoaXMucGFyYW1ldGVyKSkoa2V5KSAmJiBpc1NpbmdsZVN0cmluZ1R5cGUoaXMudHlwZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICBjYXNlIFwiVW5pb25cIjpcbiAgICAgIHJldHVybiBhc3QudHlwZXMuc29tZSh0eXBlID0+IGlzU2luZ2xlU3RyaW5nVHlwZSh0eXBlLCBrZXkpKTtcbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAgcmV0dXJuIGlzU2luZ2xlU3RyaW5nVHlwZShhc3QuZigpLCBrZXkpO1xuICAgIGNhc2UgXCJSZWZpbmVtZW50XCI6XG4gICAgY2FzZSBcIlRyYW5zZm9ybWF0aW9uXCI6XG4gICAgICByZXR1cm4gaXNTaW5nbGVTdHJpbmdUeXBlKGFzdC5mcm9tLCBrZXkpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogTm9ybWFsaXplcyB0aGUgdXJsIHBhcmFtZXRlcnMgc28gdGhhdCBpZiBhIGtleSBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheSxcbiAqIGEgc2luZ2xlIHN0cmluZyB2YWx1ZSBpcyB3cmFwcGVkIGluIGFuIGFycmF5LlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplVXJsUGFyYW1zKHBhcmFtcywgYXN0KSB7XG4gIGNvbnN0IG91dCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBwYXJhbXMpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBhcmFtc1trZXldO1xuICAgIG91dFtrZXldID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgaXNTaW5nbGVTdHJpbmdUeXBlKGFzdCwga2V5KSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuY29uc3QgaGFuZGxlclRvUm91dGUgPSAoZW5kcG9pbnRfLCBtaWRkbGV3YXJlLCBoYW5kbGVyLCBpc0Z1bGxSZXNwb25zZSkgPT4ge1xuICBjb25zdCBlbmRwb2ludCA9IGVuZHBvaW50XztcbiAgY29uc3QgZGVjb2RlUGF0aCA9IE9wdGlvbi5tYXAoZW5kcG9pbnQucGF0aFNjaGVtYSwgU2NoZW1hLmRlY29kZVVua25vd24pO1xuICBjb25zdCBkZWNvZGVQYXlsb2FkID0gT3B0aW9uLm1hcChlbmRwb2ludC5wYXlsb2FkU2NoZW1hLCBTY2hlbWEuZGVjb2RlVW5rbm93bik7XG4gIGNvbnN0IGRlY29kZUhlYWRlcnMgPSBPcHRpb24ubWFwKGVuZHBvaW50LmhlYWRlcnNTY2hlbWEsIFNjaGVtYS5kZWNvZGVVbmtub3duKTtcbiAgY29uc3QgZW5jb2RlU3VjY2VzcyA9IFNjaGVtYS5lbmNvZGUobWFrZVN1Y2Nlc3NTY2hlbWEoZW5kcG9pbnQuc3VjY2Vzc1NjaGVtYSkpO1xuICByZXR1cm4gSHR0cFJvdXRlci5tYWtlUm91dGUoZW5kcG9pbnQubWV0aG9kLCBlbmRwb2ludC5wYXRoLCBhcHBseU1pZGRsZXdhcmUobWlkZGxld2FyZSwgRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IGZpYmVyID0gT3B0aW9uLmdldE9yVGhyb3coRmliZXIuZ2V0Q3VycmVudEZpYmVyKCkpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBmaWJlci5jdXJyZW50Q29udGV4dDtcbiAgICBjb25zdCBodHRwUmVxdWVzdCA9IENvbnRleHQudW5zYWZlR2V0KGNvbnRleHQsIEh0dHBTZXJ2ZXJSZXF1ZXN0Lkh0dHBTZXJ2ZXJSZXF1ZXN0KTtcbiAgICBjb25zdCByb3V0ZUNvbnRleHQgPSBDb250ZXh0LnVuc2FmZUdldChjb250ZXh0LCBIdHRwUm91dGVyLlJvdXRlQ29udGV4dCk7XG4gICAgY29uc3QgdXJsUGFyYW1zID0gQ29udGV4dC51bnNhZmVHZXQoY29udGV4dCwgSHR0cFNlcnZlclJlcXVlc3QuUGFyc2VkU2VhcmNoUGFyYW1zKTtcbiAgICBjb25zdCByZXF1ZXN0ID0ge307XG4gICAgaWYgKGRlY29kZVBhdGguX3RhZyA9PT0gXCJTb21lXCIpIHtcbiAgICAgIHJlcXVlc3QucGF0aCA9IHlpZWxkKiBkZWNvZGVQYXRoLnZhbHVlKHJvdXRlQ29udGV4dC5wYXJhbXMpO1xuICAgIH1cbiAgICBpZiAoZGVjb2RlUGF5bG9hZC5fdGFnID09PSBcIlNvbWVcIikge1xuICAgICAgcmVxdWVzdC5wYXlsb2FkID0geWllbGQqIEVmZmVjdC5mbGF0TWFwKHJlcXVlc3RQYXlsb2FkKGh0dHBSZXF1ZXN0LCB1cmxQYXJhbXMpLCBkZWNvZGVQYXlsb2FkLnZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGRlY29kZUhlYWRlcnMuX3RhZyA9PT0gXCJTb21lXCIpIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVycyA9IHlpZWxkKiBkZWNvZGVIZWFkZXJzLnZhbHVlKGh0dHBSZXF1ZXN0LmhlYWRlcnMpO1xuICAgIH1cbiAgICBpZiAoZW5kcG9pbnQudXJsUGFyYW1zU2NoZW1hLl90YWcgPT09IFwiU29tZVwiKSB7XG4gICAgICBjb25zdCBzY2hlbWEgPSBlbmRwb2ludC51cmxQYXJhbXNTY2hlbWEudmFsdWU7XG4gICAgICByZXF1ZXN0LnVybFBhcmFtcyA9IHlpZWxkKiBTY2hlbWEuZGVjb2RlVW5rbm93bihzY2hlbWEpKG5vcm1hbGl6ZVVybFBhcmFtcyh1cmxQYXJhbXMsIHNjaGVtYS5hc3QpKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBpc0Z1bGxSZXNwb25zZSA/IHlpZWxkKiBoYW5kbGVyKHJlcXVlc3QpIDogeWllbGQqIEVmZmVjdC5mbGF0TWFwKGhhbmRsZXIocmVxdWVzdCksIGVuY29kZVN1Y2Nlc3MpO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSkucGlwZShFZmZlY3QuY2F0Y2hJZihQYXJzZVJlc3VsdC5pc1BhcnNlRXJyb3IsIEh0dHBBcGlEZWNvZGVFcnJvci5yZWZhaWxQYXJzZUVycm9yKSkpKTtcbn07XG5jb25zdCBhcHBseU1pZGRsZXdhcmUgPSAobWlkZGxld2FyZSwgaGFuZGxlcikgPT4ge1xuICBmb3IgKGNvbnN0IGVudHJ5IG9mIG1pZGRsZXdhcmUudmFsdWVzKCkpIHtcbiAgICBjb25zdCBlZmZlY3QgPSBIdHRwQXBpTWlkZGxld2FyZS5TZWN1cml0eVR5cGVJZCBpbiBlbnRyeS50YWcgPyBtYWtlU2VjdXJpdHlNaWRkbGV3YXJlKGVudHJ5KSA6IGVudHJ5LmVmZmVjdDtcbiAgICBpZiAoZW50cnkudGFnLm9wdGlvbmFsKSB7XG4gICAgICBjb25zdCBwcmV2aW91cyA9IGhhbmRsZXI7XG4gICAgICBoYW5kbGVyID0gRWZmZWN0Lm1hdGNoRWZmZWN0KGVmZmVjdCwge1xuICAgICAgICBvbkZhaWx1cmU6ICgpID0+IHByZXZpb3VzLFxuICAgICAgICBvblN1Y2Nlc3M6IGVudHJ5LnRhZy5wcm92aWRlcyAhPT0gdW5kZWZpbmVkID8gdmFsdWUgPT4gRWZmZWN0LnByb3ZpZGVTZXJ2aWNlKHByZXZpb3VzLCBlbnRyeS50YWcucHJvdmlkZXMsIHZhbHVlKSA6IF8gPT4gcHJldmlvdXNcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVyID0gZW50cnkudGFnLnByb3ZpZGVzICE9PSB1bmRlZmluZWQgPyBFZmZlY3QucHJvdmlkZVNlcnZpY2VFZmZlY3QoaGFuZGxlciwgZW50cnkudGFnLnByb3ZpZGVzLCBlZmZlY3QpIDogRWZmZWN0LnppcFJpZ2h0KGVmZmVjdCwgaGFuZGxlcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBoYW5kbGVyO1xufTtcbmNvbnN0IHNlY3VyaXR5TWlkZGxld2FyZUNhY2hlID0gLyojX19QVVJFX18qL2dsb2JhbFZhbHVlKFwic2VjdXJpdHlNaWRkbGV3YXJlQ2FjaGVcIiwgKCkgPT4gbmV3IFdlYWtNYXAoKSk7XG5jb25zdCBtYWtlU2VjdXJpdHlNaWRkbGV3YXJlID0gZW50cnkgPT4ge1xuICBpZiAoc2VjdXJpdHlNaWRkbGV3YXJlQ2FjaGUuaGFzKGVudHJ5LnRhZykpIHtcbiAgICByZXR1cm4gc2VjdXJpdHlNaWRkbGV3YXJlQ2FjaGUuZ2V0KGVudHJ5LnRhZyk7XG4gIH1cbiAgbGV0IGVmZmVjdDtcbiAgZm9yIChjb25zdCBba2V5LCBzZWN1cml0eV0gb2YgT2JqZWN0LmVudHJpZXMoZW50cnkudGFnLnNlY3VyaXR5KSkge1xuICAgIGNvbnN0IGRlY29kZSA9IHNlY3VyaXR5RGVjb2RlKHNlY3VyaXR5KTtcbiAgICBjb25zdCBoYW5kbGVyID0gZW50cnkuZWZmZWN0W2tleV07XG4gICAgY29uc3QgbWlkZGxld2FyZSA9IEVmZmVjdC5mbGF0TWFwKGRlY29kZSwgaGFuZGxlcik7XG4gICAgZWZmZWN0ID0gZWZmZWN0ID09PSB1bmRlZmluZWQgPyBtaWRkbGV3YXJlIDogRWZmZWN0LmNhdGNoQWxsKGVmZmVjdCwgKCkgPT4gbWlkZGxld2FyZSk7XG4gIH1cbiAgaWYgKGVmZmVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZWZmZWN0ID0gRWZmZWN0LnZvaWQ7XG4gIH1cbiAgc2VjdXJpdHlNaWRkbGV3YXJlQ2FjaGUuc2V0KGVudHJ5LnRhZywgZWZmZWN0KTtcbiAgcmV0dXJuIGVmZmVjdDtcbn07XG5jb25zdCByZXNwb25zZVNjaGVtYSA9IC8qI19fUFVSRV9fKi9TY2hlbWEuZGVjbGFyZShIdHRwU2VydmVyUmVzcG9uc2UuaXNTZXJ2ZXJSZXNwb25zZSk7XG5jb25zdCBtYWtlU3VjY2Vzc1NjaGVtYSA9IHNjaGVtYSA9PiB7XG4gIGNvbnN0IHNjaGVtYXMgPSBuZXcgU2V0KCk7XG4gIEh0dHBBcGlTY2hlbWEuZGV1bmlvbml6ZShzY2hlbWFzLCBzY2hlbWEpO1xuICByZXR1cm4gU2NoZW1hLlVuaW9uKC4uLkFycmF5LmZyb20oc2NoZW1hcywgdG9SZXNwb25zZVN1Y2Nlc3MpKTtcbn07XG5jb25zdCBtYWtlRXJyb3JTY2hlbWEgPSBhcGkgPT4ge1xuICBjb25zdCBzY2hlbWFzID0gbmV3IFNldCgpO1xuICBIdHRwQXBpU2NoZW1hLmRldW5pb25pemUoc2NoZW1hcywgYXBpLmVycm9yU2NoZW1hKTtcbiAgZm9yIChjb25zdCBncm91cCBvZiBPYmplY3QudmFsdWVzKGFwaS5ncm91cHMpKSB7XG4gICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBPYmplY3QudmFsdWVzKGdyb3VwLmVuZHBvaW50cykpIHtcbiAgICAgIEh0dHBBcGlTY2hlbWEuZGV1bmlvbml6ZShzY2hlbWFzLCBlbmRwb2ludC5lcnJvclNjaGVtYSk7XG4gICAgfVxuICAgIEh0dHBBcGlTY2hlbWEuZGV1bmlvbml6ZShzY2hlbWFzLCBncm91cC5lcnJvclNjaGVtYSk7XG4gIH1cbiAgcmV0dXJuIFNjaGVtYS5VbmlvbiguLi5BcnJheS5mcm9tKHNjaGVtYXMsIHRvUmVzcG9uc2VFcnJvcikpO1xufTtcbmNvbnN0IGRlY29kZUZvcmJpZGRlbiA9IChfLCBfXywgYXN0KSA9PiBQYXJzZVJlc3VsdC5mYWlsKG5ldyBQYXJzZVJlc3VsdC5Gb3JiaWRkZW4oYXN0LCBfLCBcIkVuY29kZSBvbmx5IHNjaGVtYVwiKSk7XG5jb25zdCB0b1Jlc3BvbnNlU2NoZW1hID0gZ2V0U3RhdHVzID0+IHtcbiAgY29uc3QgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuICBjb25zdCBzY2hlbWFUb1Jlc3BvbnNlID0gKGRhdGEsIF8sIGFzdCkgPT4ge1xuICAgIGNvbnN0IGlzRW1wdHkgPSBIdHRwQXBpU2NoZW1hLmlzVm9pZChhc3QudG8pO1xuICAgIGNvbnN0IHN0YXR1cyA9IGdldFN0YXR1cyhhc3QudG8pO1xuICAgIGlmIChpc0VtcHR5KSB7XG4gICAgICByZXR1cm4gSHR0cFNlcnZlclJlc3BvbnNlLmVtcHR5KHtcbiAgICAgICAgc3RhdHVzXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgZW5jb2RpbmcgPSBIdHRwQXBpU2NoZW1hLmdldEVuY29kaW5nKGFzdC50byk7XG4gICAgc3dpdGNoIChlbmNvZGluZy5raW5kKSB7XG4gICAgICBjYXNlIFwiSnNvblwiOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIEVmZmVjdC5tYXBFcnJvcihIdHRwU2VydmVyUmVzcG9uc2UuanNvbihkYXRhLCB7XG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZW5jb2RpbmcuY29udGVudFR5cGVcbiAgICAgICAgICB9KSwgZXJyb3IgPT4gbmV3IFBhcnNlUmVzdWx0LlR5cGUoYXN0LCBlcnJvciwgXCJDb3VsZCBub3QgZW5jb2RlIHRvIEpTT05cIikpO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiVGV4dFwiOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIFBhcnNlUmVzdWx0LnN1Y2NlZWQoSHR0cFNlcnZlclJlc3BvbnNlLnRleHQoZGF0YSwge1xuICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IGVuY29kaW5nLmNvbnRlbnRUeXBlXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiVWludDhBcnJheVwiOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIFBhcnNlUmVzdWx0LnN1Y2NlZWQoSHR0cFNlcnZlclJlc3BvbnNlLnVpbnQ4QXJyYXkoZGF0YSwge1xuICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IGVuY29kaW5nLmNvbnRlbnRUeXBlXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiVXJsUGFyYW1zXCI6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gUGFyc2VSZXN1bHQuc3VjY2VlZChIdHRwU2VydmVyUmVzcG9uc2UudXJsUGFyYW1zKGRhdGEsIHtcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBlbmNvZGluZy5jb250ZW50VHlwZVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHNjaGVtYSA9PiB7XG4gICAgaWYgKGNhY2hlLmhhcyhzY2hlbWEuYXN0KSkge1xuICAgICAgcmV0dXJuIGNhY2hlLmdldChzY2hlbWEuYXN0KTtcbiAgICB9XG4gICAgY29uc3QgdHJhbnNmb3JtID0gU2NoZW1hLnRyYW5zZm9ybU9yRmFpbChyZXNwb25zZVNjaGVtYSwgc2NoZW1hLCB7XG4gICAgICBkZWNvZGU6IGRlY29kZUZvcmJpZGRlbixcbiAgICAgIGVuY29kZTogc2NoZW1hVG9SZXNwb25zZVxuICAgIH0pO1xuICAgIGNhY2hlLnNldCh0cmFuc2Zvcm0uYXN0LCB0cmFuc2Zvcm0pO1xuICAgIHJldHVybiB0cmFuc2Zvcm07XG4gIH07XG59O1xuY29uc3QgdG9SZXNwb25zZVN1Y2Nlc3MgPSAvKiNfX1BVUkVfXyovdG9SZXNwb25zZVNjaGVtYShIdHRwQXBpU2NoZW1hLmdldFN0YXR1c1N1Y2Nlc3NBU1QpO1xuY29uc3QgdG9SZXNwb25zZUVycm9yID0gLyojX19QVVJFX18qL3RvUmVzcG9uc2VTY2hlbWEoSHR0cEFwaVNjaGVtYS5nZXRTdGF0dXNFcnJvckFTVCk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBHbG9iYWwgbWlkZGxld2FyZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBtaWRkbGV3YXJlXG4gKi9cbmV4cG9ydCBjbGFzcyBNaWRkbGV3YXJlIGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQXBpQnVpbGRlci9NaWRkbGV3YXJlXCIpKCkge1xuICAvKipcbiAgICogQHNpbmNlIDEuMC4wXG4gICAqL1xuICBzdGF0aWMgbGF5ZXIgPSAvKiNfX1BVUkVfXyovTGF5ZXIuc3luYyhNaWRkbGV3YXJlLCAoKSA9PiB7XG4gICAgbGV0IG1pZGRsZXdhcmUgPSBpZGVudGl0eTtcbiAgICByZXR1cm4gTWlkZGxld2FyZS5vZih7XG4gICAgICBhZGQ6IGYgPT4gRWZmZWN0LnN5bmMoKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2ID0gbWlkZGxld2FyZTtcbiAgICAgICAgbWlkZGxld2FyZSA9IGFwcCA9PiBmKHByZXYoYXBwKSk7XG4gICAgICB9KSxcbiAgICAgIHJldHJpZXZlOiBFZmZlY3Quc3luYygoKSA9PiBtaWRkbGV3YXJlKVxuICAgIH0pO1xuICB9KTtcbn1cbmNvbnN0IG1pZGRsZXdhcmVBZGQgPSBtaWRkbGV3YXJlID0+IEVmZmVjdC5nZW4oZnVuY3Rpb24qICgpIHtcbiAgY29uc3QgY29udGV4dCA9IHlpZWxkKiBFZmZlY3QuY29udGV4dCgpO1xuICBjb25zdCBzZXJ2aWNlID0geWllbGQqIE1pZGRsZXdhcmU7XG4gIHlpZWxkKiBzZXJ2aWNlLmFkZChodHRwQXBwID0+IEVmZmVjdC5tYXBJbnB1dENvbnRleHQobWlkZGxld2FyZShodHRwQXBwKSwgaW5wdXQgPT4gQ29udGV4dC5tZXJnZShjb250ZXh0LCBpbnB1dCkpKTtcbn0pO1xuY29uc3QgbWlkZGxld2FyZUFkZE5vQ29udGV4dCA9IG1pZGRsZXdhcmUgPT4gRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuICBjb25zdCBzZXJ2aWNlID0geWllbGQqIE1pZGRsZXdhcmU7XG4gIHlpZWxkKiBzZXJ2aWNlLmFkZChtaWRkbGV3YXJlKTtcbn0pO1xuLyoqXG4gKiBDcmVhdGUgYW4gYEh0dHBBcGlgIGxldmVsIG1pZGRsZXdhcmUgYExheWVyYC5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBtaWRkbGV3YXJlXG4gKi9cbmV4cG9ydCBjb25zdCBtaWRkbGV3YXJlID0gKC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgYXBpRmlyc3QgPSBIdHRwQXBpLmlzSHR0cEFwaShhcmdzWzBdKTtcbiAgY29uc3Qgd2l0aENvbnRleHQgPSBhcGlGaXJzdCA/IGFyZ3NbMl0/LndpdGhDb250ZXh0ID09PSB0cnVlIDogYXJnc1sxXT8ud2l0aENvbnRleHQgPT09IHRydWU7XG4gIGNvbnN0IGFkZCA9IHdpdGhDb250ZXh0ID8gbWlkZGxld2FyZUFkZCA6IG1pZGRsZXdhcmVBZGROb0NvbnRleHQ7XG4gIGNvbnN0IG1pZGRsZXdhcmUgPSBhcGlGaXJzdCA/IGFyZ3NbMV0gOiBhcmdzWzBdO1xuICByZXR1cm4gKEVmZmVjdC5pc0VmZmVjdChtaWRkbGV3YXJlKSA/IExheWVyLnNjb3BlZERpc2NhcmQoRWZmZWN0LmZsYXRNYXAobWlkZGxld2FyZSwgYWRkKSkgOiBMYXllci5zY29wZWREaXNjYXJkKGFkZChtaWRkbGV3YXJlKSkpLnBpcGUoTGF5ZXIucHJvdmlkZShNaWRkbGV3YXJlLmxheWVyKSk7XG59O1xuLyoqXG4gKiBBIENPUlMgbWlkZGxld2FyZSBsYXllciB0aGF0IGNhbiBiZSBwcm92aWRlZCB0byB0aGUgYEh0dHBBcGlCdWlsZGVyLnNlcnZlYCBsYXllci5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBtaWRkbGV3YXJlXG4gKi9cbmV4cG9ydCBjb25zdCBtaWRkbGV3YXJlQ29ycyA9IG9wdGlvbnMgPT4gbWlkZGxld2FyZShIdHRwTWlkZGxld2FyZS5jb3JzKG9wdGlvbnMpKTtcbi8qKlxuICogQSBtaWRkbGV3YXJlIHRoYXQgYWRkcyBhbiBvcGVuYXBpLmpzb24gZW5kcG9pbnQgdG8gdGhlIEFQSS5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBtaWRkbGV3YXJlXG4gKi9cbmV4cG9ydCBjb25zdCBtaWRkbGV3YXJlT3BlbkFwaSA9IG9wdGlvbnMgPT4gUm91dGVyLnVzZShyb3V0ZXIgPT4gRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuICBjb25zdCB7XG4gICAgYXBpXG4gIH0gPSB5aWVsZCogSHR0cEFwaS5BcGk7XG4gIGNvbnN0IHNwZWMgPSBPcGVuQXBpLmZyb21BcGkoYXBpKTtcbiAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCogSHR0cFNlcnZlclJlc3BvbnNlLmpzb24oc3BlYykucGlwZShFZmZlY3Qub3JEaWUpO1xuICB5aWVsZCogcm91dGVyLmdldChvcHRpb25zPy5wYXRoID8/IFwiL29wZW5hcGkuanNvblwiLCBFZmZlY3Quc3VjY2VlZChyZXNwb25zZSkpO1xufSkpO1xuY29uc3QgYmVhcmVyTGVuID0gYEJlYXJlciBgLmxlbmd0aDtcbmNvbnN0IGJhc2ljTGVuID0gYEJhc2ljIGAubGVuZ3RoO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBzZWN1cml0eVxuICovXG5leHBvcnQgY29uc3Qgc2VjdXJpdHlEZWNvZGUgPSBzZWxmID0+IHtcbiAgc3dpdGNoIChzZWxmLl90YWcpIHtcbiAgICBjYXNlIFwiQmVhcmVyXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBFZmZlY3QubWFwKEh0dHBTZXJ2ZXJSZXF1ZXN0Lkh0dHBTZXJ2ZXJSZXF1ZXN0LCByZXF1ZXN0ID0+IFJlZGFjdGVkLm1ha2UoKHJlcXVlc3QuaGVhZGVycy5hdXRob3JpemF0aW9uID8/IFwiXCIpLnNsaWNlKGJlYXJlckxlbikpKTtcbiAgICAgIH1cbiAgICBjYXNlIFwiQXBpS2V5XCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IGtleSA9IHNlbGYuaW4gPT09IFwiaGVhZGVyXCIgPyBzZWxmLmtleS50b0xvd2VyQ2FzZSgpIDogc2VsZi5rZXk7XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgICAgIFtrZXldOiBTY2hlbWEuU3RyaW5nXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkZWNvZGUgPSB1bmlmeShzZWxmLmluID09PSBcInF1ZXJ5XCIgPyBIdHRwU2VydmVyUmVxdWVzdC5zY2hlbWFTZWFyY2hQYXJhbXMoc2NoZW1hKSA6IHNlbGYuaW4gPT09IFwiY29va2llXCIgPyBIdHRwU2VydmVyUmVxdWVzdC5zY2hlbWFDb29raWVzKHNjaGVtYSkgOiBIdHRwU2VydmVyUmVxdWVzdC5zY2hlbWFIZWFkZXJzKHNjaGVtYSkpO1xuICAgICAgICByZXR1cm4gRWZmZWN0Lm1hdGNoKGRlY29kZSwge1xuICAgICAgICAgIG9uRmFpbHVyZTogKCkgPT4gUmVkYWN0ZWQubWFrZShcIlwiKSxcbiAgICAgICAgICBvblN1Y2Nlc3M6IG1hdGNoID0+IFJlZGFjdGVkLm1ha2UobWF0Y2hba2V5XSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgY2FzZSBcIkJhc2ljXCI6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IGVtcHR5ID0ge1xuICAgICAgICAgIHVzZXJuYW1lOiBcIlwiLFxuICAgICAgICAgIHBhc3N3b3JkOiBSZWRhY3RlZC5tYWtlKFwiXCIpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBIdHRwU2VydmVyUmVxdWVzdC5IdHRwU2VydmVyUmVxdWVzdC5waXBlKEVmZmVjdC5mbGF0TWFwKHJlcXVlc3QgPT4gRW5jb2RpbmcuZGVjb2RlQmFzZTY0U3RyaW5nKChyZXF1ZXN0LmhlYWRlcnMuYXV0aG9yaXphdGlvbiA/PyBcIlwiKS5zbGljZShiYXNpY0xlbikpKSwgRWZmZWN0Lm1hdGNoKHtcbiAgICAgICAgICBvbkZhaWx1cmU6ICgpID0+IGVtcHR5LFxuICAgICAgICAgIG9uU3VjY2VzczogaGVhZGVyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gaGVhZGVyLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdXNlcm5hbWU6IHBhcnRzWzBdLFxuICAgICAgICAgICAgICBwYXNzd29yZDogUmVkYWN0ZWQubWFrZShwYXJ0c1sxXSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gIH1cbn07XG4vKipcbiAqIFNldCBhIGNvb2tpZSBmcm9tIGFuIGBIdHRwQXBpU2VjdXJpdHkuSHR0cEFwaUtleWAgaW5zdGFuY2UuXG4gKlxuICogWW91IGNhbiB1c2UgdGhpcyBhcGkgYmVmb3JlIHJldHVybmluZyBhIHJlc3BvbnNlIGZyb20gYW4gZW5kcG9pbnQgaGFuZGxlci5cbiAqXG4gKiBgYGB0c1xuICogaGFuZGxlcnMuaGFuZGxlKFxuICogICBcImF1dGhlbnRpY2F0ZVwiLFxuICogICAoXykgPT4gSHR0cEFwaUJ1aWxkZXIuc2VjdXJpdHlTZXRDb29raWUoc2VjdXJpdHksIFwic2VjcmV0MTIzXCIpXG4gKiApXG4gKiBgYGBcbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBtaWRkbGV3YXJlXG4gKi9cbmV4cG9ydCBjb25zdCBzZWN1cml0eVNldENvb2tpZSA9IChzZWxmLCB2YWx1ZSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBzdHJpbmdWYWx1ZSA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogUmVkYWN0ZWQudmFsdWUodmFsdWUpO1xuICByZXR1cm4gSHR0cEFwcC5hcHBlbmRQcmVSZXNwb25zZUhhbmRsZXIoKF9yZXEsIHJlc3BvbnNlKSA9PiBFZmZlY3Qub3JEaWUoSHR0cFNlcnZlclJlc3BvbnNlLnNldENvb2tpZShyZXNwb25zZSwgc2VsZi5rZXksIHN0cmluZ1ZhbHVlLCB7XG4gICAgc2VjdXJlOiB0cnVlLFxuICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgIC4uLm9wdGlvbnNcbiAgfSkpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwQXBpQnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiBuilder.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiEndpoint.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpApiEndpoint.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   del: () => (/* binding */ del),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   isHttpApiEndpoint: () => (/* binding */ isHttpApiEndpoint),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   put: () => (/* binding */ put)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Pipeable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Pipeable */ \"(rsc)/../../node_modules/effect/dist/esm/Pipeable.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HttpApiSchema.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiSchema.js\");\n/* harmony import */ var _HttpRouter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HttpRouter.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpRouter.js\");\n\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiEndpoint\");\n/**\n * @since 1.0.0\n * @category guards\n */\nconst isHttpApiEndpoint = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, TypeId);\nconst Proto = {\n  [TypeId]: TypeId,\n  pipe() {\n    return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_1__.pipeArguments)(this, arguments);\n  },\n  addSuccess(schema, annotations) {\n    schema = annotations?.status ? schema.annotations(_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__.annotations({\n      status: annotations.status\n    })) : schema;\n    return makeProto({\n      ...this,\n      successSchema: this.successSchema === _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__.NoContent ? schema : _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__.UnionUnify(this.successSchema, schema)\n    });\n  },\n  addError(schema, annotations) {\n    return makeProto({\n      ...this,\n      errorSchema: _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__.UnionUnify(this.errorSchema, annotations?.status ? schema.annotations(_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__.annotations({\n        status: annotations.status\n      })) : schema)\n    });\n  },\n  setPayload(schema) {\n    return makeProto({\n      ...this,\n      payloadSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.some(schema)\n    });\n  },\n  setPath(schema) {\n    return makeProto({\n      ...this,\n      pathSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.some(schema)\n    });\n  },\n  setUrlParams(schema) {\n    return makeProto({\n      ...this,\n      urlParamsSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.some(schema)\n    });\n  },\n  setHeaders(schema) {\n    return makeProto({\n      ...this,\n      headersSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.some(schema)\n    });\n  },\n  prefix(prefix) {\n    return makeProto({\n      ...this,\n      path: _HttpRouter_js__WEBPACK_IMPORTED_MODULE_4__.prefixPath(this.path, prefix)\n    });\n  },\n  middleware(middleware) {\n    return makeProto({\n      ...this,\n      errorSchema: _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__.UnionUnify(this.errorSchema, middleware.failure),\n      middlewares: new Set([...this.middlewares, middleware])\n    });\n  },\n  annotate(tag, value) {\n    return makeProto({\n      ...this,\n      annotations: effect_Context__WEBPACK_IMPORTED_MODULE_5__.add(this.annotations, tag, value)\n    });\n  },\n  annotateContext(context) {\n    return makeProto({\n      ...this,\n      annotations: effect_Context__WEBPACK_IMPORTED_MODULE_5__.merge(this.annotations, context)\n    });\n  }\n};\nconst makeProto = options => Object.assign(Object.create(Proto), options);\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst make = method => (name, ...args) => {\n  if (args.length === 1) {\n    return makeProto({\n      name,\n      path: args[0],\n      method,\n      pathSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.none(),\n      urlParamsSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.none(),\n      payloadSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.none(),\n      headersSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.none(),\n      successSchema: _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__.NoContent,\n      errorSchema: effect_Schema__WEBPACK_IMPORTED_MODULE_6__.Never,\n      annotations: effect_Context__WEBPACK_IMPORTED_MODULE_5__.empty(),\n      middlewares: new Set()\n    });\n  }\n  return (segments, ...schemas) => {\n    let path = segments[0];\n    let pathSchema = effect_Option__WEBPACK_IMPORTED_MODULE_3__.none();\n    if (schemas.length > 0) {\n      const obj = {};\n      for (let i = 0; i < schemas.length; i++) {\n        const schema = schemas[i];\n        const key = _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__.getParam(schema.ast) ?? String(i);\n        obj[key] = schema;\n        path += `:${key}${segments[i + 1]}`;\n      }\n      pathSchema = effect_Option__WEBPACK_IMPORTED_MODULE_3__.some(effect_Schema__WEBPACK_IMPORTED_MODULE_6__.Struct(obj));\n    }\n    return makeProto({\n      name,\n      path,\n      method,\n      pathSchema,\n      urlParamsSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.none(),\n      payloadSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.none(),\n      headersSchema: effect_Option__WEBPACK_IMPORTED_MODULE_3__.none(),\n      successSchema: _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_2__.NoContent,\n      errorSchema: effect_Schema__WEBPACK_IMPORTED_MODULE_6__.Never,\n      annotations: effect_Context__WEBPACK_IMPORTED_MODULE_5__.empty(),\n      middlewares: new Set()\n    });\n  };\n};\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst get = /*#__PURE__*/make(\"GET\");\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst post = /*#__PURE__*/make(\"POST\");\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst put = /*#__PURE__*/make(\"PUT\");\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst patch = /*#__PURE__*/make(\"PATCH\");\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst del = /*#__PURE__*/make(\"DELETE\");\n//# sourceMappingURL=HttpApiEndpoint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwaUVuZHBvaW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNGO0FBQ1E7QUFDRjtBQUNOO0FBQ1k7QUFDTjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTywrQkFBK0IseURBQXFCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOERBQWE7QUFDeEIsR0FBRztBQUNIO0FBQ0Esc0RBQXNELDBEQUF5QjtBQUMvRTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNENBQTRDLHdEQUF1QixZQUFZLHlEQUF3QjtBQUN2RyxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5REFBd0IsNERBQTRELDBEQUF5QjtBQUNoSTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwrQ0FBVztBQUNoQyxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrQ0FBVztBQUM3QixLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwrQ0FBVztBQUNsQyxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwrQ0FBVztBQUNoQyxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQXFCO0FBQ2pDLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlEQUF3QjtBQUMzQztBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtDQUFXO0FBQzlCLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlEQUFhO0FBQ2hDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrQ0FBVztBQUM3Qix1QkFBdUIsK0NBQVc7QUFDbEMscUJBQXFCLCtDQUFXO0FBQ2hDLHFCQUFxQiwrQ0FBVztBQUNoQyxxQkFBcUIsd0RBQXVCO0FBQzVDLG1CQUFtQixnREFBWTtBQUMvQixtQkFBbUIsaURBQWE7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLCtDQUFXO0FBQ2hDO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0Esb0JBQW9CLHVEQUFzQjtBQUMxQztBQUNBLG9CQUFvQixJQUFJLEVBQUUsZ0JBQWdCO0FBQzFDO0FBQ0EsbUJBQW1CLCtDQUFXLENBQUMsaURBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLCtDQUFXO0FBQ2xDLHFCQUFxQiwrQ0FBVztBQUNoQyxxQkFBcUIsK0NBQVc7QUFDaEMscUJBQXFCLHdEQUF1QjtBQUM1QyxtQkFBbUIsZ0RBQVk7QUFDL0IsbUJBQW1CLGlEQUFhO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL0h0dHBBcGlFbmRwb2ludC5qcz8xMGY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCB7IHBpcGVBcmd1bWVudHMgfSBmcm9tIFwiZWZmZWN0L1BpcGVhYmxlXCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIFNjaGVtYSBmcm9tIFwiZWZmZWN0L1NjaGVtYVwiO1xuaW1wb3J0ICogYXMgSHR0cEFwaVNjaGVtYSBmcm9tIFwiLi9IdHRwQXBpU2NoZW1hLmpzXCI7XG5pbXBvcnQgKiBhcyBIdHRwUm91dGVyIGZyb20gXCIuL0h0dHBSb3V0ZXIuanNcIjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZHNcbiAqL1xuZXhwb3J0IGNvbnN0IFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQXBpRW5kcG9pbnRcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGd1YXJkc1xuICovXG5leHBvcnQgY29uc3QgaXNIdHRwQXBpRW5kcG9pbnQgPSB1ID0+IFByZWRpY2F0ZS5oYXNQcm9wZXJ0eSh1LCBUeXBlSWQpO1xuY29uc3QgUHJvdG8gPSB7XG4gIFtUeXBlSWRdOiBUeXBlSWQsXG4gIHBpcGUoKSB7XG4gICAgcmV0dXJuIHBpcGVBcmd1bWVudHModGhpcywgYXJndW1lbnRzKTtcbiAgfSxcbiAgYWRkU3VjY2VzcyhzY2hlbWEsIGFubm90YXRpb25zKSB7XG4gICAgc2NoZW1hID0gYW5ub3RhdGlvbnM/LnN0YXR1cyA/IHNjaGVtYS5hbm5vdGF0aW9ucyhIdHRwQXBpU2NoZW1hLmFubm90YXRpb25zKHtcbiAgICAgIHN0YXR1czogYW5ub3RhdGlvbnMuc3RhdHVzXG4gICAgfSkpIDogc2NoZW1hO1xuICAgIHJldHVybiBtYWtlUHJvdG8oe1xuICAgICAgLi4udGhpcyxcbiAgICAgIHN1Y2Nlc3NTY2hlbWE6IHRoaXMuc3VjY2Vzc1NjaGVtYSA9PT0gSHR0cEFwaVNjaGVtYS5Ob0NvbnRlbnQgPyBzY2hlbWEgOiBIdHRwQXBpU2NoZW1hLlVuaW9uVW5pZnkodGhpcy5zdWNjZXNzU2NoZW1hLCBzY2hlbWEpXG4gICAgfSk7XG4gIH0sXG4gIGFkZEVycm9yKHNjaGVtYSwgYW5ub3RhdGlvbnMpIHtcbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIC4uLnRoaXMsXG4gICAgICBlcnJvclNjaGVtYTogSHR0cEFwaVNjaGVtYS5VbmlvblVuaWZ5KHRoaXMuZXJyb3JTY2hlbWEsIGFubm90YXRpb25zPy5zdGF0dXMgPyBzY2hlbWEuYW5ub3RhdGlvbnMoSHR0cEFwaVNjaGVtYS5hbm5vdGF0aW9ucyh7XG4gICAgICAgIHN0YXR1czogYW5ub3RhdGlvbnMuc3RhdHVzXG4gICAgICB9KSkgOiBzY2hlbWEpXG4gICAgfSk7XG4gIH0sXG4gIHNldFBheWxvYWQoc2NoZW1hKSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICAuLi50aGlzLFxuICAgICAgcGF5bG9hZFNjaGVtYTogT3B0aW9uLnNvbWUoc2NoZW1hKVxuICAgIH0pO1xuICB9LFxuICBzZXRQYXRoKHNjaGVtYSkge1xuICAgIHJldHVybiBtYWtlUHJvdG8oe1xuICAgICAgLi4udGhpcyxcbiAgICAgIHBhdGhTY2hlbWE6IE9wdGlvbi5zb21lKHNjaGVtYSlcbiAgICB9KTtcbiAgfSxcbiAgc2V0VXJsUGFyYW1zKHNjaGVtYSkge1xuICAgIHJldHVybiBtYWtlUHJvdG8oe1xuICAgICAgLi4udGhpcyxcbiAgICAgIHVybFBhcmFtc1NjaGVtYTogT3B0aW9uLnNvbWUoc2NoZW1hKVxuICAgIH0pO1xuICB9LFxuICBzZXRIZWFkZXJzKHNjaGVtYSkge1xuICAgIHJldHVybiBtYWtlUHJvdG8oe1xuICAgICAgLi4udGhpcyxcbiAgICAgIGhlYWRlcnNTY2hlbWE6IE9wdGlvbi5zb21lKHNjaGVtYSlcbiAgICB9KTtcbiAgfSxcbiAgcHJlZml4KHByZWZpeCkge1xuICAgIHJldHVybiBtYWtlUHJvdG8oe1xuICAgICAgLi4udGhpcyxcbiAgICAgIHBhdGg6IEh0dHBSb3V0ZXIucHJlZml4UGF0aCh0aGlzLnBhdGgsIHByZWZpeClcbiAgICB9KTtcbiAgfSxcbiAgbWlkZGxld2FyZShtaWRkbGV3YXJlKSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICAuLi50aGlzLFxuICAgICAgZXJyb3JTY2hlbWE6IEh0dHBBcGlTY2hlbWEuVW5pb25VbmlmeSh0aGlzLmVycm9yU2NoZW1hLCBtaWRkbGV3YXJlLmZhaWx1cmUpLFxuICAgICAgbWlkZGxld2FyZXM6IG5ldyBTZXQoWy4uLnRoaXMubWlkZGxld2FyZXMsIG1pZGRsZXdhcmVdKVxuICAgIH0pO1xuICB9LFxuICBhbm5vdGF0ZSh0YWcsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICAuLi50aGlzLFxuICAgICAgYW5ub3RhdGlvbnM6IENvbnRleHQuYWRkKHRoaXMuYW5ub3RhdGlvbnMsIHRhZywgdmFsdWUpXG4gICAgfSk7XG4gIH0sXG4gIGFubm90YXRlQ29udGV4dChjb250ZXh0KSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICAuLi50aGlzLFxuICAgICAgYW5ub3RhdGlvbnM6IENvbnRleHQubWVyZ2UodGhpcy5hbm5vdGF0aW9ucywgY29udGV4dClcbiAgICB9KTtcbiAgfVxufTtcbmNvbnN0IG1ha2VQcm90byA9IG9wdGlvbnMgPT4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFByb3RvKSwgb3B0aW9ucyk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgbWFrZSA9IG1ldGhvZCA9PiAobmFtZSwgLi4uYXJncykgPT4ge1xuICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIG5hbWUsXG4gICAgICBwYXRoOiBhcmdzWzBdLFxuICAgICAgbWV0aG9kLFxuICAgICAgcGF0aFNjaGVtYTogT3B0aW9uLm5vbmUoKSxcbiAgICAgIHVybFBhcmFtc1NjaGVtYTogT3B0aW9uLm5vbmUoKSxcbiAgICAgIHBheWxvYWRTY2hlbWE6IE9wdGlvbi5ub25lKCksXG4gICAgICBoZWFkZXJzU2NoZW1hOiBPcHRpb24ubm9uZSgpLFxuICAgICAgc3VjY2Vzc1NjaGVtYTogSHR0cEFwaVNjaGVtYS5Ob0NvbnRlbnQsXG4gICAgICBlcnJvclNjaGVtYTogU2NoZW1hLk5ldmVyLFxuICAgICAgYW5ub3RhdGlvbnM6IENvbnRleHQuZW1wdHkoKSxcbiAgICAgIG1pZGRsZXdhcmVzOiBuZXcgU2V0KClcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gKHNlZ21lbnRzLCAuLi5zY2hlbWFzKSA9PiB7XG4gICAgbGV0IHBhdGggPSBzZWdtZW50c1swXTtcbiAgICBsZXQgcGF0aFNjaGVtYSA9IE9wdGlvbi5ub25lKCk7XG4gICAgaWYgKHNjaGVtYXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tpXTtcbiAgICAgICAgY29uc3Qga2V5ID0gSHR0cEFwaVNjaGVtYS5nZXRQYXJhbShzY2hlbWEuYXN0KSA/PyBTdHJpbmcoaSk7XG4gICAgICAgIG9ialtrZXldID0gc2NoZW1hO1xuICAgICAgICBwYXRoICs9IGA6JHtrZXl9JHtzZWdtZW50c1tpICsgMV19YDtcbiAgICAgIH1cbiAgICAgIHBhdGhTY2hlbWEgPSBPcHRpb24uc29tZShTY2hlbWEuU3RydWN0KG9iaikpO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIG5hbWUsXG4gICAgICBwYXRoLFxuICAgICAgbWV0aG9kLFxuICAgICAgcGF0aFNjaGVtYSxcbiAgICAgIHVybFBhcmFtc1NjaGVtYTogT3B0aW9uLm5vbmUoKSxcbiAgICAgIHBheWxvYWRTY2hlbWE6IE9wdGlvbi5ub25lKCksXG4gICAgICBoZWFkZXJzU2NoZW1hOiBPcHRpb24ubm9uZSgpLFxuICAgICAgc3VjY2Vzc1NjaGVtYTogSHR0cEFwaVNjaGVtYS5Ob0NvbnRlbnQsXG4gICAgICBlcnJvclNjaGVtYTogU2NoZW1hLk5ldmVyLFxuICAgICAgYW5ub3RhdGlvbnM6IENvbnRleHQuZW1wdHkoKSxcbiAgICAgIG1pZGRsZXdhcmVzOiBuZXcgU2V0KClcbiAgICB9KTtcbiAgfTtcbn07XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgZ2V0ID0gLyojX19QVVJFX18qL21ha2UoXCJHRVRcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgcG9zdCA9IC8qI19fUFVSRV9fKi9tYWtlKFwiUE9TVFwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBwdXQgPSAvKiNfX1BVUkVfXyovbWFrZShcIlBVVFwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBwYXRjaCA9IC8qI19fUFVSRV9fKi9tYWtlKFwiUEFUQ0hcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgZGVsID0gLyojX19QVVJFX18qL21ha2UoXCJERUxFVEVcIik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwQXBpRW5kcG9pbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiEndpoint.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiError.js":
/*!********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpApiError.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BadRequest: () => (/* binding */ BadRequest),\n/* harmony export */   Conflict: () => (/* binding */ Conflict),\n/* harmony export */   Forbidden: () => (/* binding */ Forbidden),\n/* harmony export */   Gone: () => (/* binding */ Gone),\n/* harmony export */   HttpApiDecodeError: () => (/* binding */ HttpApiDecodeError),\n/* harmony export */   InternalServerError: () => (/* binding */ InternalServerError),\n/* harmony export */   Issue: () => (/* binding */ Issue),\n/* harmony export */   MethodNotAllowed: () => (/* binding */ MethodNotAllowed),\n/* harmony export */   NotAcceptable: () => (/* binding */ NotAcceptable),\n/* harmony export */   NotFound: () => (/* binding */ NotFound),\n/* harmony export */   NotImplemented: () => (/* binding */ NotImplemented),\n/* harmony export */   RequestTimeout: () => (/* binding */ RequestTimeout),\n/* harmony export */   ServiceUnavailable: () => (/* binding */ ServiceUnavailable),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   Unauthorized: () => (/* binding */ Unauthorized)\n/* harmony export */ });\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_ParseResult__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/ParseResult */ \"(rsc)/../../node_modules/effect/dist/esm/ParseResult.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HttpApiSchema.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiSchema.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiError\");\n/**\n * @since 1.0.0\n * @category schemas\n */\nclass Issue extends /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_0__.ArrayFormatterIssue.annotations({\n  identifier: \"Issue\",\n  description: \"Represents an error encountered while parsing a value to match the schema\"\n}) {}\n/**\n * @since 1.0.0\n * @category errors\n */\nclass HttpApiDecodeError extends /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_0__.TaggedError()(\"HttpApiDecodeError\", {\n  issues: /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_0__.Array(Issue),\n  message: effect_Schema__WEBPACK_IMPORTED_MODULE_0__.String\n}, /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.annotations({\n  status: 400,\n  description: \"The request did not match the expected schema\"\n})) {\n  /**\n   * @since 1.0.0\n   */\n  static fromParseError(error) {\n    return effect_ParseResult__WEBPACK_IMPORTED_MODULE_2__.ArrayFormatter.formatError(error).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.zip(effect_ParseResult__WEBPACK_IMPORTED_MODULE_2__.TreeFormatter.formatError(error)), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.map(([issues, message]) => new HttpApiDecodeError({\n      issues,\n      message\n    })));\n  }\n  /**\n   * @since 1.0.0\n   */\n  static refailParseError(error) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.flatMap(HttpApiDecodeError.fromParseError(error), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.fail);\n  }\n}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass BadRequest extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"BadRequest\",\n  status: 400\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass Unauthorized extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"Unauthorized\",\n  status: 401\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass Forbidden extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"Forbidden\",\n  status: 403\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass NotFound extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"NotFound\",\n  status: 404\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass MethodNotAllowed extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"MethodNotAllowed\",\n  status: 405\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass NotAcceptable extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"NotAcceptable\",\n  status: 406\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass RequestTimeout extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"RequestTimeout\",\n  status: 408\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass Conflict extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"Conflict\",\n  status: 409\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass Gone extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"Gone\",\n  status: 410\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass InternalServerError extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"InternalServerError\",\n  status: 500\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass NotImplemented extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"NotImplemented\",\n  status: 501\n}) {}\n/**\n * @since 1.0.0\n * @category empty errors\n */\nclass ServiceUnavailable extends /*#__PURE__*/_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.EmptyError()({\n  tag: \"ServiceUnavailable\",\n  status: 503\n}) {}\n//# sourceMappingURL=HttpApiError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwaUVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDd0M7QUFDVTtBQUNWO0FBQ1k7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ08saUNBQWlDLDhEQUEwQjtBQUNsRTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sOENBQThDLHNEQUFrQjtBQUN2RSx1QkFBdUIsZ0RBQVk7QUFDbkMsV0FBVyxpREFBYTtBQUN4QixDQUFDLGVBQWUsMERBQXlCO0FBQ3pDO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhEQUEwQix5QkFBeUIsOENBQVUsQ0FBQyw2REFBeUIsc0JBQXNCLDhDQUFVO0FBQ2xJO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0RBQWMsMkNBQTJDLCtDQUFXO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQyx5REFBd0I7QUFDckU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdDQUF3Qyx5REFBd0I7QUFDdkU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFDQUFxQyx5REFBd0I7QUFDcEU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQyx5REFBd0I7QUFDbkU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRDQUE0Qyx5REFBd0I7QUFDM0U7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlDQUF5Qyx5REFBd0I7QUFDeEU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBDQUEwQyx5REFBd0I7QUFDekU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQyx5REFBd0I7QUFDbkU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGdDQUFnQyx5REFBd0I7QUFDL0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtDQUErQyx5REFBd0I7QUFDOUU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBDQUEwQyx5REFBd0I7QUFDekU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDhDQUE4Qyx5REFBd0I7QUFDN0U7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9IdHRwQXBpRXJyb3IuanM/YTZkZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIFBhcnNlUmVzdWx0IGZyb20gXCJlZmZlY3QvUGFyc2VSZXN1bHRcIjtcbmltcG9ydCAqIGFzIFNjaGVtYSBmcm9tIFwiZWZmZWN0L1NjaGVtYVwiO1xuaW1wb3J0ICogYXMgSHR0cEFwaVNjaGVtYSBmcm9tIFwiLi9IdHRwQXBpU2NoZW1hLmpzXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEFwaUVycm9yXCIpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBzY2hlbWFzXG4gKi9cbmV4cG9ydCBjbGFzcyBJc3N1ZSBleHRlbmRzIC8qI19fUFVSRV9fKi9TY2hlbWEuQXJyYXlGb3JtYXR0ZXJJc3N1ZS5hbm5vdGF0aW9ucyh7XG4gIGlkZW50aWZpZXI6IFwiSXNzdWVcIixcbiAgZGVzY3JpcHRpb246IFwiUmVwcmVzZW50cyBhbiBlcnJvciBlbmNvdW50ZXJlZCB3aGlsZSBwYXJzaW5nIGEgdmFsdWUgdG8gbWF0Y2ggdGhlIHNjaGVtYVwiXG59KSB7fVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIEh0dHBBcGlEZWNvZGVFcnJvciBleHRlbmRzIC8qI19fUFVSRV9fKi9TY2hlbWEuVGFnZ2VkRXJyb3IoKShcIkh0dHBBcGlEZWNvZGVFcnJvclwiLCB7XG4gIGlzc3VlczogLyojX19QVVJFX18qL1NjaGVtYS5BcnJheShJc3N1ZSksXG4gIG1lc3NhZ2U6IFNjaGVtYS5TdHJpbmdcbn0sIC8qI19fUFVSRV9fKi9IdHRwQXBpU2NoZW1hLmFubm90YXRpb25zKHtcbiAgc3RhdHVzOiA0MDAsXG4gIGRlc2NyaXB0aW9uOiBcIlRoZSByZXF1ZXN0IGRpZCBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHNjaGVtYVwiXG59KSkge1xuICAvKipcbiAgICogQHNpbmNlIDEuMC4wXG4gICAqL1xuICBzdGF0aWMgZnJvbVBhcnNlRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gUGFyc2VSZXN1bHQuQXJyYXlGb3JtYXR0ZXIuZm9ybWF0RXJyb3IoZXJyb3IpLnBpcGUoRWZmZWN0LnppcChQYXJzZVJlc3VsdC5UcmVlRm9ybWF0dGVyLmZvcm1hdEVycm9yKGVycm9yKSksIEVmZmVjdC5tYXAoKFtpc3N1ZXMsIG1lc3NhZ2VdKSA9PiBuZXcgSHR0cEFwaURlY29kZUVycm9yKHtcbiAgICAgIGlzc3VlcyxcbiAgICAgIG1lc3NhZ2VcbiAgICB9KSkpO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICovXG4gIHN0YXRpYyByZWZhaWxQYXJzZUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKEh0dHBBcGlEZWNvZGVFcnJvci5mcm9tUGFyc2VFcnJvcihlcnJvciksIEVmZmVjdC5mYWlsKTtcbiAgfVxufVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbXB0eSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIEJhZFJlcXVlc3QgZXh0ZW5kcyAvKiNfX1BVUkVfXyovSHR0cEFwaVNjaGVtYS5FbXB0eUVycm9yKCkoe1xuICB0YWc6IFwiQmFkUmVxdWVzdFwiLFxuICBzdGF0dXM6IDQwMFxufSkge31cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW1wdHkgZXJyb3JzXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmF1dGhvcml6ZWQgZXh0ZW5kcyAvKiNfX1BVUkVfXyovSHR0cEFwaVNjaGVtYS5FbXB0eUVycm9yKCkoe1xuICB0YWc6IFwiVW5hdXRob3JpemVkXCIsXG4gIHN0YXR1czogNDAxXG59KSB7fVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbXB0eSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIEZvcmJpZGRlbiBleHRlbmRzIC8qI19fUFVSRV9fKi9IdHRwQXBpU2NoZW1hLkVtcHR5RXJyb3IoKSh7XG4gIHRhZzogXCJGb3JiaWRkZW5cIixcbiAgc3RhdHVzOiA0MDNcbn0pIHt9XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVtcHR5IGVycm9yc1xuICovXG5leHBvcnQgY2xhc3MgTm90Rm91bmQgZXh0ZW5kcyAvKiNfX1BVUkVfXyovSHR0cEFwaVNjaGVtYS5FbXB0eUVycm9yKCkoe1xuICB0YWc6IFwiTm90Rm91bmRcIixcbiAgc3RhdHVzOiA0MDRcbn0pIHt9XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVtcHR5IGVycm9yc1xuICovXG5leHBvcnQgY2xhc3MgTWV0aG9kTm90QWxsb3dlZCBleHRlbmRzIC8qI19fUFVSRV9fKi9IdHRwQXBpU2NoZW1hLkVtcHR5RXJyb3IoKSh7XG4gIHRhZzogXCJNZXRob2ROb3RBbGxvd2VkXCIsXG4gIHN0YXR1czogNDA1XG59KSB7fVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbXB0eSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIE5vdEFjY2VwdGFibGUgZXh0ZW5kcyAvKiNfX1BVUkVfXyovSHR0cEFwaVNjaGVtYS5FbXB0eUVycm9yKCkoe1xuICB0YWc6IFwiTm90QWNjZXB0YWJsZVwiLFxuICBzdGF0dXM6IDQwNlxufSkge31cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW1wdHkgZXJyb3JzXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0VGltZW91dCBleHRlbmRzIC8qI19fUFVSRV9fKi9IdHRwQXBpU2NoZW1hLkVtcHR5RXJyb3IoKSh7XG4gIHRhZzogXCJSZXF1ZXN0VGltZW91dFwiLFxuICBzdGF0dXM6IDQwOFxufSkge31cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW1wdHkgZXJyb3JzXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25mbGljdCBleHRlbmRzIC8qI19fUFVSRV9fKi9IdHRwQXBpU2NoZW1hLkVtcHR5RXJyb3IoKSh7XG4gIHRhZzogXCJDb25mbGljdFwiLFxuICBzdGF0dXM6IDQwOVxufSkge31cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW1wdHkgZXJyb3JzXG4gKi9cbmV4cG9ydCBjbGFzcyBHb25lIGV4dGVuZHMgLyojX19QVVJFX18qL0h0dHBBcGlTY2hlbWEuRW1wdHlFcnJvcigpKHtcbiAgdGFnOiBcIkdvbmVcIixcbiAgc3RhdHVzOiA0MTBcbn0pIHt9XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVtcHR5IGVycm9yc1xuICovXG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIC8qI19fUFVSRV9fKi9IdHRwQXBpU2NoZW1hLkVtcHR5RXJyb3IoKSh7XG4gIHRhZzogXCJJbnRlcm5hbFNlcnZlckVycm9yXCIsXG4gIHN0YXR1czogNTAwXG59KSB7fVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbXB0eSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIE5vdEltcGxlbWVudGVkIGV4dGVuZHMgLyojX19QVVJFX18qL0h0dHBBcGlTY2hlbWEuRW1wdHlFcnJvcigpKHtcbiAgdGFnOiBcIk5vdEltcGxlbWVudGVkXCIsXG4gIHN0YXR1czogNTAxXG59KSB7fVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbXB0eSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIFNlcnZpY2VVbmF2YWlsYWJsZSBleHRlbmRzIC8qI19fUFVSRV9fKi9IdHRwQXBpU2NoZW1hLkVtcHR5RXJyb3IoKSh7XG4gIHRhZzogXCJTZXJ2aWNlVW5hdmFpbGFibGVcIixcbiAgc3RhdHVzOiA1MDNcbn0pIHt9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwQXBpRXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiError.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiGroup.js":
/*!********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpApiGroup.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   isHttpApiGroup: () => (/* binding */ isHttpApiGroup),\n/* harmony export */   make: () => (/* binding */ make)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Pipeable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Pipeable */ \"(rsc)/../../node_modules/effect/dist/esm/Pipeable.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Record__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Record */ \"(rsc)/../../node_modules/effect/dist/esm/Record.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HttpApiSchema.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiSchema.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiGroup\");\n/**\n * @since 1.0.0\n * @category guards\n */\nconst isHttpApiGroup = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, TypeId);\nconst Proto = {\n  [TypeId]: TypeId,\n  add(endpoint) {\n    return makeProto({\n      identifier: this.identifier,\n      topLevel: this.topLevel,\n      endpoints: {\n        ...this.endpoints,\n        [endpoint.name]: endpoint\n      },\n      errorSchema: this.errorSchema,\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  addError(schema, annotations) {\n    return makeProto({\n      identifier: this.identifier,\n      topLevel: this.topLevel,\n      endpoints: this.endpoints,\n      errorSchema: _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.UnionUnify(this.errorSchema, annotations?.status ? schema.annotations(_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.annotations({\n        status: annotations.status\n      })) : schema),\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  prefix(prefix) {\n    return makeProto({\n      identifier: this.identifier,\n      topLevel: this.topLevel,\n      endpoints: effect_Record__WEBPACK_IMPORTED_MODULE_2__.map(this.endpoints, endpoint => endpoint.prefix(prefix)),\n      errorSchema: this.errorSchema,\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  middleware(middleware) {\n    return makeProto({\n      identifier: this.identifier,\n      topLevel: this.topLevel,\n      endpoints: this.endpoints,\n      errorSchema: _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_1__.UnionUnify(this.errorSchema, middleware.failure),\n      annotations: this.annotations,\n      middlewares: new Set([...this.middlewares, middleware])\n    });\n  },\n  middlewareEndpoints(middleware) {\n    return makeProto({\n      identifier: this.identifier,\n      topLevel: this.topLevel,\n      endpoints: effect_Record__WEBPACK_IMPORTED_MODULE_2__.map(this.endpoints, endpoint => endpoint.middleware(middleware)),\n      errorSchema: this.errorSchema,\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  annotateContext(context) {\n    return makeProto({\n      identifier: this.identifier,\n      topLevel: this.topLevel,\n      endpoints: this.endpoints,\n      errorSchema: this.errorSchema,\n      annotations: effect_Context__WEBPACK_IMPORTED_MODULE_3__.merge(this.annotations, context),\n      middlewares: this.middlewares\n    });\n  },\n  annotate(tag, value) {\n    return makeProto({\n      identifier: this.identifier,\n      topLevel: this.topLevel,\n      endpoints: this.endpoints,\n      errorSchema: this.errorSchema,\n      annotations: effect_Context__WEBPACK_IMPORTED_MODULE_3__.add(this.annotations, tag, value),\n      middlewares: this.middlewares\n    });\n  },\n  annotateEndpointsContext(context) {\n    return makeProto({\n      identifier: this.identifier,\n      topLevel: this.topLevel,\n      endpoints: effect_Record__WEBPACK_IMPORTED_MODULE_2__.map(this.endpoints, endpoint => endpoint.annotateContext(context)),\n      errorSchema: this.errorSchema,\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  annotateEndpoints(tag, value) {\n    return makeProto({\n      identifier: this.identifier,\n      topLevel: this.topLevel,\n      endpoints: effect_Record__WEBPACK_IMPORTED_MODULE_2__.map(this.endpoints, endpoint => endpoint.annotate(tag, value)),\n      errorSchema: this.errorSchema,\n      annotations: this.annotations,\n      middlewares: this.middlewares\n    });\n  },\n  pipe() {\n    return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_4__.pipeArguments)(this, arguments);\n  }\n};\nconst makeProto = options => {\n  function HttpApiGroup() {}\n  Object.setPrototypeOf(HttpApiGroup, Proto);\n  return Object.assign(HttpApiGroup, options);\n};\n/**\n * An `HttpApiGroup` is a collection of `HttpApiEndpoint`s. You can use an `HttpApiGroup` to\n * represent a portion of your domain.\n *\n * The endpoints can be implemented later using the `HttpApiBuilder.group` api.\n *\n * @since 1.0.0\n * @category constructors\n */\nconst make = (identifier, options) => makeProto({\n  identifier,\n  topLevel: options?.topLevel ?? false,\n  endpoints: effect_Record__WEBPACK_IMPORTED_MODULE_2__.empty(),\n  errorSchema: effect_Schema__WEBPACK_IMPORTED_MODULE_5__.Never,\n  annotations: effect_Context__WEBPACK_IMPORTED_MODULE_3__.empty(),\n  middlewares: new Set()\n});\n//# sourceMappingURL=HttpApiGroup.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwaUdyb3VwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUMwQztBQUNNO0FBQ0Y7QUFDTjtBQUNBO0FBQ1k7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLHlEQUFxQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlEQUF3Qiw0REFBNEQsMERBQXlCO0FBQ2hJO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhDQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5REFBd0I7QUFDM0M7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOENBQVU7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaURBQWE7QUFDaEM7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBVztBQUM5QjtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOENBQVU7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4Q0FBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EsV0FBVyw4REFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGFBQWEsZ0RBQVk7QUFDekIsZUFBZSxnREFBWTtBQUMzQixlQUFlLGlEQUFhO0FBQzVCO0FBQ0EsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL0h0dHBBcGlHcm91cC5qcz82ZDM0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgeyBwaXBlQXJndW1lbnRzIH0gZnJvbSBcImVmZmVjdC9QaXBlYWJsZVwiO1xuaW1wb3J0ICogYXMgUHJlZGljYXRlIGZyb20gXCJlZmZlY3QvUHJlZGljYXRlXCI7XG5pbXBvcnQgKiBhcyBSZWNvcmQgZnJvbSBcImVmZmVjdC9SZWNvcmRcIjtcbmltcG9ydCAqIGFzIFNjaGVtYSBmcm9tIFwiZWZmZWN0L1NjaGVtYVwiO1xuaW1wb3J0ICogYXMgSHR0cEFwaVNjaGVtYSBmcm9tIFwiLi9IdHRwQXBpU2NoZW1hLmpzXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEFwaUdyb3VwXCIpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqL1xuZXhwb3J0IGNvbnN0IGlzSHR0cEFwaUdyb3VwID0gdSA9PiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgVHlwZUlkKTtcbmNvbnN0IFByb3RvID0ge1xuICBbVHlwZUlkXTogVHlwZUlkLFxuICBhZGQoZW5kcG9pbnQpIHtcbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIGlkZW50aWZpZXI6IHRoaXMuaWRlbnRpZmllcixcbiAgICAgIHRvcExldmVsOiB0aGlzLnRvcExldmVsLFxuICAgICAgZW5kcG9pbnRzOiB7XG4gICAgICAgIC4uLnRoaXMuZW5kcG9pbnRzLFxuICAgICAgICBbZW5kcG9pbnQubmFtZV06IGVuZHBvaW50XG4gICAgICB9LFxuICAgICAgZXJyb3JTY2hlbWE6IHRoaXMuZXJyb3JTY2hlbWEsXG4gICAgICBhbm5vdGF0aW9uczogdGhpcy5hbm5vdGF0aW9ucyxcbiAgICAgIG1pZGRsZXdhcmVzOiB0aGlzLm1pZGRsZXdhcmVzXG4gICAgfSk7XG4gIH0sXG4gIGFkZEVycm9yKHNjaGVtYSwgYW5ub3RhdGlvbnMpIHtcbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIGlkZW50aWZpZXI6IHRoaXMuaWRlbnRpZmllcixcbiAgICAgIHRvcExldmVsOiB0aGlzLnRvcExldmVsLFxuICAgICAgZW5kcG9pbnRzOiB0aGlzLmVuZHBvaW50cyxcbiAgICAgIGVycm9yU2NoZW1hOiBIdHRwQXBpU2NoZW1hLlVuaW9uVW5pZnkodGhpcy5lcnJvclNjaGVtYSwgYW5ub3RhdGlvbnM/LnN0YXR1cyA/IHNjaGVtYS5hbm5vdGF0aW9ucyhIdHRwQXBpU2NoZW1hLmFubm90YXRpb25zKHtcbiAgICAgICAgc3RhdHVzOiBhbm5vdGF0aW9ucy5zdGF0dXNcbiAgICAgIH0pKSA6IHNjaGVtYSksXG4gICAgICBhbm5vdGF0aW9uczogdGhpcy5hbm5vdGF0aW9ucyxcbiAgICAgIG1pZGRsZXdhcmVzOiB0aGlzLm1pZGRsZXdhcmVzXG4gICAgfSk7XG4gIH0sXG4gIHByZWZpeChwcmVmaXgpIHtcbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIGlkZW50aWZpZXI6IHRoaXMuaWRlbnRpZmllcixcbiAgICAgIHRvcExldmVsOiB0aGlzLnRvcExldmVsLFxuICAgICAgZW5kcG9pbnRzOiBSZWNvcmQubWFwKHRoaXMuZW5kcG9pbnRzLCBlbmRwb2ludCA9PiBlbmRwb2ludC5wcmVmaXgocHJlZml4KSksXG4gICAgICBlcnJvclNjaGVtYTogdGhpcy5lcnJvclNjaGVtYSxcbiAgICAgIGFubm90YXRpb25zOiB0aGlzLmFubm90YXRpb25zLFxuICAgICAgbWlkZGxld2FyZXM6IHRoaXMubWlkZGxld2FyZXNcbiAgICB9KTtcbiAgfSxcbiAgbWlkZGxld2FyZShtaWRkbGV3YXJlKSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICBpZGVudGlmaWVyOiB0aGlzLmlkZW50aWZpZXIsXG4gICAgICB0b3BMZXZlbDogdGhpcy50b3BMZXZlbCxcbiAgICAgIGVuZHBvaW50czogdGhpcy5lbmRwb2ludHMsXG4gICAgICBlcnJvclNjaGVtYTogSHR0cEFwaVNjaGVtYS5VbmlvblVuaWZ5KHRoaXMuZXJyb3JTY2hlbWEsIG1pZGRsZXdhcmUuZmFpbHVyZSksXG4gICAgICBhbm5vdGF0aW9uczogdGhpcy5hbm5vdGF0aW9ucyxcbiAgICAgIG1pZGRsZXdhcmVzOiBuZXcgU2V0KFsuLi50aGlzLm1pZGRsZXdhcmVzLCBtaWRkbGV3YXJlXSlcbiAgICB9KTtcbiAgfSxcbiAgbWlkZGxld2FyZUVuZHBvaW50cyhtaWRkbGV3YXJlKSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICBpZGVudGlmaWVyOiB0aGlzLmlkZW50aWZpZXIsXG4gICAgICB0b3BMZXZlbDogdGhpcy50b3BMZXZlbCxcbiAgICAgIGVuZHBvaW50czogUmVjb3JkLm1hcCh0aGlzLmVuZHBvaW50cywgZW5kcG9pbnQgPT4gZW5kcG9pbnQubWlkZGxld2FyZShtaWRkbGV3YXJlKSksXG4gICAgICBlcnJvclNjaGVtYTogdGhpcy5lcnJvclNjaGVtYSxcbiAgICAgIGFubm90YXRpb25zOiB0aGlzLmFubm90YXRpb25zLFxuICAgICAgbWlkZGxld2FyZXM6IHRoaXMubWlkZGxld2FyZXNcbiAgICB9KTtcbiAgfSxcbiAgYW5ub3RhdGVDb250ZXh0KGNvbnRleHQpIHtcbiAgICByZXR1cm4gbWFrZVByb3RvKHtcbiAgICAgIGlkZW50aWZpZXI6IHRoaXMuaWRlbnRpZmllcixcbiAgICAgIHRvcExldmVsOiB0aGlzLnRvcExldmVsLFxuICAgICAgZW5kcG9pbnRzOiB0aGlzLmVuZHBvaW50cyxcbiAgICAgIGVycm9yU2NoZW1hOiB0aGlzLmVycm9yU2NoZW1hLFxuICAgICAgYW5ub3RhdGlvbnM6IENvbnRleHQubWVyZ2UodGhpcy5hbm5vdGF0aW9ucywgY29udGV4dCksXG4gICAgICBtaWRkbGV3YXJlczogdGhpcy5taWRkbGV3YXJlc1xuICAgIH0pO1xuICB9LFxuICBhbm5vdGF0ZSh0YWcsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICBpZGVudGlmaWVyOiB0aGlzLmlkZW50aWZpZXIsXG4gICAgICB0b3BMZXZlbDogdGhpcy50b3BMZXZlbCxcbiAgICAgIGVuZHBvaW50czogdGhpcy5lbmRwb2ludHMsXG4gICAgICBlcnJvclNjaGVtYTogdGhpcy5lcnJvclNjaGVtYSxcbiAgICAgIGFubm90YXRpb25zOiBDb250ZXh0LmFkZCh0aGlzLmFubm90YXRpb25zLCB0YWcsIHZhbHVlKSxcbiAgICAgIG1pZGRsZXdhcmVzOiB0aGlzLm1pZGRsZXdhcmVzXG4gICAgfSk7XG4gIH0sXG4gIGFubm90YXRlRW5kcG9pbnRzQ29udGV4dChjb250ZXh0KSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICBpZGVudGlmaWVyOiB0aGlzLmlkZW50aWZpZXIsXG4gICAgICB0b3BMZXZlbDogdGhpcy50b3BMZXZlbCxcbiAgICAgIGVuZHBvaW50czogUmVjb3JkLm1hcCh0aGlzLmVuZHBvaW50cywgZW5kcG9pbnQgPT4gZW5kcG9pbnQuYW5ub3RhdGVDb250ZXh0KGNvbnRleHQpKSxcbiAgICAgIGVycm9yU2NoZW1hOiB0aGlzLmVycm9yU2NoZW1hLFxuICAgICAgYW5ub3RhdGlvbnM6IHRoaXMuYW5ub3RhdGlvbnMsXG4gICAgICBtaWRkbGV3YXJlczogdGhpcy5taWRkbGV3YXJlc1xuICAgIH0pO1xuICB9LFxuICBhbm5vdGF0ZUVuZHBvaW50cyh0YWcsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG1ha2VQcm90byh7XG4gICAgICBpZGVudGlmaWVyOiB0aGlzLmlkZW50aWZpZXIsXG4gICAgICB0b3BMZXZlbDogdGhpcy50b3BMZXZlbCxcbiAgICAgIGVuZHBvaW50czogUmVjb3JkLm1hcCh0aGlzLmVuZHBvaW50cywgZW5kcG9pbnQgPT4gZW5kcG9pbnQuYW5ub3RhdGUodGFnLCB2YWx1ZSkpLFxuICAgICAgZXJyb3JTY2hlbWE6IHRoaXMuZXJyb3JTY2hlbWEsXG4gICAgICBhbm5vdGF0aW9uczogdGhpcy5hbm5vdGF0aW9ucyxcbiAgICAgIG1pZGRsZXdhcmVzOiB0aGlzLm1pZGRsZXdhcmVzXG4gICAgfSk7XG4gIH0sXG4gIHBpcGUoKSB7XG4gICAgcmV0dXJuIHBpcGVBcmd1bWVudHModGhpcywgYXJndW1lbnRzKTtcbiAgfVxufTtcbmNvbnN0IG1ha2VQcm90byA9IG9wdGlvbnMgPT4ge1xuICBmdW5jdGlvbiBIdHRwQXBpR3JvdXAoKSB7fVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoSHR0cEFwaUdyb3VwLCBQcm90byk7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKEh0dHBBcGlHcm91cCwgb3B0aW9ucyk7XG59O1xuLyoqXG4gKiBBbiBgSHR0cEFwaUdyb3VwYCBpcyBhIGNvbGxlY3Rpb24gb2YgYEh0dHBBcGlFbmRwb2ludGBzLiBZb3UgY2FuIHVzZSBhbiBgSHR0cEFwaUdyb3VwYCB0b1xuICogcmVwcmVzZW50IGEgcG9ydGlvbiBvZiB5b3VyIGRvbWFpbi5cbiAqXG4gKiBUaGUgZW5kcG9pbnRzIGNhbiBiZSBpbXBsZW1lbnRlZCBsYXRlciB1c2luZyB0aGUgYEh0dHBBcGlCdWlsZGVyLmdyb3VwYCBhcGkuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlID0gKGlkZW50aWZpZXIsIG9wdGlvbnMpID0+IG1ha2VQcm90byh7XG4gIGlkZW50aWZpZXIsXG4gIHRvcExldmVsOiBvcHRpb25zPy50b3BMZXZlbCA/PyBmYWxzZSxcbiAgZW5kcG9pbnRzOiBSZWNvcmQuZW1wdHkoKSxcbiAgZXJyb3JTY2hlbWE6IFNjaGVtYS5OZXZlcixcbiAgYW5ub3RhdGlvbnM6IENvbnRleHQuZW1wdHkoKSxcbiAgbWlkZGxld2FyZXM6IG5ldyBTZXQoKVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwQXBpR3JvdXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiGroup.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiMiddleware.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpApiMiddleware.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SecurityTypeId: () => (/* binding */ SecurityTypeId),\n/* harmony export */   Tag: () => (/* binding */ Tag),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   isSecurity: () => (/* binding */ isSecurity)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiMiddleware\");\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst SecurityTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiMiddleware/Security\");\n/**\n * @since 1.0.0\n * @category guards\n */\nconst isSecurity = u => (0,effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty)(u, SecurityTypeId);\n/**\n * @since 1.0.0\n * @category tags\n */\nconst Tag = () => (id, options) => {\n  const Err = globalThis.Error;\n  const limit = Err.stackTraceLimit;\n  Err.stackTraceLimit = 2;\n  const creationError = new Err();\n  Err.stackTraceLimit = limit;\n  function TagClass() {}\n  const TagClass_ = TagClass;\n  Object.setPrototypeOf(TagClass, Object.getPrototypeOf(effect_Context__WEBPACK_IMPORTED_MODULE_1__.GenericTag(id)));\n  TagClass.key = id;\n  Object.defineProperty(TagClass, \"stack\", {\n    get() {\n      return creationError.stack;\n    }\n  });\n  TagClass_[TypeId] = TypeId;\n  TagClass_.failure = options?.optional === true || options?.failure === undefined ? effect_Schema__WEBPACK_IMPORTED_MODULE_2__.Never : options.failure;\n  if (options?.provides) {\n    TagClass_.provides = options.provides;\n  }\n  TagClass_.optional = options?.optional ?? false;\n  if (options?.security) {\n    if (Object.keys(options.security).length === 0) {\n      throw new Error(\"HttpApiMiddleware.Tag: security object must not be empty\");\n    }\n    TagClass_[SecurityTypeId] = SecurityTypeId;\n    TagClass_.security = options.security;\n  }\n  return TagClass;\n};\n//# sourceMappingURL=HttpApiMiddleware.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwaU1pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUMwQztBQUNLO0FBQ1A7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qiw2REFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Qsc0RBQWtCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxxRkFBcUYsZ0RBQVk7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9IdHRwQXBpTWlkZGxld2FyZS5qcz9mZWU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgeyBoYXNQcm9wZXJ0eSB9IGZyb20gXCJlZmZlY3QvUHJlZGljYXRlXCI7XG5pbXBvcnQgKiBhcyBTY2hlbWEgZnJvbSBcImVmZmVjdC9TY2hlbWFcIjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZHNcbiAqL1xuZXhwb3J0IGNvbnN0IFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQXBpTWlkZGxld2FyZVwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZHNcbiAqL1xuZXhwb3J0IGNvbnN0IFNlY3VyaXR5VHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBBcGlNaWRkbGV3YXJlL1NlY3VyaXR5XCIpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBndWFyZHNcbiAqL1xuZXhwb3J0IGNvbnN0IGlzU2VjdXJpdHkgPSB1ID0+IGhhc1Byb3BlcnR5KHUsIFNlY3VyaXR5VHlwZUlkKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdGFnc1xuICovXG5leHBvcnQgY29uc3QgVGFnID0gKCkgPT4gKGlkLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IEVyciA9IGdsb2JhbFRoaXMuRXJyb3I7XG4gIGNvbnN0IGxpbWl0ID0gRXJyLnN0YWNrVHJhY2VMaW1pdDtcbiAgRXJyLnN0YWNrVHJhY2VMaW1pdCA9IDI7XG4gIGNvbnN0IGNyZWF0aW9uRXJyb3IgPSBuZXcgRXJyKCk7XG4gIEVyci5zdGFja1RyYWNlTGltaXQgPSBsaW1pdDtcbiAgZnVuY3Rpb24gVGFnQ2xhc3MoKSB7fVxuICBjb25zdCBUYWdDbGFzc18gPSBUYWdDbGFzcztcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKFRhZ0NsYXNzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29udGV4dC5HZW5lcmljVGFnKGlkKSkpO1xuICBUYWdDbGFzcy5rZXkgPSBpZDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRhZ0NsYXNzLCBcInN0YWNrXCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gY3JlYXRpb25FcnJvci5zdGFjaztcbiAgICB9XG4gIH0pO1xuICBUYWdDbGFzc19bVHlwZUlkXSA9IFR5cGVJZDtcbiAgVGFnQ2xhc3NfLmZhaWx1cmUgPSBvcHRpb25zPy5vcHRpb25hbCA9PT0gdHJ1ZSB8fCBvcHRpb25zPy5mYWlsdXJlID09PSB1bmRlZmluZWQgPyBTY2hlbWEuTmV2ZXIgOiBvcHRpb25zLmZhaWx1cmU7XG4gIGlmIChvcHRpb25zPy5wcm92aWRlcykge1xuICAgIFRhZ0NsYXNzXy5wcm92aWRlcyA9IG9wdGlvbnMucHJvdmlkZXM7XG4gIH1cbiAgVGFnQ2xhc3NfLm9wdGlvbmFsID0gb3B0aW9ucz8ub3B0aW9uYWwgPz8gZmFsc2U7XG4gIGlmIChvcHRpb25zPy5zZWN1cml0eSkge1xuICAgIGlmIChPYmplY3Qua2V5cyhvcHRpb25zLnNlY3VyaXR5KS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkh0dHBBcGlNaWRkbGV3YXJlLlRhZzogc2VjdXJpdHkgb2JqZWN0IG11c3Qgbm90IGJlIGVtcHR5XCIpO1xuICAgIH1cbiAgICBUYWdDbGFzc19bU2VjdXJpdHlUeXBlSWRdID0gU2VjdXJpdHlUeXBlSWQ7XG4gICAgVGFnQ2xhc3NfLnNlY3VyaXR5ID0gb3B0aW9ucy5zZWN1cml0eTtcbiAgfVxuICByZXR1cm4gVGFnQ2xhc3M7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHR0cEFwaU1pZGRsZXdhcmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiMiddleware.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiSchema.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpApiSchema.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Accepted: () => (/* binding */ Accepted),\n/* harmony export */   AnnotationEmptyDecodeable: () => (/* binding */ AnnotationEmptyDecodeable),\n/* harmony export */   AnnotationEncoding: () => (/* binding */ AnnotationEncoding),\n/* harmony export */   AnnotationMultipart: () => (/* binding */ AnnotationMultipart),\n/* harmony export */   AnnotationParam: () => (/* binding */ AnnotationParam),\n/* harmony export */   AnnotationStatus: () => (/* binding */ AnnotationStatus),\n/* harmony export */   Created: () => (/* binding */ Created),\n/* harmony export */   Empty: () => (/* binding */ Empty),\n/* harmony export */   EmptyError: () => (/* binding */ EmptyError),\n/* harmony export */   Multipart: () => (/* binding */ Multipart),\n/* harmony export */   MultipartTypeId: () => (/* binding */ MultipartTypeId),\n/* harmony export */   NoContent: () => (/* binding */ NoContent),\n/* harmony export */   Text: () => (/* binding */ Text),\n/* harmony export */   Uint8Array: () => (/* binding */ Uint8Array),\n/* harmony export */   UnionUnify: () => (/* binding */ UnionUnify),\n/* harmony export */   UnionUnifyAST: () => (/* binding */ UnionUnifyAST),\n/* harmony export */   annotations: () => (/* binding */ annotations),\n/* harmony export */   asEmpty: () => (/* binding */ asEmpty),\n/* harmony export */   deunionize: () => (/* binding */ deunionize),\n/* harmony export */   extractAnnotations: () => (/* binding */ extractAnnotations),\n/* harmony export */   extractUnionTypes: () => (/* binding */ extractUnionTypes),\n/* harmony export */   getEmptyDecodeable: () => (/* binding */ getEmptyDecodeable),\n/* harmony export */   getEncoding: () => (/* binding */ getEncoding),\n/* harmony export */   getMultipart: () => (/* binding */ getMultipart),\n/* harmony export */   getParam: () => (/* binding */ getParam),\n/* harmony export */   getStatus: () => (/* binding */ getStatus),\n/* harmony export */   getStatusError: () => (/* binding */ getStatusError),\n/* harmony export */   getStatusErrorAST: () => (/* binding */ getStatusErrorAST),\n/* harmony export */   getStatusSuccess: () => (/* binding */ getStatusSuccess),\n/* harmony export */   getStatusSuccessAST: () => (/* binding */ getStatusSuccessAST),\n/* harmony export */   isVoid: () => (/* binding */ isVoid),\n/* harmony export */   param: () => (/* binding */ param),\n/* harmony export */   withEncoding: () => (/* binding */ withEncoding)\n/* harmony export */ });\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Effectable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Effectable */ \"(rsc)/../../node_modules/effect/dist/esm/Effectable.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_SchemaAST__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/SchemaAST */ \"(rsc)/../../node_modules/effect/dist/esm/SchemaAST.js\");\n/* harmony import */ var effect_Struct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Struct */ \"(rsc)/../../node_modules/effect/dist/esm/Struct.js\");\n\n\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst AnnotationMultipart = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiSchema/AnnotationMultipart\");\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst AnnotationStatus = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiSchema/AnnotationStatus\");\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst AnnotationEmptyDecodeable = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiSchema/AnnotationEmptyDecodeable\");\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst AnnotationEncoding = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiSchema/AnnotationEncoding\");\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst AnnotationParam = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiSchema/AnnotationParam\");\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst extractAnnotations = ast => {\n  const result = {};\n  if (AnnotationStatus in ast) {\n    result[AnnotationStatus] = ast[AnnotationStatus];\n  }\n  if (AnnotationEmptyDecodeable in ast) {\n    result[AnnotationEmptyDecodeable] = ast[AnnotationEmptyDecodeable];\n  }\n  if (AnnotationEncoding in ast) {\n    result[AnnotationEncoding] = ast[AnnotationEncoding];\n  }\n  if (AnnotationParam in ast) {\n    result[AnnotationParam] = ast[AnnotationParam];\n  }\n  if (AnnotationMultipart in ast) {\n    result[AnnotationMultipart] = ast[AnnotationMultipart];\n  }\n  return result;\n};\nconst mergedAnnotations = ast => ast._tag === \"Transformation\" ? {\n  ...ast.to.annotations,\n  ...ast.annotations\n} : ast.annotations;\nconst getAnnotation = (ast, key) => mergedAnnotations(ast)[key];\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst getStatus = (ast, defaultStatus) => getAnnotation(ast, AnnotationStatus) ?? defaultStatus;\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst getEmptyDecodeable = ast => getAnnotation(ast, AnnotationEmptyDecodeable) ?? false;\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst getMultipart = ast => getAnnotation(ast, AnnotationMultipart) ?? false;\nconst encodingJson = {\n  kind: \"Json\",\n  contentType: \"application/json\"\n};\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst getEncoding = ast => getAnnotation(ast, AnnotationEncoding) ?? encodingJson;\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst getParam = ast => ast.annotations[AnnotationParam];\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst annotations = annotations => {\n  const result = effect_Struct__WEBPACK_IMPORTED_MODULE_0__.omit(annotations, \"status\");\n  if (annotations.status !== undefined) {\n    result[AnnotationStatus] = annotations.status;\n  }\n  return result;\n};\n/**\n * @since 1.0.0\n * @category reflection\n */\nconst isVoid = ast => {\n  switch (ast._tag) {\n    case \"VoidKeyword\":\n      {\n        return true;\n      }\n    case \"Transformation\":\n      {\n        return isVoid(ast.from);\n      }\n    case \"Suspend\":\n      {\n        return isVoid(ast.f());\n      }\n    default:\n      {\n        return false;\n      }\n  }\n};\n/**\n * @since 1.0.0\n * @category reflection\n */\nconst getStatusSuccessAST = ast => getStatus(ast, isVoid(ast) ? 204 : 200);\n/**\n * @since 1.0.0\n * @category reflection\n */\nconst getStatusSuccess = self => getStatusSuccessAST(self.ast);\n/**\n * @since 1.0.0\n * @category reflection\n */\nconst getStatusErrorAST = ast => getStatus(ast, 500);\n/**\n * @since 1.0.0\n * @category reflection\n */\nconst getStatusError = self => getStatusErrorAST(self.ast);\n/**\n * Extracts all individual types from a union type recursively.\n *\n * **Details**\n *\n * This function traverses an AST and collects all the types within a union,\n * even if they are nested. It ensures that every type in a union (including\n * deeply nested unions) is included in the resulting array. The returned array\n * contains each type as an individual AST node, preserving the order in which\n * they appear.\n *\n * @internal\n */\nconst extractUnionTypes = ast => {\n  function process(ast) {\n    if (effect_SchemaAST__WEBPACK_IMPORTED_MODULE_1__.isUnion(ast)) {\n      for (const type of ast.types) {\n        process(type);\n      }\n    } else {\n      out.push(ast);\n    }\n  }\n  const out = [];\n  process(ast);\n  return out;\n};\n/** @internal */\nconst UnionUnifyAST = (self, that) => effect_SchemaAST__WEBPACK_IMPORTED_MODULE_1__.Union.make(Array.from(new Set([...extractUnionTypes(self), ...extractUnionTypes(that)])));\n/**\n * @since 1.0.0\n */\nconst UnionUnify = (self, that) => effect_Schema__WEBPACK_IMPORTED_MODULE_2__.make(UnionUnifyAST(self.ast, that.ast));\n/**\n * @since 1.0.0\n * @category path params\n */\nconst param = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (name, schema) => schema.annotations({\n  [AnnotationParam]: name\n}));\n/**\n * @since 1.0.0\n * @category empty response\n */\nconst Empty = status => effect_Schema__WEBPACK_IMPORTED_MODULE_2__.Void.annotations(annotations({\n  status\n}));\n/**\n * @since 1.0.0\n * @category empty response\n */\nconst asEmpty = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, options) => effect_Schema__WEBPACK_IMPORTED_MODULE_2__.transform(effect_Schema__WEBPACK_IMPORTED_MODULE_2__.Void.annotations(self.ast.annotations), effect_Schema__WEBPACK_IMPORTED_MODULE_2__.typeSchema(self), {\n  decode: options.decode,\n  encode: effect_Function__WEBPACK_IMPORTED_MODULE_3__.constVoid\n}).annotations(annotations({\n  status: options.status,\n  [AnnotationEmptyDecodeable]: true\n})));\n/**\n * @since 1.0.0\n * @category empty response\n */\nconst Created = /*#__PURE__*/Empty(201);\n/**\n * @since 1.0.0\n * @category empty response\n */\nconst Accepted = /*#__PURE__*/Empty(202);\n/**\n * @since 1.0.0\n * @category empty response\n */\nconst NoContent = /*#__PURE__*/Empty(204);\n/**\n * @since 1.0.0\n * @category multipart\n */\nconst MultipartTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApiSchema/Multipart\");\n/**\n * @since 1.0.0\n * @category multipart\n */\nconst Multipart = self => self.annotations({\n  [AnnotationMultipart]: true\n});\nconst defaultContentType = encoding => {\n  switch (encoding) {\n    case \"Json\":\n      {\n        return \"application/json\";\n      }\n    case \"UrlParams\":\n      {\n        return \"application/x-www-form-urlencoded\";\n      }\n    case \"Uint8Array\":\n      {\n        return \"application/octet-stream\";\n      }\n    case \"Text\":\n      {\n        return \"text/plain\";\n      }\n  }\n};\n/**\n * @since 1.0.0\n * @category encoding\n */\nconst withEncoding = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, options) => self.annotations({\n  [AnnotationEncoding]: {\n    kind: options.kind,\n    contentType: options.contentType ?? defaultContentType(options.kind)\n  },\n  ...(options.kind === \"Uint8Array\" ? {\n    jsonSchema: {\n      type: \"string\",\n      format: \"binary\"\n    }\n  } : undefined)\n}));\n/**\n * @since 1.0.0\n * @category encoding\n */\nconst Text = options => withEncoding(effect_Schema__WEBPACK_IMPORTED_MODULE_2__.String, {\n  kind: \"Text\",\n  ...options\n});\n/**\n * @since 1.0.0\n * @category encoding\n */\nconst Uint8Array = options => withEncoding(effect_Schema__WEBPACK_IMPORTED_MODULE_2__.Uint8ArrayFromSelf, {\n  kind: \"Uint8Array\",\n  ...options\n});\nconst astCache = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_4__.globalValue)(\"@effect/platform/HttpApiSchema/astCache\", () => new WeakMap());\n/**\n * @since 1.0.0\n */\nconst deunionize = (schemas, schema) => {\n  if (astCache.has(schema.ast)) {\n    schemas.add(astCache.get(schema.ast));\n    return;\n  }\n  const ast = schema.ast;\n  if (ast._tag === \"Union\") {\n    for (const astType of ast.types) {\n      if (astCache.has(astType)) {\n        schemas.add(astCache.get(astType));\n        continue;\n      }\n      const memberSchema = effect_Schema__WEBPACK_IMPORTED_MODULE_2__.make(effect_SchemaAST__WEBPACK_IMPORTED_MODULE_1__.annotations(astType, {\n        ...ast.annotations,\n        ...astType.annotations\n      }));\n      astCache.set(astType, memberSchema);\n      schemas.add(memberSchema);\n    }\n  } else {\n    astCache.set(ast, schema);\n    schemas.add(schema);\n  }\n};\n/**\n * @since 1.0.0\n * @category empty errors\n */\nconst EmptyError = () => options => {\n  const symbol = Symbol.for(`@effect/platform/HttpApiSchema/EmptyError/${options.tag}`);\n  class EmptyError extends effect_Effectable__WEBPACK_IMPORTED_MODULE_5__.StructuralClass {\n    _tag = options.tag;\n    commit() {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.fail(this);\n    }\n  }\n  ;\n  EmptyError.prototype[symbol] = symbol;\n  Object.assign(EmptyError, {\n    [effect_Schema__WEBPACK_IMPORTED_MODULE_2__.TypeId]: effect_Schema__WEBPACK_IMPORTED_MODULE_2__.Void[effect_Schema__WEBPACK_IMPORTED_MODULE_2__.TypeId],\n    pipe: effect_Schema__WEBPACK_IMPORTED_MODULE_2__.Void.pipe,\n    annotations(annotations) {\n      return effect_Schema__WEBPACK_IMPORTED_MODULE_2__.make(this.ast).annotations(annotations);\n    }\n  });\n  let transform;\n  Object.defineProperty(EmptyError, \"ast\", {\n    get() {\n      if (transform) {\n        return transform.ast;\n      }\n      const self = this;\n      transform = asEmpty(effect_Schema__WEBPACK_IMPORTED_MODULE_2__.declare(u => (0,effect_Predicate__WEBPACK_IMPORTED_MODULE_7__.hasProperty)(u, symbol), {\n        identifier: options.tag,\n        title: options.tag\n      }), {\n        status: options.status,\n        decode: (0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.constant)(new self())\n      });\n      return transform.ast;\n    }\n  });\n  return EmptyError;\n};\n//# sourceMappingURL=HttpApiSchema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwaVNjaGVtYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QztBQUNRO0FBQ1k7QUFDWDtBQUNGO0FBQ1A7QUFDQTtBQUNBO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsaUJBQWlCLCtDQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsUUFBUSxxREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQyxtREFBUztBQUN0RDtBQUNBO0FBQ0E7QUFDTyxtQ0FBbUMsK0NBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQkFBMkIscURBQUk7QUFDdEM7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsK0NBQVc7QUFDMUM7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2QkFBNkIscURBQUksdUJBQXVCLG9EQUFnQixDQUFDLCtDQUFXLG9DQUFvQyxxREFBaUI7QUFDaEo7QUFDQSxVQUFVLHNEQUFTO0FBQ25CLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sa0NBQWtDLHFEQUFJO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFDQUFxQyxpREFBYTtBQUN6RDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkNBQTJDLDZEQUF5QjtBQUMzRTtBQUNBO0FBQ0EsQ0FBQztBQUNELDhCQUE4QiwrREFBVztBQUN6QztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsK0NBQVcsQ0FBQyx5REFBZTtBQUN0RDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx5RUFBeUUsWUFBWTtBQUNyRiwyQkFBMkIsOERBQTBCO0FBQ3JEO0FBQ0E7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGlEQUFhLEdBQUcsK0NBQVcsQ0FBQyxpREFBYTtBQUM5QyxVQUFVLCtDQUFXO0FBQ3JCO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixrREFBYyxNQUFNLDZEQUFXO0FBQ3pEO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxnQkFBZ0IseURBQVE7QUFDeEIsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL0h0dHBBcGlTY2hlbWEuanM/OTMzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIEVmZmVjdGFibGUgZnJvbSBcImVmZmVjdC9FZmZlY3RhYmxlXCI7XG5pbXBvcnQgeyBjb25zdGFudCwgY29uc3RWb2lkLCBkdWFsIH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0IHsgZ2xvYmFsVmFsdWUgfSBmcm9tIFwiZWZmZWN0L0dsb2JhbFZhbHVlXCI7XG5pbXBvcnQgeyBoYXNQcm9wZXJ0eSB9IGZyb20gXCJlZmZlY3QvUHJlZGljYXRlXCI7XG5pbXBvcnQgKiBhcyBTY2hlbWEgZnJvbSBcImVmZmVjdC9TY2hlbWFcIjtcbmltcG9ydCAqIGFzIEFTVCBmcm9tIFwiZWZmZWN0L1NjaGVtYUFTVFwiO1xuaW1wb3J0ICogYXMgU3RydWN0IGZyb20gXCJlZmZlY3QvU3RydWN0XCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBBbm5vdGF0aW9uTXVsdGlwYXJ0ID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBBcGlTY2hlbWEvQW5ub3RhdGlvbk11bHRpcGFydFwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IEFubm90YXRpb25TdGF0dXMgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEFwaVNjaGVtYS9Bbm5vdGF0aW9uU3RhdHVzXCIpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICovXG5leHBvcnQgY29uc3QgQW5ub3RhdGlvbkVtcHR5RGVjb2RlYWJsZSA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQXBpU2NoZW1hL0Fubm90YXRpb25FbXB0eURlY29kZWFibGVcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBBbm5vdGF0aW9uRW5jb2RpbmcgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEFwaVNjaGVtYS9Bbm5vdGF0aW9uRW5jb2RpbmdcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBBbm5vdGF0aW9uUGFyYW0gPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEFwaVNjaGVtYS9Bbm5vdGF0aW9uUGFyYW1cIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBleHRyYWN0QW5ub3RhdGlvbnMgPSBhc3QgPT4ge1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgaWYgKEFubm90YXRpb25TdGF0dXMgaW4gYXN0KSB7XG4gICAgcmVzdWx0W0Fubm90YXRpb25TdGF0dXNdID0gYXN0W0Fubm90YXRpb25TdGF0dXNdO1xuICB9XG4gIGlmIChBbm5vdGF0aW9uRW1wdHlEZWNvZGVhYmxlIGluIGFzdCkge1xuICAgIHJlc3VsdFtBbm5vdGF0aW9uRW1wdHlEZWNvZGVhYmxlXSA9IGFzdFtBbm5vdGF0aW9uRW1wdHlEZWNvZGVhYmxlXTtcbiAgfVxuICBpZiAoQW5ub3RhdGlvbkVuY29kaW5nIGluIGFzdCkge1xuICAgIHJlc3VsdFtBbm5vdGF0aW9uRW5jb2RpbmddID0gYXN0W0Fubm90YXRpb25FbmNvZGluZ107XG4gIH1cbiAgaWYgKEFubm90YXRpb25QYXJhbSBpbiBhc3QpIHtcbiAgICByZXN1bHRbQW5ub3RhdGlvblBhcmFtXSA9IGFzdFtBbm5vdGF0aW9uUGFyYW1dO1xuICB9XG4gIGlmIChBbm5vdGF0aW9uTXVsdGlwYXJ0IGluIGFzdCkge1xuICAgIHJlc3VsdFtBbm5vdGF0aW9uTXVsdGlwYXJ0XSA9IGFzdFtBbm5vdGF0aW9uTXVsdGlwYXJ0XTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmNvbnN0IG1lcmdlZEFubm90YXRpb25zID0gYXN0ID0+IGFzdC5fdGFnID09PSBcIlRyYW5zZm9ybWF0aW9uXCIgPyB7XG4gIC4uLmFzdC50by5hbm5vdGF0aW9ucyxcbiAgLi4uYXN0LmFubm90YXRpb25zXG59IDogYXN0LmFubm90YXRpb25zO1xuY29uc3QgZ2V0QW5ub3RhdGlvbiA9IChhc3QsIGtleSkgPT4gbWVyZ2VkQW5ub3RhdGlvbnMoYXN0KVtrZXldO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICovXG5leHBvcnQgY29uc3QgZ2V0U3RhdHVzID0gKGFzdCwgZGVmYXVsdFN0YXR1cykgPT4gZ2V0QW5ub3RhdGlvbihhc3QsIEFubm90YXRpb25TdGF0dXMpID8/IGRlZmF1bHRTdGF0dXM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFbXB0eURlY29kZWFibGUgPSBhc3QgPT4gZ2V0QW5ub3RhdGlvbihhc3QsIEFubm90YXRpb25FbXB0eURlY29kZWFibGUpID8/IGZhbHNlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICovXG5leHBvcnQgY29uc3QgZ2V0TXVsdGlwYXJ0ID0gYXN0ID0+IGdldEFubm90YXRpb24oYXN0LCBBbm5vdGF0aW9uTXVsdGlwYXJ0KSA/PyBmYWxzZTtcbmNvbnN0IGVuY29kaW5nSnNvbiA9IHtcbiAga2luZDogXCJKc29uXCIsXG4gIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIlxufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEVuY29kaW5nID0gYXN0ID0+IGdldEFubm90YXRpb24oYXN0LCBBbm5vdGF0aW9uRW5jb2RpbmcpID8/IGVuY29kaW5nSnNvbjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFBhcmFtID0gYXN0ID0+IGFzdC5hbm5vdGF0aW9uc1tBbm5vdGF0aW9uUGFyYW1dO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICovXG5leHBvcnQgY29uc3QgYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucyA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFN0cnVjdC5vbWl0KGFubm90YXRpb25zLCBcInN0YXR1c1wiKTtcbiAgaWYgKGFubm90YXRpb25zLnN0YXR1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmVzdWx0W0Fubm90YXRpb25TdGF0dXNdID0gYW5ub3RhdGlvbnMuc3RhdHVzO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByZWZsZWN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBpc1ZvaWQgPSBhc3QgPT4ge1xuICBzd2l0Y2ggKGFzdC5fdGFnKSB7XG4gICAgY2FzZSBcIlZvaWRLZXl3b3JkXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIGNhc2UgXCJUcmFuc2Zvcm1hdGlvblwiOlxuICAgICAge1xuICAgICAgICByZXR1cm4gaXNWb2lkKGFzdC5mcm9tKTtcbiAgICAgIH1cbiAgICBjYXNlIFwiU3VzcGVuZFwiOlxuICAgICAge1xuICAgICAgICByZXR1cm4gaXNWb2lkKGFzdC5mKCkpO1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgfVxufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcmVmbGVjdGlvblxuICovXG5leHBvcnQgY29uc3QgZ2V0U3RhdHVzU3VjY2Vzc0FTVCA9IGFzdCA9PiBnZXRTdGF0dXMoYXN0LCBpc1ZvaWQoYXN0KSA/IDIwNCA6IDIwMCk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJlZmxlY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFN0YXR1c1N1Y2Nlc3MgPSBzZWxmID0+IGdldFN0YXR1c1N1Y2Nlc3NBU1Qoc2VsZi5hc3QpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByZWZsZWN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTdGF0dXNFcnJvckFTVCA9IGFzdCA9PiBnZXRTdGF0dXMoYXN0LCA1MDApO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByZWZsZWN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTdGF0dXNFcnJvciA9IHNlbGYgPT4gZ2V0U3RhdHVzRXJyb3JBU1Qoc2VsZi5hc3QpO1xuLyoqXG4gKiBFeHRyYWN0cyBhbGwgaW5kaXZpZHVhbCB0eXBlcyBmcm9tIGEgdW5pb24gdHlwZSByZWN1cnNpdmVseS5cbiAqXG4gKiAqKkRldGFpbHMqKlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdHJhdmVyc2VzIGFuIEFTVCBhbmQgY29sbGVjdHMgYWxsIHRoZSB0eXBlcyB3aXRoaW4gYSB1bmlvbixcbiAqIGV2ZW4gaWYgdGhleSBhcmUgbmVzdGVkLiBJdCBlbnN1cmVzIHRoYXQgZXZlcnkgdHlwZSBpbiBhIHVuaW9uIChpbmNsdWRpbmdcbiAqIGRlZXBseSBuZXN0ZWQgdW5pb25zKSBpcyBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0aW5nIGFycmF5LiBUaGUgcmV0dXJuZWQgYXJyYXlcbiAqIGNvbnRhaW5zIGVhY2ggdHlwZSBhcyBhbiBpbmRpdmlkdWFsIEFTVCBub2RlLCBwcmVzZXJ2aW5nIHRoZSBvcmRlciBpbiB3aGljaFxuICogdGhleSBhcHBlYXIuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBleHRyYWN0VW5pb25UeXBlcyA9IGFzdCA9PiB7XG4gIGZ1bmN0aW9uIHByb2Nlc3MoYXN0KSB7XG4gICAgaWYgKEFTVC5pc1VuaW9uKGFzdCkpIHtcbiAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBhc3QudHlwZXMpIHtcbiAgICAgICAgcHJvY2Vzcyh0eXBlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb3V0LnB1c2goYXN0KTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgb3V0ID0gW107XG4gIHByb2Nlc3MoYXN0KTtcbiAgcmV0dXJuIG91dDtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgVW5pb25VbmlmeUFTVCA9IChzZWxmLCB0aGF0KSA9PiBBU1QuVW5pb24ubWFrZShBcnJheS5mcm9tKG5ldyBTZXQoWy4uLmV4dHJhY3RVbmlvblR5cGVzKHNlbGYpLCAuLi5leHRyYWN0VW5pb25UeXBlcyh0aGF0KV0pKSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgVW5pb25VbmlmeSA9IChzZWxmLCB0aGF0KSA9PiBTY2hlbWEubWFrZShVbmlvblVuaWZ5QVNUKHNlbGYuYXN0LCB0aGF0LmFzdCkpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBwYXRoIHBhcmFtc1xuICovXG5leHBvcnQgY29uc3QgcGFyYW0gPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAobmFtZSwgc2NoZW1hKSA9PiBzY2hlbWEuYW5ub3RhdGlvbnMoe1xuICBbQW5ub3RhdGlvblBhcmFtXTogbmFtZVxufSkpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbXB0eSByZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgRW1wdHkgPSBzdGF0dXMgPT4gU2NoZW1hLlZvaWQuYW5ub3RhdGlvbnMoYW5ub3RhdGlvbnMoe1xuICBzdGF0dXNcbn0pKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW1wdHkgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IGFzRW1wdHkgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgb3B0aW9ucykgPT4gU2NoZW1hLnRyYW5zZm9ybShTY2hlbWEuVm9pZC5hbm5vdGF0aW9ucyhzZWxmLmFzdC5hbm5vdGF0aW9ucyksIFNjaGVtYS50eXBlU2NoZW1hKHNlbGYpLCB7XG4gIGRlY29kZTogb3B0aW9ucy5kZWNvZGUsXG4gIGVuY29kZTogY29uc3RWb2lkXG59KS5hbm5vdGF0aW9ucyhhbm5vdGF0aW9ucyh7XG4gIHN0YXR1czogb3B0aW9ucy5zdGF0dXMsXG4gIFtBbm5vdGF0aW9uRW1wdHlEZWNvZGVhYmxlXTogdHJ1ZVxufSkpKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW1wdHkgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IENyZWF0ZWQgPSAvKiNfX1BVUkVfXyovRW1wdHkoMjAxKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW1wdHkgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IEFjY2VwdGVkID0gLyojX19QVVJFX18qL0VtcHR5KDIwMik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVtcHR5IHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBOb0NvbnRlbnQgPSAvKiNfX1BVUkVfXyovRW1wdHkoMjA0KTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgbXVsdGlwYXJ0XG4gKi9cbmV4cG9ydCBjb25zdCBNdWx0aXBhcnRUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEFwaVNjaGVtYS9NdWx0aXBhcnRcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IG11bHRpcGFydFxuICovXG5leHBvcnQgY29uc3QgTXVsdGlwYXJ0ID0gc2VsZiA9PiBzZWxmLmFubm90YXRpb25zKHtcbiAgW0Fubm90YXRpb25NdWx0aXBhcnRdOiB0cnVlXG59KTtcbmNvbnN0IGRlZmF1bHRDb250ZW50VHlwZSA9IGVuY29kaW5nID0+IHtcbiAgc3dpdGNoIChlbmNvZGluZykge1xuICAgIGNhc2UgXCJKc29uXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICAgIH1cbiAgICBjYXNlIFwiVXJsUGFyYW1zXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiO1xuICAgICAgfVxuICAgIGNhc2UgXCJVaW50OEFycmF5XCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiO1xuICAgICAgfVxuICAgIGNhc2UgXCJUZXh0XCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBcInRleHQvcGxhaW5cIjtcbiAgICAgIH1cbiAgfVxufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhFbmNvZGluZyA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBvcHRpb25zKSA9PiBzZWxmLmFubm90YXRpb25zKHtcbiAgW0Fubm90YXRpb25FbmNvZGluZ106IHtcbiAgICBraW5kOiBvcHRpb25zLmtpbmQsXG4gICAgY29udGVudFR5cGU6IG9wdGlvbnMuY29udGVudFR5cGUgPz8gZGVmYXVsdENvbnRlbnRUeXBlKG9wdGlvbnMua2luZClcbiAgfSxcbiAgLi4uKG9wdGlvbnMua2luZCA9PT0gXCJVaW50OEFycmF5XCIgPyB7XG4gICAganNvblNjaGVtYToge1xuICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgIGZvcm1hdDogXCJiaW5hcnlcIlxuICAgIH1cbiAgfSA6IHVuZGVmaW5lZClcbn0pKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IFRleHQgPSBvcHRpb25zID0+IHdpdGhFbmNvZGluZyhTY2hlbWEuU3RyaW5nLCB7XG4gIGtpbmQ6IFwiVGV4dFwiLFxuICAuLi5vcHRpb25zXG59KTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZW5jb2RpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IFVpbnQ4QXJyYXkgPSBvcHRpb25zID0+IHdpdGhFbmNvZGluZyhTY2hlbWEuVWludDhBcnJheUZyb21TZWxmLCB7XG4gIGtpbmQ6IFwiVWludDhBcnJheVwiLFxuICAuLi5vcHRpb25zXG59KTtcbmNvbnN0IGFzdENhY2hlID0gLyojX19QVVJFX18qL2dsb2JhbFZhbHVlKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQXBpU2NoZW1hL2FzdENhY2hlXCIsICgpID0+IG5ldyBXZWFrTWFwKCkpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRldW5pb25pemUgPSAoc2NoZW1hcywgc2NoZW1hKSA9PiB7XG4gIGlmIChhc3RDYWNoZS5oYXMoc2NoZW1hLmFzdCkpIHtcbiAgICBzY2hlbWFzLmFkZChhc3RDYWNoZS5nZXQoc2NoZW1hLmFzdCkpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBhc3QgPSBzY2hlbWEuYXN0O1xuICBpZiAoYXN0Ll90YWcgPT09IFwiVW5pb25cIikge1xuICAgIGZvciAoY29uc3QgYXN0VHlwZSBvZiBhc3QudHlwZXMpIHtcbiAgICAgIGlmIChhc3RDYWNoZS5oYXMoYXN0VHlwZSkpIHtcbiAgICAgICAgc2NoZW1hcy5hZGQoYXN0Q2FjaGUuZ2V0KGFzdFR5cGUpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBtZW1iZXJTY2hlbWEgPSBTY2hlbWEubWFrZShBU1QuYW5ub3RhdGlvbnMoYXN0VHlwZSwge1xuICAgICAgICAuLi5hc3QuYW5ub3RhdGlvbnMsXG4gICAgICAgIC4uLmFzdFR5cGUuYW5ub3RhdGlvbnNcbiAgICAgIH0pKTtcbiAgICAgIGFzdENhY2hlLnNldChhc3RUeXBlLCBtZW1iZXJTY2hlbWEpO1xuICAgICAgc2NoZW1hcy5hZGQobWVtYmVyU2NoZW1hKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYXN0Q2FjaGUuc2V0KGFzdCwgc2NoZW1hKTtcbiAgICBzY2hlbWFzLmFkZChzY2hlbWEpO1xuICB9XG59O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlbXB0eSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IEVtcHR5RXJyb3IgPSAoKSA9PiBvcHRpb25zID0+IHtcbiAgY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihgQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQXBpU2NoZW1hL0VtcHR5RXJyb3IvJHtvcHRpb25zLnRhZ31gKTtcbiAgY2xhc3MgRW1wdHlFcnJvciBleHRlbmRzIEVmZmVjdGFibGUuU3RydWN0dXJhbENsYXNzIHtcbiAgICBfdGFnID0gb3B0aW9ucy50YWc7XG4gICAgY29tbWl0KCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mYWlsKHRoaXMpO1xuICAgIH1cbiAgfVxuICA7XG4gIEVtcHR5RXJyb3IucHJvdG90eXBlW3N5bWJvbF0gPSBzeW1ib2w7XG4gIE9iamVjdC5hc3NpZ24oRW1wdHlFcnJvciwge1xuICAgIFtTY2hlbWEuVHlwZUlkXTogU2NoZW1hLlZvaWRbU2NoZW1hLlR5cGVJZF0sXG4gICAgcGlwZTogU2NoZW1hLlZvaWQucGlwZSxcbiAgICBhbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykge1xuICAgICAgcmV0dXJuIFNjaGVtYS5tYWtlKHRoaXMuYXN0KS5hbm5vdGF0aW9ucyhhbm5vdGF0aW9ucyk7XG4gICAgfVxuICB9KTtcbiAgbGV0IHRyYW5zZm9ybTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVtcHR5RXJyb3IsIFwiYXN0XCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm0uYXN0O1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICB0cmFuc2Zvcm0gPSBhc0VtcHR5KFNjaGVtYS5kZWNsYXJlKHUgPT4gaGFzUHJvcGVydHkodSwgc3ltYm9sKSwge1xuICAgICAgICBpZGVudGlmaWVyOiBvcHRpb25zLnRhZyxcbiAgICAgICAgdGl0bGU6IG9wdGlvbnMudGFnXG4gICAgICB9KSwge1xuICAgICAgICBzdGF0dXM6IG9wdGlvbnMuc3RhdHVzLFxuICAgICAgICBkZWNvZGU6IGNvbnN0YW50KG5ldyBzZWxmKCkpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm0uYXN0O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBFbXB0eUVycm9yO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBBcGlTY2hlbWEuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiSchema.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApp.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpApp.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appendPreResponseHandler: () => (/* binding */ appendPreResponseHandler),\n/* harmony export */   currentPreResponseHandlers: () => (/* binding */ currentPreResponseHandlers),\n/* harmony export */   toHandled: () => (/* binding */ toHandled),\n/* harmony export */   toWebHandler: () => (/* binding */ toWebHandler),\n/* harmony export */   toWebHandlerLayer: () => (/* binding */ toWebHandlerLayer),\n/* harmony export */   toWebHandlerRuntime: () => (/* binding */ toWebHandlerRuntime),\n/* harmony export */   withPreResponseHandler: () => (/* binding */ withPreResponseHandler)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Exit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! effect/Exit */ \"(rsc)/../../node_modules/effect/dist/esm/Exit.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Runtime */ \"(rsc)/../../node_modules/effect/dist/esm/Runtime.js\");\n/* harmony import */ var effect_Scope__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Scope */ \"(rsc)/../../node_modules/effect/dist/esm/Scope.js\");\n/* harmony import */ var effect_Unify__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Unify */ \"(rsc)/../../node_modules/effect/dist/esm/Unify.js\");\n/* harmony import */ var _HttpServerError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HttpServerError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerError.js\");\n/* harmony import */ var _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HttpServerRequest.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRequest.js\");\n/* harmony import */ var _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./HttpServerResponse.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerResponse.js\");\n/* harmony import */ var _internal_httpApp_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./internal/httpApp.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpApp.js\");\n/* harmony import */ var _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./internal/httpMiddleware.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpMiddleware.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst handledSymbol = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApp/handled\");\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst toHandled = (self, handleResponse, middleware) => {\n  const responded = effect_Effect__WEBPACK_IMPORTED_MODULE_0__.withFiberRuntime(fiber => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.flatMap(self, response => {\n    const request = effect_Context__WEBPACK_IMPORTED_MODULE_1__.unsafeGet(fiber.currentContext, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_2__.HttpServerRequest);\n    const handler = fiber.getFiberRef(currentPreResponseHandlers);\n    if (handler._tag === \"None\") {\n      ;\n      request[handledSymbol] = true;\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.as(handleResponse(request, response), response);\n    }\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.tap(handler.value(request, response), response => {\n      ;\n      request[handledSymbol] = true;\n      return handleResponse(request, response);\n    });\n  }));\n  const withErrorHandling = effect_Effect__WEBPACK_IMPORTED_MODULE_0__.catchAllCause(responded, cause => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.withFiberRuntime(fiber => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.flatMap(_HttpServerError_js__WEBPACK_IMPORTED_MODULE_3__.causeResponse(cause), ([response, cause]) => {\n    const request = effect_Context__WEBPACK_IMPORTED_MODULE_1__.unsafeGet(fiber.currentContext, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_2__.HttpServerRequest);\n    const handler = fiber.getFiberRef(currentPreResponseHandlers);\n    if (handler._tag === \"None\") {\n      ;\n      request[handledSymbol] = true;\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.zipRight(handleResponse(request, response), effect_Effect__WEBPACK_IMPORTED_MODULE_0__.failCause(cause));\n    }\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.zipRight(effect_Effect__WEBPACK_IMPORTED_MODULE_0__.tap(handler.value(request, response), response => {\n      ;\n      request[handledSymbol] = true;\n      return handleResponse(request, response);\n    }), effect_Effect__WEBPACK_IMPORTED_MODULE_0__.failCause(cause));\n  })));\n  const withMiddleware = (0,effect_Unify__WEBPACK_IMPORTED_MODULE_4__.unify)(middleware === undefined ? _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_5__.tracer(withErrorHandling) : effect_Effect__WEBPACK_IMPORTED_MODULE_0__.matchCauseEffect(middleware(_internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_5__.tracer(withErrorHandling)), {\n    onFailure: cause => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.withFiberRuntime(fiber => {\n      const request = effect_Context__WEBPACK_IMPORTED_MODULE_1__.unsafeGet(fiber.currentContext, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_2__.HttpServerRequest);\n      if (handledSymbol in request) {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_0__[\"void\"];\n      }\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.matchCauseEffect(_HttpServerError_js__WEBPACK_IMPORTED_MODULE_3__.causeResponse(cause), {\n        onFailure: _cause => handleResponse(request, _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_6__.empty({\n          status: 500\n        })),\n        onSuccess: ([response]) => handleResponse(request, response)\n      });\n    }),\n    onSuccess: response => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.withFiberRuntime(fiber => {\n      const request = effect_Context__WEBPACK_IMPORTED_MODULE_1__.unsafeGet(fiber.currentContext, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_2__.HttpServerRequest);\n      return handledSymbol in request ? effect_Effect__WEBPACK_IMPORTED_MODULE_0__[\"void\"] : handleResponse(request, response);\n    })\n  }));\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_0__.uninterruptible(effect_Effect__WEBPACK_IMPORTED_MODULE_0__.scoped(withMiddleware));\n};\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst currentPreResponseHandlers = _internal_httpApp_js__WEBPACK_IMPORTED_MODULE_7__.currentPreResponseHandlers;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst appendPreResponseHandler = _internal_httpApp_js__WEBPACK_IMPORTED_MODULE_7__.appendPreResponseHandler;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withPreResponseHandler = _internal_httpApp_js__WEBPACK_IMPORTED_MODULE_7__.withPreResponseHandler;\n/**\n * @since 1.0.0\n * @category conversions\n */\nconst toWebHandlerRuntime = runtime => {\n  const run = effect_Runtime__WEBPACK_IMPORTED_MODULE_8__.runFork(runtime);\n  return (self, middleware) => {\n    const resolveSymbol = Symbol.for(\"@effect/platform/HttpApp/resolve\");\n    const httpApp = toHandled(self, (request, response) => {\n      ;\n      request[resolveSymbol](_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_6__.toWeb(response, {\n        withoutBody: request.method === \"HEAD\",\n        runtime\n      }));\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_0__[\"void\"];\n    }, middleware);\n    return (request, context) => new Promise(resolve => {\n      const contextMap = new Map(runtime.context.unsafeMap);\n      if (effect_Context__WEBPACK_IMPORTED_MODULE_1__.isContext(context)) {\n        for (const [key, value] of context.unsafeMap) {\n          contextMap.set(key, value);\n        }\n      }\n      const httpServerRequest = _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_2__.fromWeb(request);\n      contextMap.set(_HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_2__.HttpServerRequest.key, httpServerRequest);\n      httpServerRequest[resolveSymbol] = resolve;\n      const fiber = run(effect_Effect__WEBPACK_IMPORTED_MODULE_0__.locally(httpApp, effect_FiberRef__WEBPACK_IMPORTED_MODULE_9__.currentContext, effect_Context__WEBPACK_IMPORTED_MODULE_1__.unsafeMake(contextMap)));\n      request.signal?.addEventListener(\"abort\", () => {\n        fiber.unsafeInterruptAsFork(_HttpServerError_js__WEBPACK_IMPORTED_MODULE_3__.clientAbortFiberId);\n      }, {\n        once: true\n      });\n    });\n  };\n};\n/**\n * @since 1.0.0\n * @category conversions\n */\nconst toWebHandler = /*#__PURE__*/toWebHandlerRuntime(effect_Runtime__WEBPACK_IMPORTED_MODULE_8__.defaultRuntime);\n/**\n * @since 1.0.0\n * @category conversions\n */\nconst toWebHandlerLayer = (self, layer, middleware) => {\n  const scope = effect_Effect__WEBPACK_IMPORTED_MODULE_0__.runSync(effect_Scope__WEBPACK_IMPORTED_MODULE_10__.make());\n  const close = () => effect_Effect__WEBPACK_IMPORTED_MODULE_0__.runPromise(effect_Scope__WEBPACK_IMPORTED_MODULE_10__.close(scope, effect_Exit__WEBPACK_IMPORTED_MODULE_11__[\"void\"]));\n  const build = effect_Effect__WEBPACK_IMPORTED_MODULE_0__.map(effect_Layer__WEBPACK_IMPORTED_MODULE_12__.toRuntime(layer), _ => toWebHandlerRuntime(_)(self, middleware));\n  const runner = effect_Effect__WEBPACK_IMPORTED_MODULE_0__.runPromise(effect_Scope__WEBPACK_IMPORTED_MODULE_10__.extend(build, scope));\n  const handler = (request, context) => runner.then(handler => handler(request, context));\n  return {\n    close,\n    handler\n  };\n};\n//# sourceMappingURL=HttpApp.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUMwQztBQUNGO0FBQ0o7QUFDUTtBQUNOO0FBQ0k7QUFDSjtBQUNEO0FBQ2U7QUFDSTtBQUNFO0FBQ1I7QUFDaUI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0JBQW9CLDJEQUF1QixVQUFVLGtEQUFjO0FBQ25FLG9CQUFvQixxREFBaUIsdUJBQXVCLG9FQUErQjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNkNBQVM7QUFDdEI7QUFDQSxXQUFXLDhDQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsNEJBQTRCLHdEQUFvQixxQkFBcUIsMkRBQXVCLFVBQVUsa0RBQWMsQ0FBQyw4REFBeUI7QUFDOUksb0JBQW9CLHFEQUFpQix1QkFBdUIsb0VBQStCO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtREFBZSxvQ0FBb0Msb0RBQWdCO0FBQ2hGO0FBQ0EsV0FBVyxtREFBZSxDQUFDLDhDQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyxvREFBZ0I7QUFDeEIsR0FBRztBQUNILHlCQUF5QixtREFBSyw0QkFBNEIsK0RBQXlCLHNCQUFzQiwyREFBdUIsWUFBWSwrREFBeUI7QUFDckssd0JBQXdCLDJEQUF1QjtBQUMvQyxzQkFBc0IscURBQWlCLHVCQUF1QixvRUFBK0I7QUFDN0Y7QUFDQSxlQUFlLGtEQUFXO0FBQzFCO0FBQ0EsYUFBYSwyREFBdUIsQ0FBQyw4REFBeUI7QUFDOUQscURBQXFELHlEQUFvQjtBQUN6RTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsMkJBQTJCLDJEQUF1QjtBQUNsRCxzQkFBc0IscURBQWlCLHVCQUF1QixvRUFBK0I7QUFDN0Ysd0NBQXdDLGtEQUFXO0FBQ25ELEtBQUs7QUFDTCxHQUFHO0FBQ0gsU0FBUywwREFBc0IsQ0FBQyxpREFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUNBQW1DLDRFQUFtQztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGlDQUFpQywwRUFBaUM7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDTywrQkFBK0Isd0VBQStCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxjQUFjLG1EQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlEQUFvQjtBQUNqRDtBQUNBO0FBQ0EsT0FBTztBQUNQLGFBQWEsa0RBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0E7QUFDQSxVQUFVLHFEQUFpQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywwREFBcUI7QUFDckQscUJBQXFCLG9FQUErQjtBQUNwRDtBQUNBLHdCQUF3QixrREFBYyxVQUFVLDJEQUF1QixFQUFFLHNEQUFrQjtBQUMzRjtBQUNBLG9DQUFvQyxtRUFBOEI7QUFDbEUsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxzREFBc0QsMERBQXNCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxnQkFBZ0Isa0RBQWMsQ0FBQywrQ0FBVTtBQUN6QyxzQkFBc0IscURBQWlCLENBQUMsZ0RBQVcsUUFBUSxpREFBUztBQUNwRSxnQkFBZ0IsOENBQVUsQ0FBQyxvREFBZTtBQUMxQyxpQkFBaUIscURBQWlCLENBQUMsaURBQVk7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEFwcC5qcz9kYWEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIEV4aXQgZnJvbSBcImVmZmVjdC9FeGl0XCI7XG5pbXBvcnQgKiBhcyBGaWJlclJlZiBmcm9tIFwiZWZmZWN0L0ZpYmVyUmVmXCI7XG5pbXBvcnQgKiBhcyBMYXllciBmcm9tIFwiZWZmZWN0L0xheWVyXCI7XG5pbXBvcnQgKiBhcyBSdW50aW1lIGZyb20gXCJlZmZlY3QvUnVudGltZVwiO1xuaW1wb3J0ICogYXMgU2NvcGUgZnJvbSBcImVmZmVjdC9TY29wZVwiO1xuaW1wb3J0IHsgdW5pZnkgfSBmcm9tIFwiZWZmZWN0L1VuaWZ5XCI7XG5pbXBvcnQgKiBhcyBTZXJ2ZXJFcnJvciBmcm9tIFwiLi9IdHRwU2VydmVyRXJyb3IuanNcIjtcbmltcG9ydCAqIGFzIFNlcnZlclJlcXVlc3QgZnJvbSBcIi4vSHR0cFNlcnZlclJlcXVlc3QuanNcIjtcbmltcG9ydCAqIGFzIFNlcnZlclJlc3BvbnNlIGZyb20gXCIuL0h0dHBTZXJ2ZXJSZXNwb25zZS5qc1wiO1xuaW1wb3J0ICogYXMgaW50ZXJuYWwgZnJvbSBcIi4vaW50ZXJuYWwvaHR0cEFwcC5qc1wiO1xuaW1wb3J0ICogYXMgaW50ZXJuYWxNaWRkbGV3YXJlIGZyb20gXCIuL2ludGVybmFsL2h0dHBNaWRkbGV3YXJlLmpzXCI7XG5jb25zdCBoYW5kbGVkU3ltYm9sID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBBcHAvaGFuZGxlZFwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHRvSGFuZGxlZCA9IChzZWxmLCBoYW5kbGVSZXNwb25zZSwgbWlkZGxld2FyZSkgPT4ge1xuICBjb25zdCByZXNwb25kZWQgPSBFZmZlY3Qud2l0aEZpYmVyUnVudGltZShmaWJlciA9PiBFZmZlY3QuZmxhdE1hcChzZWxmLCByZXNwb25zZSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IENvbnRleHQudW5zYWZlR2V0KGZpYmVyLmN1cnJlbnRDb250ZXh0LCBTZXJ2ZXJSZXF1ZXN0Lkh0dHBTZXJ2ZXJSZXF1ZXN0KTtcbiAgICBjb25zdCBoYW5kbGVyID0gZmliZXIuZ2V0RmliZXJSZWYoY3VycmVudFByZVJlc3BvbnNlSGFuZGxlcnMpO1xuICAgIGlmIChoYW5kbGVyLl90YWcgPT09IFwiTm9uZVwiKSB7XG4gICAgICA7XG4gICAgICByZXF1ZXN0W2hhbmRsZWRTeW1ib2xdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBFZmZlY3QuYXMoaGFuZGxlUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UpLCByZXNwb25zZSk7XG4gICAgfVxuICAgIHJldHVybiBFZmZlY3QudGFwKGhhbmRsZXIudmFsdWUocmVxdWVzdCwgcmVzcG9uc2UpLCByZXNwb25zZSA9PiB7XG4gICAgICA7XG4gICAgICByZXF1ZXN0W2hhbmRsZWRTeW1ib2xdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZShyZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgfSk7XG4gIH0pKTtcbiAgY29uc3Qgd2l0aEVycm9ySGFuZGxpbmcgPSBFZmZlY3QuY2F0Y2hBbGxDYXVzZShyZXNwb25kZWQsIGNhdXNlID0+IEVmZmVjdC53aXRoRmliZXJSdW50aW1lKGZpYmVyID0+IEVmZmVjdC5mbGF0TWFwKFNlcnZlckVycm9yLmNhdXNlUmVzcG9uc2UoY2F1c2UpLCAoW3Jlc3BvbnNlLCBjYXVzZV0pID0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gQ29udGV4dC51bnNhZmVHZXQoZmliZXIuY3VycmVudENvbnRleHQsIFNlcnZlclJlcXVlc3QuSHR0cFNlcnZlclJlcXVlc3QpO1xuICAgIGNvbnN0IGhhbmRsZXIgPSBmaWJlci5nZXRGaWJlclJlZihjdXJyZW50UHJlUmVzcG9uc2VIYW5kbGVycyk7XG4gICAgaWYgKGhhbmRsZXIuX3RhZyA9PT0gXCJOb25lXCIpIHtcbiAgICAgIDtcbiAgICAgIHJlcXVlc3RbaGFuZGxlZFN5bWJvbF0gPSB0cnVlO1xuICAgICAgcmV0dXJuIEVmZmVjdC56aXBSaWdodChoYW5kbGVSZXNwb25zZShyZXF1ZXN0LCByZXNwb25zZSksIEVmZmVjdC5mYWlsQ2F1c2UoY2F1c2UpKTtcbiAgICB9XG4gICAgcmV0dXJuIEVmZmVjdC56aXBSaWdodChFZmZlY3QudGFwKGhhbmRsZXIudmFsdWUocmVxdWVzdCwgcmVzcG9uc2UpLCByZXNwb25zZSA9PiB7XG4gICAgICA7XG4gICAgICByZXF1ZXN0W2hhbmRsZWRTeW1ib2xdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZShyZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgfSksIEVmZmVjdC5mYWlsQ2F1c2UoY2F1c2UpKTtcbiAgfSkpKTtcbiAgY29uc3Qgd2l0aE1pZGRsZXdhcmUgPSB1bmlmeShtaWRkbGV3YXJlID09PSB1bmRlZmluZWQgPyBpbnRlcm5hbE1pZGRsZXdhcmUudHJhY2VyKHdpdGhFcnJvckhhbmRsaW5nKSA6IEVmZmVjdC5tYXRjaENhdXNlRWZmZWN0KG1pZGRsZXdhcmUoaW50ZXJuYWxNaWRkbGV3YXJlLnRyYWNlcih3aXRoRXJyb3JIYW5kbGluZykpLCB7XG4gICAgb25GYWlsdXJlOiBjYXVzZSA9PiBFZmZlY3Qud2l0aEZpYmVyUnVudGltZShmaWJlciA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gQ29udGV4dC51bnNhZmVHZXQoZmliZXIuY3VycmVudENvbnRleHQsIFNlcnZlclJlcXVlc3QuSHR0cFNlcnZlclJlcXVlc3QpO1xuICAgICAgaWYgKGhhbmRsZWRTeW1ib2wgaW4gcmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gRWZmZWN0LnZvaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gRWZmZWN0Lm1hdGNoQ2F1c2VFZmZlY3QoU2VydmVyRXJyb3IuY2F1c2VSZXNwb25zZShjYXVzZSksIHtcbiAgICAgICAgb25GYWlsdXJlOiBfY2F1c2UgPT4gaGFuZGxlUmVzcG9uc2UocmVxdWVzdCwgU2VydmVyUmVzcG9uc2UuZW1wdHkoe1xuICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKSxcbiAgICAgICAgb25TdWNjZXNzOiAoW3Jlc3BvbnNlXSkgPT4gaGFuZGxlUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UpXG4gICAgICB9KTtcbiAgICB9KSxcbiAgICBvblN1Y2Nlc3M6IHJlc3BvbnNlID0+IEVmZmVjdC53aXRoRmliZXJSdW50aW1lKGZpYmVyID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBDb250ZXh0LnVuc2FmZUdldChmaWJlci5jdXJyZW50Q29udGV4dCwgU2VydmVyUmVxdWVzdC5IdHRwU2VydmVyUmVxdWVzdCk7XG4gICAgICByZXR1cm4gaGFuZGxlZFN5bWJvbCBpbiByZXF1ZXN0ID8gRWZmZWN0LnZvaWQgOiBoYW5kbGVSZXNwb25zZShyZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgfSlcbiAgfSkpO1xuICByZXR1cm4gRWZmZWN0LnVuaW50ZXJydXB0aWJsZShFZmZlY3Quc2NvcGVkKHdpdGhNaWRkbGV3YXJlKSk7XG59O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBmaWJlciByZWZzXG4gKi9cbmV4cG9ydCBjb25zdCBjdXJyZW50UHJlUmVzcG9uc2VIYW5kbGVycyA9IGludGVybmFsLmN1cnJlbnRQcmVSZXNwb25zZUhhbmRsZXJzO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBmaWJlciByZWZzXG4gKi9cbmV4cG9ydCBjb25zdCBhcHBlbmRQcmVSZXNwb25zZUhhbmRsZXIgPSBpbnRlcm5hbC5hcHBlbmRQcmVSZXNwb25zZUhhbmRsZXI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGZpYmVyIHJlZnNcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhQcmVSZXNwb25zZUhhbmRsZXIgPSBpbnRlcm5hbC53aXRoUHJlUmVzcG9uc2VIYW5kbGVyO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb252ZXJzaW9uc1xuICovXG5leHBvcnQgY29uc3QgdG9XZWJIYW5kbGVyUnVudGltZSA9IHJ1bnRpbWUgPT4ge1xuICBjb25zdCBydW4gPSBSdW50aW1lLnJ1bkZvcmsocnVudGltZSk7XG4gIHJldHVybiAoc2VsZiwgbWlkZGxld2FyZSkgPT4ge1xuICAgIGNvbnN0IHJlc29sdmVTeW1ib2wgPSBTeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQXBwL3Jlc29sdmVcIik7XG4gICAgY29uc3QgaHR0cEFwcCA9IHRvSGFuZGxlZChzZWxmLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgICAgIDtcbiAgICAgIHJlcXVlc3RbcmVzb2x2ZVN5bWJvbF0oU2VydmVyUmVzcG9uc2UudG9XZWIocmVzcG9uc2UsIHtcbiAgICAgICAgd2l0aG91dEJvZHk6IHJlcXVlc3QubWV0aG9kID09PSBcIkhFQURcIixcbiAgICAgICAgcnVudGltZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIEVmZmVjdC52b2lkO1xuICAgIH0sIG1pZGRsZXdhcmUpO1xuICAgIHJldHVybiAocmVxdWVzdCwgY29udGV4dCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0TWFwID0gbmV3IE1hcChydW50aW1lLmNvbnRleHQudW5zYWZlTWFwKTtcbiAgICAgIGlmIChDb250ZXh0LmlzQ29udGV4dChjb250ZXh0KSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBjb250ZXh0LnVuc2FmZU1hcCkge1xuICAgICAgICAgIGNvbnRleHRNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBodHRwU2VydmVyUmVxdWVzdCA9IFNlcnZlclJlcXVlc3QuZnJvbVdlYihyZXF1ZXN0KTtcbiAgICAgIGNvbnRleHRNYXAuc2V0KFNlcnZlclJlcXVlc3QuSHR0cFNlcnZlclJlcXVlc3Qua2V5LCBodHRwU2VydmVyUmVxdWVzdCk7XG4gICAgICBodHRwU2VydmVyUmVxdWVzdFtyZXNvbHZlU3ltYm9sXSA9IHJlc29sdmU7XG4gICAgICBjb25zdCBmaWJlciA9IHJ1bihFZmZlY3QubG9jYWxseShodHRwQXBwLCBGaWJlclJlZi5jdXJyZW50Q29udGV4dCwgQ29udGV4dC51bnNhZmVNYWtlKGNvbnRleHRNYXApKSk7XG4gICAgICByZXF1ZXN0LnNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgZmliZXIudW5zYWZlSW50ZXJydXB0QXNGb3JrKFNlcnZlckVycm9yLmNsaWVudEFib3J0RmliZXJJZCk7XG4gICAgICB9LCB7XG4gICAgICAgIG9uY2U6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29udmVyc2lvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IHRvV2ViSGFuZGxlciA9IC8qI19fUFVSRV9fKi90b1dlYkhhbmRsZXJSdW50aW1lKFJ1bnRpbWUuZGVmYXVsdFJ1bnRpbWUpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb252ZXJzaW9uc1xuICovXG5leHBvcnQgY29uc3QgdG9XZWJIYW5kbGVyTGF5ZXIgPSAoc2VsZiwgbGF5ZXIsIG1pZGRsZXdhcmUpID0+IHtcbiAgY29uc3Qgc2NvcGUgPSBFZmZlY3QucnVuU3luYyhTY29wZS5tYWtlKCkpO1xuICBjb25zdCBjbG9zZSA9ICgpID0+IEVmZmVjdC5ydW5Qcm9taXNlKFNjb3BlLmNsb3NlKHNjb3BlLCBFeGl0LnZvaWQpKTtcbiAgY29uc3QgYnVpbGQgPSBFZmZlY3QubWFwKExheWVyLnRvUnVudGltZShsYXllciksIF8gPT4gdG9XZWJIYW5kbGVyUnVudGltZShfKShzZWxmLCBtaWRkbGV3YXJlKSk7XG4gIGNvbnN0IHJ1bm5lciA9IEVmZmVjdC5ydW5Qcm9taXNlKFNjb3BlLmV4dGVuZChidWlsZCwgc2NvcGUpKTtcbiAgY29uc3QgaGFuZGxlciA9IChyZXF1ZXN0LCBjb250ZXh0KSA9PiBydW5uZXIudGhlbihoYW5kbGVyID0+IGhhbmRsZXIocmVxdWVzdCwgY29udGV4dCkpO1xuICByZXR1cm4ge1xuICAgIGNsb3NlLFxuICAgIGhhbmRsZXJcbiAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwQXBwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApp.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClient.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpClient.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpClient: () => (/* binding */ HttpClient),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   catchAll: () => (/* binding */ catchAll),\n/* harmony export */   catchTag: () => (/* binding */ catchTag),\n/* harmony export */   catchTags: () => (/* binding */ catchTags),\n/* harmony export */   currentTracerDisabledWhen: () => (/* binding */ currentTracerDisabledWhen),\n/* harmony export */   currentTracerPropagation: () => (/* binding */ currentTracerPropagation),\n/* harmony export */   del: () => (/* binding */ del),\n/* harmony export */   execute: () => (/* binding */ execute),\n/* harmony export */   filterOrElse: () => (/* binding */ filterOrElse),\n/* harmony export */   filterOrFail: () => (/* binding */ filterOrFail),\n/* harmony export */   filterStatus: () => (/* binding */ filterStatus),\n/* harmony export */   filterStatusOk: () => (/* binding */ filterStatusOk),\n/* harmony export */   followRedirects: () => (/* binding */ followRedirects),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   head: () => (/* binding */ head),\n/* harmony export */   layerMergedContext: () => (/* binding */ layerMergedContext),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeWith: () => (/* binding */ makeWith),\n/* harmony export */   mapRequest: () => (/* binding */ mapRequest),\n/* harmony export */   mapRequestEffect: () => (/* binding */ mapRequestEffect),\n/* harmony export */   mapRequestInput: () => (/* binding */ mapRequestInput),\n/* harmony export */   mapRequestInputEffect: () => (/* binding */ mapRequestInputEffect),\n/* harmony export */   options: () => (/* binding */ options),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   put: () => (/* binding */ put),\n/* harmony export */   retry: () => (/* binding */ retry),\n/* harmony export */   retryTransient: () => (/* binding */ retryTransient),\n/* harmony export */   tap: () => (/* binding */ tap),\n/* harmony export */   tapError: () => (/* binding */ tapError),\n/* harmony export */   tapRequest: () => (/* binding */ tapRequest),\n/* harmony export */   transform: () => (/* binding */ transform),\n/* harmony export */   transformResponse: () => (/* binding */ transformResponse),\n/* harmony export */   withCookiesRef: () => (/* binding */ withCookiesRef),\n/* harmony export */   withTracerDisabledWhen: () => (/* binding */ withTracerDisabledWhen),\n/* harmony export */   withTracerPropagation: () => (/* binding */ withTracerPropagation)\n/* harmony export */ });\n/* harmony import */ var _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/httpClient.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClient.js\");\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.TypeId;\n/**\n * @since 1.0.0\n * @category tags\n */\nconst HttpClient = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.tag;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst execute = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.execute;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst get = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.get;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst head = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.head;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst post = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.post;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst patch = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.patch;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst put = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.put;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst del = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.del;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst options = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.options;\n/**\n * @since 1.0.0\n * @category error handling\n */\nconst catchAll = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.catchAll;\n/**\n * @since 1.0.0\n * @category error handling\n */\nconst catchTag = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.catchTag;\n/**\n * @since 1.0.0\n * @category error handling\n */\nconst catchTags = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.catchTags;\n/**\n * Filters the result of a response, or runs an alternative effect if the predicate fails.\n *\n * @since 1.0.0\n * @category filters\n */\nconst filterOrElse = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.filterOrElse;\n/**\n * Filters the result of a response, or throws an error if the predicate fails.\n *\n * @since 1.0.0\n * @category filters\n */\nconst filterOrFail = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.filterOrFail;\n/**\n * Filters responses by HTTP status code.\n *\n * @since 1.0.0\n * @category filters\n */\nconst filterStatus = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.filterStatus;\n/**\n * Filters responses that return a 2xx status code.\n *\n * @since 1.0.0\n * @category filters\n */\nconst filterStatusOk = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.filterStatusOk;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst makeWith = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.makeWith;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst make = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.make;\n/**\n * @since 1.0.0\n * @category mapping & sequencing\n */\nconst transform = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.transform;\n/**\n * @since 1.0.0\n * @category mapping & sequencing\n */\nconst transformResponse = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.transformResponse;\n/**\n * Appends a transformation of the request object before sending it.\n *\n * @since 1.0.0\n * @category mapping & sequencing\n */\nconst mapRequest = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.mapRequest;\n/**\n * Appends an effectful transformation of the request object before sending it.\n *\n * @since 1.0.0\n * @category mapping & sequencing\n */\nconst mapRequestEffect = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.mapRequestEffect;\n/**\n * Prepends a transformation of the request object before sending it.\n *\n * @since 1.0.0\n * @category mapping & sequencing\n */\nconst mapRequestInput = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.mapRequestInput;\n/**\n * Prepends an effectful transformation of the request object before sending it.\n *\n * @since 1.0.0\n * @category mapping & sequencing\n */\nconst mapRequestInputEffect = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.mapRequestInputEffect;\n/**\n * Retries the request based on a provided schedule or policy.\n *\n * @since 1.0.0\n * @category error handling\n */\nconst retry = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.retry;\n/**\n * Retries common transient errors, such as rate limiting, timeouts or network issues.\n *\n * Specifying a `while` predicate allows you to consider other errors as\n * transient.\n *\n * @since 1.0.0\n * @category error handling\n */\nconst retryTransient = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.retryTransient;\n/**\n * Performs an additional effect after a successful request.\n *\n * @since 1.0.0\n * @category mapping & sequencing\n */\nconst tap = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.tap;\n/**\n * Performs an additional effect after an unsuccessful request.\n *\n * @since 1.0.0\n * @category mapping & sequencing\n */\nconst tapError = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.tapError;\n/**\n * Performs an additional effect on the request before sending it.\n *\n * @since 1.0.0\n * @category mapping & sequencing\n */\nconst tapRequest = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.tapRequest;\n/**\n * Associates a `Ref` of cookies with the client for handling cookies across requests.\n *\n * @since 1.0.0\n * @category cookies\n */\nconst withCookiesRef = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.withCookiesRef;\n/**\n * Follows HTTP redirects up to a specified number of times.\n *\n * @since 1.0.0\n * @category redirects\n */\nconst followRedirects = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.followRedirects;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst currentTracerDisabledWhen = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.currentTracerDisabledWhen;\n/**\n * Disables tracing for specific requests based on a provided predicate.\n *\n * @since 1.0.0\n * @category fiber refs\n */\nconst withTracerDisabledWhen = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.withTracerDisabledWhen;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst currentTracerPropagation = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.currentTracerPropagation;\n/**\n * Enables or disables tracing propagation for the request.\n *\n * @since 1.0.0\n * @category fiber refs\n */\nconst withTracerPropagation = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.withTracerPropagation;\n/**\n * @since 1.0.0\n */\nconst layerMergedContext = _internal_httpClient_js__WEBPACK_IMPORTED_MODULE_0__.layerMergedContext;\n//# sourceMappingURL=HttpClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cENsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGVBQWUsMkRBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQkFBbUIsd0RBQVk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxnQkFBZ0IsNERBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sWUFBWSx3REFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNPLGFBQWEseURBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxhQUFhLHlEQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sY0FBYywwREFBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNPLFlBQVksd0RBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLHdEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZ0JBQWdCLDREQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNPLGlCQUFpQiw2REFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQkFBaUIsNkRBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sa0JBQWtCLDhEQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsaUVBQXFCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQixpRUFBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLGlFQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsbUVBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08saUJBQWlCLDZEQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNPLGFBQWEseURBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQkFBa0IsOERBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMEJBQTBCLHNFQUEwQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQkFBbUIsK0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlCQUF5QixxRUFBeUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLG9FQUF3QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4QkFBOEIsMEVBQThCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGNBQWMsMERBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLG1FQUF1QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLHdEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGlCQUFpQiw2REFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUJBQW1CLCtEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsbUVBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QixvRUFBd0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQ0FBa0MsOEVBQWtDO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtCQUErQiwyRUFBK0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQ0FBaUMsNkVBQWlDO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDhCQUE4QiwwRUFBOEI7QUFDbkU7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLHVFQUEyQjtBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9IdHRwQ2xpZW50LmpzPzk0MDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaW50ZXJuYWwgZnJvbSBcIi4vaW50ZXJuYWwvaHR0cENsaWVudC5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gaW50ZXJuYWwuVHlwZUlkO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0YWdzXG4gKi9cbmV4cG9ydCBjb25zdCBIdHRwQ2xpZW50ID0gaW50ZXJuYWwudGFnO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhY2Nlc3NvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGV4ZWN1dGUgPSBpbnRlcm5hbC5leGVjdXRlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhY2Nlc3NvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldCA9IGludGVybmFsLmdldDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYWNjZXNzb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBoZWFkID0gaW50ZXJuYWwuaGVhZDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYWNjZXNzb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBwb3N0ID0gaW50ZXJuYWwucG9zdDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYWNjZXNzb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBwYXRjaCA9IGludGVybmFsLnBhdGNoO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhY2Nlc3NvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHB1dCA9IGludGVybmFsLnB1dDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYWNjZXNzb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBkZWwgPSBpbnRlcm5hbC5kZWw7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFjY2Vzc29yc1xuICovXG5leHBvcnQgY29uc3Qgb3B0aW9ucyA9IGludGVybmFsLm9wdGlvbnM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVycm9yIGhhbmRsaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBjYXRjaEFsbCA9IGludGVybmFsLmNhdGNoQWxsO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvciBoYW5kbGluZ1xuICovXG5leHBvcnQgY29uc3QgY2F0Y2hUYWcgPSBpbnRlcm5hbC5jYXRjaFRhZztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZXJyb3IgaGFuZGxpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGNhdGNoVGFncyA9IGludGVybmFsLmNhdGNoVGFncztcbi8qKlxuICogRmlsdGVycyB0aGUgcmVzdWx0IG9mIGEgcmVzcG9uc2UsIG9yIHJ1bnMgYW4gYWx0ZXJuYXRpdmUgZWZmZWN0IGlmIHRoZSBwcmVkaWNhdGUgZmFpbHMuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmlsdGVyc1xuICovXG5leHBvcnQgY29uc3QgZmlsdGVyT3JFbHNlID0gaW50ZXJuYWwuZmlsdGVyT3JFbHNlO1xuLyoqXG4gKiBGaWx0ZXJzIHRoZSByZXN1bHQgb2YgYSByZXNwb25zZSwgb3IgdGhyb3dzIGFuIGVycm9yIGlmIHRoZSBwcmVkaWNhdGUgZmFpbHMuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmlsdGVyc1xuICovXG5leHBvcnQgY29uc3QgZmlsdGVyT3JGYWlsID0gaW50ZXJuYWwuZmlsdGVyT3JGYWlsO1xuLyoqXG4gKiBGaWx0ZXJzIHJlc3BvbnNlcyBieSBIVFRQIHN0YXR1cyBjb2RlLlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGZpbHRlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGZpbHRlclN0YXR1cyA9IGludGVybmFsLmZpbHRlclN0YXR1cztcbi8qKlxuICogRmlsdGVycyByZXNwb25zZXMgdGhhdCByZXR1cm4gYSAyeHggc3RhdHVzIGNvZGUuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmlsdGVyc1xuICovXG5leHBvcnQgY29uc3QgZmlsdGVyU3RhdHVzT2sgPSBpbnRlcm5hbC5maWx0ZXJTdGF0dXNPaztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlV2l0aCA9IGludGVybmFsLm1ha2VXaXRoO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBpbnRlcm5hbC5tYWtlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBtYXBwaW5nICYgc2VxdWVuY2luZ1xuICovXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gaW50ZXJuYWwudHJhbnNmb3JtO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBtYXBwaW5nICYgc2VxdWVuY2luZ1xuICovXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtUmVzcG9uc2UgPSBpbnRlcm5hbC50cmFuc2Zvcm1SZXNwb25zZTtcbi8qKlxuICogQXBwZW5kcyBhIHRyYW5zZm9ybWF0aW9uIG9mIHRoZSByZXF1ZXN0IG9iamVjdCBiZWZvcmUgc2VuZGluZyBpdC5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBtYXBwaW5nICYgc2VxdWVuY2luZ1xuICovXG5leHBvcnQgY29uc3QgbWFwUmVxdWVzdCA9IGludGVybmFsLm1hcFJlcXVlc3Q7XG4vKipcbiAqIEFwcGVuZHMgYW4gZWZmZWN0ZnVsIHRyYW5zZm9ybWF0aW9uIG9mIHRoZSByZXF1ZXN0IG9iamVjdCBiZWZvcmUgc2VuZGluZyBpdC5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBtYXBwaW5nICYgc2VxdWVuY2luZ1xuICovXG5leHBvcnQgY29uc3QgbWFwUmVxdWVzdEVmZmVjdCA9IGludGVybmFsLm1hcFJlcXVlc3RFZmZlY3Q7XG4vKipcbiAqIFByZXBlbmRzIGEgdHJhbnNmb3JtYXRpb24gb2YgdGhlIHJlcXVlc3Qgb2JqZWN0IGJlZm9yZSBzZW5kaW5nIGl0LlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IG1hcHBpbmcgJiBzZXF1ZW5jaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBtYXBSZXF1ZXN0SW5wdXQgPSBpbnRlcm5hbC5tYXBSZXF1ZXN0SW5wdXQ7XG4vKipcbiAqIFByZXBlbmRzIGFuIGVmZmVjdGZ1bCB0cmFuc2Zvcm1hdGlvbiBvZiB0aGUgcmVxdWVzdCBvYmplY3QgYmVmb3JlIHNlbmRpbmcgaXQuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgbWFwcGluZyAmIHNlcXVlbmNpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IG1hcFJlcXVlc3RJbnB1dEVmZmVjdCA9IGludGVybmFsLm1hcFJlcXVlc3RJbnB1dEVmZmVjdDtcbi8qKlxuICogUmV0cmllcyB0aGUgcmVxdWVzdCBiYXNlZCBvbiBhIHByb3ZpZGVkIHNjaGVkdWxlIG9yIHBvbGljeS5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvciBoYW5kbGluZ1xuICovXG5leHBvcnQgY29uc3QgcmV0cnkgPSBpbnRlcm5hbC5yZXRyeTtcbi8qKlxuICogUmV0cmllcyBjb21tb24gdHJhbnNpZW50IGVycm9ycywgc3VjaCBhcyByYXRlIGxpbWl0aW5nLCB0aW1lb3V0cyBvciBuZXR3b3JrIGlzc3Vlcy5cbiAqXG4gKiBTcGVjaWZ5aW5nIGEgYHdoaWxlYCBwcmVkaWNhdGUgYWxsb3dzIHlvdSB0byBjb25zaWRlciBvdGhlciBlcnJvcnMgYXNcbiAqIHRyYW5zaWVudC5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvciBoYW5kbGluZ1xuICovXG5leHBvcnQgY29uc3QgcmV0cnlUcmFuc2llbnQgPSBpbnRlcm5hbC5yZXRyeVRyYW5zaWVudDtcbi8qKlxuICogUGVyZm9ybXMgYW4gYWRkaXRpb25hbCBlZmZlY3QgYWZ0ZXIgYSBzdWNjZXNzZnVsIHJlcXVlc3QuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgbWFwcGluZyAmIHNlcXVlbmNpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHRhcCA9IGludGVybmFsLnRhcDtcbi8qKlxuICogUGVyZm9ybXMgYW4gYWRkaXRpb25hbCBlZmZlY3QgYWZ0ZXIgYW4gdW5zdWNjZXNzZnVsIHJlcXVlc3QuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgbWFwcGluZyAmIHNlcXVlbmNpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHRhcEVycm9yID0gaW50ZXJuYWwudGFwRXJyb3I7XG4vKipcbiAqIFBlcmZvcm1zIGFuIGFkZGl0aW9uYWwgZWZmZWN0IG9uIHRoZSByZXF1ZXN0IGJlZm9yZSBzZW5kaW5nIGl0LlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IG1hcHBpbmcgJiBzZXF1ZW5jaW5nXG4gKi9cbmV4cG9ydCBjb25zdCB0YXBSZXF1ZXN0ID0gaW50ZXJuYWwudGFwUmVxdWVzdDtcbi8qKlxuICogQXNzb2NpYXRlcyBhIGBSZWZgIG9mIGNvb2tpZXMgd2l0aCB0aGUgY2xpZW50IGZvciBoYW5kbGluZyBjb29raWVzIGFjcm9zcyByZXF1ZXN0cy5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb29raWVzXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoQ29va2llc1JlZiA9IGludGVybmFsLndpdGhDb29raWVzUmVmO1xuLyoqXG4gKiBGb2xsb3dzIEhUVFAgcmVkaXJlY3RzIHVwIHRvIGEgc3BlY2lmaWVkIG51bWJlciBvZiB0aW1lcy5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByZWRpcmVjdHNcbiAqL1xuZXhwb3J0IGNvbnN0IGZvbGxvd1JlZGlyZWN0cyA9IGludGVybmFsLmZvbGxvd1JlZGlyZWN0cztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3QgY3VycmVudFRyYWNlckRpc2FibGVkV2hlbiA9IGludGVybmFsLmN1cnJlbnRUcmFjZXJEaXNhYmxlZFdoZW47XG4vKipcbiAqIERpc2FibGVzIHRyYWNpbmcgZm9yIHNwZWNpZmljIHJlcXVlc3RzIGJhc2VkIG9uIGEgcHJvdmlkZWQgcHJlZGljYXRlLlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGZpYmVyIHJlZnNcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFjZXJEaXNhYmxlZFdoZW4gPSBpbnRlcm5hbC53aXRoVHJhY2VyRGlzYWJsZWRXaGVuO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBmaWJlciByZWZzXG4gKi9cbmV4cG9ydCBjb25zdCBjdXJyZW50VHJhY2VyUHJvcGFnYXRpb24gPSBpbnRlcm5hbC5jdXJyZW50VHJhY2VyUHJvcGFnYXRpb247XG4vKipcbiAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdHJhY2luZyBwcm9wYWdhdGlvbiBmb3IgdGhlIHJlcXVlc3QuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3Qgd2l0aFRyYWNlclByb3BhZ2F0aW9uID0gaW50ZXJuYWwud2l0aFRyYWNlclByb3BhZ2F0aW9uO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyTWVyZ2VkQ29udGV4dCA9IGludGVybmFsLmxheWVyTWVyZ2VkQ29udGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBDbGllbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClient.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClientError.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpClientError.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestError: () => (/* binding */ RequestError),\n/* harmony export */   ResponseError: () => (/* binding */ ResponseError),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   isHttpClientError: () => (/* binding */ isHttpClientError)\n/* harmony export */ });\n/* harmony import */ var _effect_platform_Error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @effect/platform/Error */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var _internal_httpClientError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/httpClientError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientError.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n/**\n * @since 1.0.0\n * @category type id\n */\nconst TypeId = _internal_httpClientError_js__WEBPACK_IMPORTED_MODULE_0__.TypeId;\n/**\n * @since 1.0.0\n * @category guards\n */\nconst isHttpClientError = u => (0,effect_Predicate__WEBPACK_IMPORTED_MODULE_1__.hasProperty)(u, TypeId);\n/**\n * @since 1.0.0\n * @category error\n */\nclass RequestError extends /*#__PURE__*/_effect_platform_Error__WEBPACK_IMPORTED_MODULE_2__.TypeIdError(TypeId, \"RequestError\") {\n  get methodAndUrl() {\n    return `${this.request.method} ${this.request.url}`;\n  }\n  get message() {\n    return this.description ? `${this.reason}: ${this.description} (${this.methodAndUrl})` : `${this.reason} error (${this.methodAndUrl})`;\n  }\n}\n/**\n * @since 1.0.0\n * @category error\n */\nclass ResponseError extends /*#__PURE__*/_effect_platform_Error__WEBPACK_IMPORTED_MODULE_2__.TypeIdError(TypeId, \"ResponseError\") {\n  get methodAndUrl() {\n    return `${this.request.method} ${this.request.url}`;\n  }\n  get message() {\n    const info = `${this.response.status} ${this.methodAndUrl}`;\n    return this.description ? `${this.reason}: ${this.description} (${info})` : `${this.reason} error (${info})`;\n  }\n}\n//# sourceMappingURL=HttpClientError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cENsaWVudEVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDZ0Q7QUFDRDtBQUNXO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZUFBZSxnRUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNPLCtCQUErQiw2REFBVztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdDQUF3QywrREFBaUI7QUFDaEU7QUFDQSxjQUFjLHFCQUFxQixFQUFFLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0EsaUNBQWlDLFlBQVksSUFBSSxrQkFBa0IsR0FBRyxrQkFBa0IsUUFBUSxhQUFhLFNBQVMsa0JBQWtCO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlDQUF5QywrREFBaUI7QUFDakU7QUFDQSxjQUFjLHFCQUFxQixFQUFFLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQixFQUFFLGtCQUFrQjtBQUM5RCxpQ0FBaUMsWUFBWSxJQUFJLGtCQUFrQixHQUFHLEtBQUssUUFBUSxhQUFhLFNBQVMsS0FBSztBQUM5RztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cENsaWVudEVycm9yLmpzP2NiNjciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuaW1wb3J0ICogYXMgRXJyb3IgZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm0vRXJyb3JcIjtcbmltcG9ydCB7IGhhc1Byb3BlcnR5IH0gZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIGludGVybmFsIGZyb20gXCIuL2ludGVybmFsL2h0dHBDbGllbnRFcnJvci5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkXG4gKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSBpbnRlcm5hbC5UeXBlSWQ7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGd1YXJkc1xuICovXG5leHBvcnQgY29uc3QgaXNIdHRwQ2xpZW50RXJyb3IgPSB1ID0+IGhhc1Byb3BlcnR5KHUsIFR5cGVJZCk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVycm9yXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0RXJyb3IgZXh0ZW5kcyAvKiNfX1BVUkVfXyovRXJyb3IuVHlwZUlkRXJyb3IoVHlwZUlkLCBcIlJlcXVlc3RFcnJvclwiKSB7XG4gIGdldCBtZXRob2RBbmRVcmwoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMucmVxdWVzdC5tZXRob2R9ICR7dGhpcy5yZXF1ZXN0LnVybH1gO1xuICB9XG4gIGdldCBtZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uID8gYCR7dGhpcy5yZWFzb259OiAke3RoaXMuZGVzY3JpcHRpb259ICgke3RoaXMubWV0aG9kQW5kVXJsfSlgIDogYCR7dGhpcy5yZWFzb259IGVycm9yICgke3RoaXMubWV0aG9kQW5kVXJsfSlgO1xuICB9XG59XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVycm9yXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXNwb25zZUVycm9yIGV4dGVuZHMgLyojX19QVVJFX18qL0Vycm9yLlR5cGVJZEVycm9yKFR5cGVJZCwgXCJSZXNwb25zZUVycm9yXCIpIHtcbiAgZ2V0IG1ldGhvZEFuZFVybCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5yZXF1ZXN0Lm1ldGhvZH0gJHt0aGlzLnJlcXVlc3QudXJsfWA7XG4gIH1cbiAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgY29uc3QgaW5mbyA9IGAke3RoaXMucmVzcG9uc2Uuc3RhdHVzfSAke3RoaXMubWV0aG9kQW5kVXJsfWA7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb24gPyBgJHt0aGlzLnJlYXNvbn06ICR7dGhpcy5kZXNjcmlwdGlvbn0gKCR7aW5mb30pYCA6IGAke3RoaXMucmVhc29ufSBlcnJvciAoJHtpbmZvfSlgO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwQ2xpZW50RXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClientError.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClientRequest.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpClientRequest.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   accept: () => (/* binding */ accept),\n/* harmony export */   acceptJson: () => (/* binding */ acceptJson),\n/* harmony export */   appendUrl: () => (/* binding */ appendUrl),\n/* harmony export */   appendUrlParam: () => (/* binding */ appendUrlParam),\n/* harmony export */   appendUrlParams: () => (/* binding */ appendUrlParams),\n/* harmony export */   basicAuth: () => (/* binding */ basicAuth),\n/* harmony export */   bearerToken: () => (/* binding */ bearerToken),\n/* harmony export */   bodyFile: () => (/* binding */ bodyFile),\n/* harmony export */   bodyFileWeb: () => (/* binding */ bodyFileWeb),\n/* harmony export */   bodyFormData: () => (/* binding */ bodyFormData),\n/* harmony export */   bodyJson: () => (/* binding */ bodyJson),\n/* harmony export */   bodyStream: () => (/* binding */ bodyStream),\n/* harmony export */   bodyText: () => (/* binding */ bodyText),\n/* harmony export */   bodyUint8Array: () => (/* binding */ bodyUint8Array),\n/* harmony export */   bodyUnsafeJson: () => (/* binding */ bodyUnsafeJson),\n/* harmony export */   bodyUrlParams: () => (/* binding */ bodyUrlParams),\n/* harmony export */   del: () => (/* binding */ del),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   head: () => (/* binding */ head),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   modify: () => (/* binding */ modify),\n/* harmony export */   options: () => (/* binding */ options),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   prependUrl: () => (/* binding */ prependUrl),\n/* harmony export */   put: () => (/* binding */ put),\n/* harmony export */   removeHash: () => (/* binding */ removeHash),\n/* harmony export */   schemaBodyJson: () => (/* binding */ schemaBodyJson),\n/* harmony export */   setBody: () => (/* binding */ setBody),\n/* harmony export */   setHash: () => (/* binding */ setHash),\n/* harmony export */   setHeader: () => (/* binding */ setHeader),\n/* harmony export */   setHeaders: () => (/* binding */ setHeaders),\n/* harmony export */   setMethod: () => (/* binding */ setMethod),\n/* harmony export */   setUrl: () => (/* binding */ setUrl),\n/* harmony export */   setUrlParam: () => (/* binding */ setUrlParam),\n/* harmony export */   setUrlParams: () => (/* binding */ setUrlParams),\n/* harmony export */   updateUrl: () => (/* binding */ updateUrl)\n/* harmony export */ });\n/* harmony import */ var _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/httpClientRequest.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientRequest.js\");\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpClientRequest\");\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst make = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.make;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst get = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.get;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst post = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.post;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst patch = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.patch;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst put = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.put;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst del = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.del;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst head = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.head;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst options = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.options;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst modify = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.modify;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setMethod = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.setMethod;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setHeader = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.setHeader;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setHeaders = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.setHeaders;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst basicAuth = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.basicAuth;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bearerToken = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bearerToken;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst accept = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.accept;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst acceptJson = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.acceptJson;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setUrl = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.setUrl;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst prependUrl = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.prependUrl;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst appendUrl = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.appendUrl;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst updateUrl = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.updateUrl;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setUrlParam = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.setUrlParam;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setUrlParams = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.setUrlParams;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst appendUrlParam = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.appendUrlParam;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst appendUrlParams = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.appendUrlParams;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setHash = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.setHash;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst removeHash = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.removeHash;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setBody = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.setBody;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bodyUint8Array = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bodyUint8Array;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bodyText = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bodyText;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bodyJson = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bodyJson;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bodyUnsafeJson = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bodyUnsafeJson;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst schemaBodyJson = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.schemaBodyJson;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bodyUrlParams = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bodyUrlParams;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bodyFormData = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bodyFormData;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bodyStream = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bodyStream;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bodyFile = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bodyFile;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst bodyFileWeb = _internal_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_0__.bodyFileWeb;\n//# sourceMappingURL=HttpClientRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cENsaWVudFJlcXVlc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGFBQWEsZ0VBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLCtEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ08sYUFBYSxnRUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGNBQWMsaUVBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLCtEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ08sWUFBWSwrREFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNPLGFBQWEsZ0VBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxnQkFBZ0IsbUVBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZUFBZSxrRUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGtCQUFrQixxRUFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQkFBa0IscUVBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUJBQW1CLHNFQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNPLGtCQUFrQixxRUFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxvQkFBb0IsdUVBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZUFBZSxrRUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQixzRUFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxlQUFlLGtFQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUJBQW1CLHNFQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNPLGtCQUFrQixxRUFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQkFBa0IscUVBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLHVFQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQix3RUFBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsMEVBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLDJFQUF3QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGdCQUFnQixtRUFBZ0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQkFBbUIsc0VBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZ0JBQWdCLG1FQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNPLHVCQUF1QiwwRUFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQkFBaUIsb0VBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08saUJBQWlCLG9FQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNPLHVCQUF1QiwwRUFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsMEVBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0JBQXNCLHlFQUFzQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQix3RUFBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQkFBbUIsc0VBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ08saUJBQWlCLG9FQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNPLG9CQUFvQix1RUFBb0I7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cENsaWVudFJlcXVlc3QuanM/NDFhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBpbnRlcm5hbCBmcm9tIFwiLi9pbnRlcm5hbC9odHRwQ2xpZW50UmVxdWVzdC5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBDbGllbnRSZXF1ZXN0XCIpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBpbnRlcm5hbC5tYWtlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldCA9IGludGVybmFsLmdldDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBwb3N0ID0gaW50ZXJuYWwucG9zdDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBwYXRjaCA9IGludGVybmFsLnBhdGNoO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHB1dCA9IGludGVybmFsLnB1dDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBkZWwgPSBpbnRlcm5hbC5kZWw7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgaGVhZCA9IGludGVybmFsLmhlYWQ7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3Qgb3B0aW9ucyA9IGludGVybmFsLm9wdGlvbnM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBtb2RpZnkgPSBpbnRlcm5hbC5tb2RpZnk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRNZXRob2QgPSBpbnRlcm5hbC5zZXRNZXRob2Q7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRIZWFkZXIgPSBpbnRlcm5hbC5zZXRIZWFkZXI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRIZWFkZXJzID0gaW50ZXJuYWwuc2V0SGVhZGVycztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGJhc2ljQXV0aCA9IGludGVybmFsLmJhc2ljQXV0aDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGJlYXJlclRva2VuID0gaW50ZXJuYWwuYmVhcmVyVG9rZW47XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBhY2NlcHQgPSBpbnRlcm5hbC5hY2NlcHQ7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBhY2NlcHRKc29uID0gaW50ZXJuYWwuYWNjZXB0SnNvbjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldFVybCA9IGludGVybmFsLnNldFVybDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHByZXBlbmRVcmwgPSBpbnRlcm5hbC5wcmVwZW5kVXJsO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgYXBwZW5kVXJsID0gaW50ZXJuYWwuYXBwZW5kVXJsO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgdXBkYXRlVXJsID0gaW50ZXJuYWwudXBkYXRlVXJsO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2V0VXJsUGFyYW0gPSBpbnRlcm5hbC5zZXRVcmxQYXJhbTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldFVybFBhcmFtcyA9IGludGVybmFsLnNldFVybFBhcmFtcztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGFwcGVuZFVybFBhcmFtID0gaW50ZXJuYWwuYXBwZW5kVXJsUGFyYW07XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBhcHBlbmRVcmxQYXJhbXMgPSBpbnRlcm5hbC5hcHBlbmRVcmxQYXJhbXM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRIYXNoID0gaW50ZXJuYWwuc2V0SGFzaDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZUhhc2ggPSBpbnRlcm5hbC5yZW1vdmVIYXNoO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2V0Qm9keSA9IGludGVybmFsLnNldEJvZHk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBib2R5VWludDhBcnJheSA9IGludGVybmFsLmJvZHlVaW50OEFycmF5O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgYm9keVRleHQgPSBpbnRlcm5hbC5ib2R5VGV4dDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGJvZHlKc29uID0gaW50ZXJuYWwuYm9keUpzb247XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBib2R5VW5zYWZlSnNvbiA9IGludGVybmFsLmJvZHlVbnNhZmVKc29uO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2NoZW1hQm9keUpzb24gPSBpbnRlcm5hbC5zY2hlbWFCb2R5SnNvbjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGJvZHlVcmxQYXJhbXMgPSBpbnRlcm5hbC5ib2R5VXJsUGFyYW1zO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgYm9keUZvcm1EYXRhID0gaW50ZXJuYWwuYm9keUZvcm1EYXRhO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgYm9keVN0cmVhbSA9IGludGVybmFsLmJvZHlTdHJlYW07XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBib2R5RmlsZSA9IGludGVybmFsLmJvZHlGaWxlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgYm9keUZpbGVXZWIgPSBpbnRlcm5hbC5ib2R5RmlsZVdlYjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBDbGllbnRSZXF1ZXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClientRequest.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpIncomingMessage.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpIncomingMessage.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   inspect: () => (/* binding */ inspect),\n/* harmony export */   maxBodySize: () => (/* binding */ maxBodySize),\n/* harmony export */   schemaBodyJson: () => (/* binding */ schemaBodyJson),\n/* harmony export */   schemaBodyUrlParams: () => (/* binding */ schemaBodyUrlParams),\n/* harmony export */   schemaHeaders: () => (/* binding */ schemaHeaders),\n/* harmony export */   withMaxBodySize: () => (/* binding */ withMaxBodySize)\n/* harmony export */ });\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var _FileSystem_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FileSystem.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/FileSystem.js\");\n/* harmony import */ var _UrlParams_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UrlParams.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpIncomingMessage\");\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaBodyJson = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_0__.decodeUnknown(schema, options);\n  return self => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(self.json, parse);\n};\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaBodyUrlParams = (schema, options) => {\n  const decode = _UrlParams_js__WEBPACK_IMPORTED_MODULE_2__.schemaStruct(schema, options);\n  return self => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(self.urlParamsBody, decode);\n};\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaHeaders = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_0__.decodeUnknown(schema, options);\n  return self => parse(self.headers);\n};\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst maxBodySize = /*#__PURE__*/effect_GlobalValue__WEBPACK_IMPORTED_MODULE_3__.globalValue(\"@effect/platform/HttpIncomingMessage/maxBodySize\", () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_4__.unsafeMake(effect_Option__WEBPACK_IMPORTED_MODULE_5__.none()));\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withMaxBodySize = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (effect, size) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.locally(effect, maxBodySize, effect_Option__WEBPACK_IMPORTED_MODULE_5__.map(size, _FileSystem_js__WEBPACK_IMPORTED_MODULE_7__.Size)));\n/**\n * @since 1.0.0\n */\nconst inspect = (self, that) => {\n  const contentType = self.headers[\"content-type\"] ?? \"\";\n  let body;\n  if (contentType.includes(\"application/json\")) {\n    try {\n      body = effect_Effect__WEBPACK_IMPORTED_MODULE_1__.runSync(self.json);\n    } catch (_) {\n      //\n    }\n  } else if (contentType.includes(\"text/\") || contentType.includes(\"urlencoded\")) {\n    try {\n      body = effect_Effect__WEBPACK_IMPORTED_MODULE_1__.runSync(self.text);\n    } catch (_) {\n      //\n    }\n  }\n  const obj = {\n    ...that,\n    headers: effect_Inspectable__WEBPACK_IMPORTED_MODULE_8__.redact(self.headers),\n    remoteAddress: self.remoteAddress.toJSON()\n  };\n  if (body !== undefined) {\n    obj.body = body;\n  }\n  return obj;\n};\n//# sourceMappingURL=HttpIncomingMessage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEluY29taW5nTWVzc2FnZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ3dDO0FBQ0k7QUFDTDtBQUNNO0FBQ0s7QUFDVjtBQUNBO0FBQ007QUFDRjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdCQUFnQix3REFBb0I7QUFDcEMsaUJBQWlCLGtEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGlCQUFpQix1REFBc0I7QUFDdkMsaUJBQWlCLGtEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdCQUFnQix3REFBb0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08saUNBQWlDLDJEQUFrQiwyREFBMkQsdURBQW1CLENBQUMsK0NBQVc7QUFDcEo7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQ0FBcUMscURBQUksc0JBQXNCLGtEQUFjLHNCQUFzQiw4Q0FBVSxPQUFPLGdEQUFlO0FBQzFJO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtEQUFjO0FBQzNCLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsYUFBYSxrREFBYztBQUMzQixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0RBQWtCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cEluY29taW5nTWVzc2FnZS5qcz9mNGQzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0ICogYXMgRmliZXJSZWYgZnJvbSBcImVmZmVjdC9GaWJlclJlZlwiO1xuaW1wb3J0IHsgZHVhbCB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIjtcbmltcG9ydCAqIGFzIEdsb2JhbCBmcm9tIFwiZWZmZWN0L0dsb2JhbFZhbHVlXCI7XG5pbXBvcnQgKiBhcyBJbnNwZWN0YWJsZSBmcm9tIFwiZWZmZWN0L0luc3BlY3RhYmxlXCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCAqIGFzIFNjaGVtYSBmcm9tIFwiZWZmZWN0L1NjaGVtYVwiO1xuaW1wb3J0ICogYXMgRmlsZVN5c3RlbSBmcm9tIFwiLi9GaWxlU3lzdGVtLmpzXCI7XG5pbXBvcnQgKiBhcyBVcmxQYXJhbXMgZnJvbSBcIi4vVXJsUGFyYW1zLmpzXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEluY29taW5nTWVzc2FnZVwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFCb2R5SnNvbiA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2UgPSBTY2hlbWEuZGVjb2RlVW5rbm93bihzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gc2VsZiA9PiBFZmZlY3QuZmxhdE1hcChzZWxmLmpzb24sIHBhcnNlKTtcbn07XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHNjaGVtYVxuICovXG5leHBvcnQgY29uc3Qgc2NoZW1hQm9keVVybFBhcmFtcyA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgZGVjb2RlID0gVXJsUGFyYW1zLnNjaGVtYVN0cnVjdChzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gc2VsZiA9PiBFZmZlY3QuZmxhdE1hcChzZWxmLnVybFBhcmFtc0JvZHksIGRlY29kZSk7XG59O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBzY2hlbWFcbiAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUhlYWRlcnMgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlID0gU2NoZW1hLmRlY29kZVVua25vd24oc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIHNlbGYgPT4gcGFyc2Uoc2VsZi5oZWFkZXJzKTtcbn07XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGZpYmVyIHJlZnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1heEJvZHlTaXplID0gLyojX19QVVJFX18qL0dsb2JhbC5nbG9iYWxWYWx1ZShcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEluY29taW5nTWVzc2FnZS9tYXhCb2R5U2l6ZVwiLCAoKSA9PiBGaWJlclJlZi51bnNhZmVNYWtlKE9wdGlvbi5ub25lKCkpKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3Qgd2l0aE1heEJvZHlTaXplID0gLyojX19QVVJFX18qL2R1YWwoMiwgKGVmZmVjdCwgc2l6ZSkgPT4gRWZmZWN0LmxvY2FsbHkoZWZmZWN0LCBtYXhCb2R5U2l6ZSwgT3B0aW9uLm1hcChzaXplLCBGaWxlU3lzdGVtLlNpemUpKSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgaW5zcGVjdCA9IChzZWxmLCB0aGF0KSA9PiB7XG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gc2VsZi5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdID8/IFwiXCI7XG4gIGxldCBib2R5O1xuICBpZiAoY29udGVudFR5cGUuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGJvZHkgPSBFZmZlY3QucnVuU3luYyhzZWxmLmpzb24pO1xuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIC8vXG4gICAgfVxuICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKFwidGV4dC9cIikgfHwgY29udGVudFR5cGUuaW5jbHVkZXMoXCJ1cmxlbmNvZGVkXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGJvZHkgPSBFZmZlY3QucnVuU3luYyhzZWxmLnRleHQpO1xuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIC8vXG4gICAgfVxuICB9XG4gIGNvbnN0IG9iaiA9IHtcbiAgICAuLi50aGF0LFxuICAgIGhlYWRlcnM6IEluc3BlY3RhYmxlLnJlZGFjdChzZWxmLmhlYWRlcnMpLFxuICAgIHJlbW90ZUFkZHJlc3M6IHNlbGYucmVtb3RlQWRkcmVzcy50b0pTT04oKVxuICB9O1xuICBpZiAoYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgb2JqLmJvZHkgPSBib2R5O1xuICB9XG4gIHJldHVybiBvYmo7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHR0cEluY29taW5nTWVzc2FnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpIncomingMessage.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpMethod.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpMethod.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   all: () => (/* binding */ all),\n/* harmony export */   hasBody: () => (/* binding */ hasBody),\n/* harmony export */   isHttpMethod: () => (/* binding */ isHttpMethod)\n/* harmony export */ });\n/**\n * @since 1.0.0\n */\nconst hasBody = method => method !== \"GET\" && method !== \"HEAD\" && method !== \"OPTIONS\";\n/**\n * @since 1.0.0\n */\nconst all = /*#__PURE__*/new Set([\"GET\", \"POST\", \"PUT\", \"DELETE\", \"PATCH\", \"HEAD\", \"OPTIONS\"]);\n/**\n * Tests if a value is a `HttpMethod`.\n *\n * @param input - The value to test.\n *\n * @example\n * ```ts\n * import { HttpMethod } from \"@effect/platform\"\n *\n * assert.deepStrictEqual(HttpMethod.isHttpMethod(\"GET\"), true)\n * assert.deepStrictEqual(HttpMethod.isHttpMethod(\"get\"), false)\n * assert.deepStrictEqual(HttpMethod.isHttpMethod(1), false)\n * ```\n *\n * @since 1.0.0\n * @category refinements\n */\nconst isHttpMethod = u => all.has(u);\n//# sourceMappingURL=HttpMethod.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cE1ldGhvZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9IdHRwTWV0aG9kLmpzPzkwYjAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGhhc0JvZHkgPSBtZXRob2QgPT4gbWV0aG9kICE9PSBcIkdFVFwiICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIgJiYgbWV0aG9kICE9PSBcIk9QVElPTlNcIjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBhbGwgPSAvKiNfX1BVUkVfXyovbmV3IFNldChbXCJHRVRcIiwgXCJQT1NUXCIsIFwiUFVUXCIsIFwiREVMRVRFXCIsIFwiUEFUQ0hcIiwgXCJIRUFEXCIsIFwiT1BUSU9OU1wiXSk7XG4vKipcbiAqIFRlc3RzIGlmIGEgdmFsdWUgaXMgYSBgSHR0cE1ldGhvZGAuXG4gKlxuICogQHBhcmFtIGlucHV0IC0gVGhlIHZhbHVlIHRvIHRlc3QuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBIdHRwTWV0aG9kIH0gZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm1cIlxuICpcbiAqIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwoSHR0cE1ldGhvZC5pc0h0dHBNZXRob2QoXCJHRVRcIiksIHRydWUpXG4gKiBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKEh0dHBNZXRob2QuaXNIdHRwTWV0aG9kKFwiZ2V0XCIpLCBmYWxzZSlcbiAqIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwoSHR0cE1ldGhvZC5pc0h0dHBNZXRob2QoMSksIGZhbHNlKVxuICogYGBgXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcmVmaW5lbWVudHNcbiAqL1xuZXhwb3J0IGNvbnN0IGlzSHR0cE1ldGhvZCA9IHUgPT4gYWxsLmhhcyh1KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBNZXRob2QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpMethod.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpMiddleware.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpMiddleware.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cors: () => (/* binding */ cors),\n/* harmony export */   currentTracerDisabledWhen: () => (/* binding */ currentTracerDisabledWhen),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   loggerDisabled: () => (/* binding */ loggerDisabled),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   searchParamsParser: () => (/* binding */ searchParamsParser),\n/* harmony export */   withLoggerDisabled: () => (/* binding */ withLoggerDisabled),\n/* harmony export */   withTracerDisabledForUrls: () => (/* binding */ withTracerDisabledForUrls),\n/* harmony export */   withTracerDisabledWhen: () => (/* binding */ withTracerDisabledWhen),\n/* harmony export */   withTracerDisabledWhenEffect: () => (/* binding */ withTracerDisabledWhenEffect),\n/* harmony export */   xForwardedHeaders: () => (/* binding */ xForwardedHeaders)\n/* harmony export */ });\n/* harmony import */ var _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/httpMiddleware.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpMiddleware.js\");\n\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst make = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.make;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst logger = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.logger;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst loggerDisabled = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.loggerDisabled;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withLoggerDisabled = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.withLoggerDisabled;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst currentTracerDisabledWhen = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.currentTracerDisabledWhen;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withTracerDisabledWhen = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.withTracerDisabledWhen;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withTracerDisabledWhenEffect = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.withTracerDisabledWhenEffect;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withTracerDisabledForUrls = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.withTracerDisabledForUrls;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst xForwardedHeaders = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.xForwardedHeaders;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst searchParamsParser = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.searchParamsParser;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst cors = _internal_httpMiddleware_js__WEBPACK_IMPORTED_MODULE_0__.cors;\n//# sourceMappingURL=HttpMiddleware.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cE1pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sYUFBYSw2REFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGVBQWUsK0RBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsdUVBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLDJFQUEyQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtDQUFrQyxrRkFBa0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDTywrQkFBK0IsK0VBQStCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUNBQXFDLHFGQUFxQztBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtDQUFrQyxrRkFBa0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDTywwQkFBMEIsMEVBQTBCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLDJFQUEyQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGFBQWEsNkRBQWE7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cE1pZGRsZXdhcmUuanM/YjcwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBpbnRlcm5hbCBmcm9tIFwiLi9pbnRlcm5hbC9odHRwTWlkZGxld2FyZS5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBpbnRlcm5hbC5tYWtlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGxvZ2dlciA9IGludGVybmFsLmxvZ2dlcjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3QgbG9nZ2VyRGlzYWJsZWQgPSBpbnRlcm5hbC5sb2dnZXJEaXNhYmxlZDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3Qgd2l0aExvZ2dlckRpc2FibGVkID0gaW50ZXJuYWwud2l0aExvZ2dlckRpc2FibGVkO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBmaWJlciByZWZzXG4gKi9cbmV4cG9ydCBjb25zdCBjdXJyZW50VHJhY2VyRGlzYWJsZWRXaGVuID0gaW50ZXJuYWwuY3VycmVudFRyYWNlckRpc2FibGVkV2hlbjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3Qgd2l0aFRyYWNlckRpc2FibGVkV2hlbiA9IGludGVybmFsLndpdGhUcmFjZXJEaXNhYmxlZFdoZW47XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGZpYmVyIHJlZnNcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFjZXJEaXNhYmxlZFdoZW5FZmZlY3QgPSBpbnRlcm5hbC53aXRoVHJhY2VyRGlzYWJsZWRXaGVuRWZmZWN0O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBmaWJlciByZWZzXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoVHJhY2VyRGlzYWJsZWRGb3JVcmxzID0gaW50ZXJuYWwud2l0aFRyYWNlckRpc2FibGVkRm9yVXJscztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCB4Rm9yd2FyZGVkSGVhZGVycyA9IGludGVybmFsLnhGb3J3YXJkZWRIZWFkZXJzO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNlYXJjaFBhcmFtc1BhcnNlciA9IGludGVybmFsLnNlYXJjaFBhcmFtc1BhcnNlcjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBjb3JzID0gaW50ZXJuYWwuY29ycztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBNaWRkbGV3YXJlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpMiddleware.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpRouter.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpRouter.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Default: () => (/* binding */ Default),\n/* harmony export */   RouteContext: () => (/* binding */ RouteContext),\n/* harmony export */   RouteContextTypeId: () => (/* binding */ RouteContextTypeId),\n/* harmony export */   RouteTypeId: () => (/* binding */ RouteTypeId),\n/* harmony export */   Tag: () => (/* binding */ Tag),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   all: () => (/* binding */ all),\n/* harmony export */   append: () => (/* binding */ append),\n/* harmony export */   catchAll: () => (/* binding */ catchAll),\n/* harmony export */   catchAllCause: () => (/* binding */ catchAllCause),\n/* harmony export */   catchTag: () => (/* binding */ catchTag),\n/* harmony export */   catchTags: () => (/* binding */ catchTags),\n/* harmony export */   concat: () => (/* binding */ concat),\n/* harmony export */   concatAll: () => (/* binding */ concatAll),\n/* harmony export */   currentRouterConfig: () => (/* binding */ currentRouterConfig),\n/* harmony export */   del: () => (/* binding */ del),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   fromIterable: () => (/* binding */ fromIterable),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   head: () => (/* binding */ head),\n/* harmony export */   makeRoute: () => (/* binding */ makeRoute),\n/* harmony export */   mount: () => (/* binding */ mount),\n/* harmony export */   mountApp: () => (/* binding */ mountApp),\n/* harmony export */   options: () => (/* binding */ options),\n/* harmony export */   params: () => (/* binding */ params),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   prefixAll: () => (/* binding */ prefixAll),\n/* harmony export */   prefixPath: () => (/* binding */ prefixPath),\n/* harmony export */   provideService: () => (/* binding */ provideService),\n/* harmony export */   provideServiceEffect: () => (/* binding */ provideServiceEffect),\n/* harmony export */   put: () => (/* binding */ put),\n/* harmony export */   route: () => (/* binding */ route),\n/* harmony export */   schemaJson: () => (/* binding */ schemaJson),\n/* harmony export */   schemaNoBody: () => (/* binding */ schemaNoBody),\n/* harmony export */   schemaParams: () => (/* binding */ schemaParams),\n/* harmony export */   schemaPathParams: () => (/* binding */ schemaPathParams),\n/* harmony export */   setRouterConfig: () => (/* binding */ setRouterConfig),\n/* harmony export */   transform: () => (/* binding */ transform),\n/* harmony export */   use: () => (/* binding */ use),\n/* harmony export */   withRouterConfig: () => (/* binding */ withRouterConfig)\n/* harmony export */ });\n/* harmony import */ var _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/httpRouter.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpRouter.js\");\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.TypeId;\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst RouteTypeId = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.RouteTypeId;\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst RouteContextTypeId = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.RouteContextTypeId;\n/**\n * @since 1.0.0\n * @category route context\n */\nconst RouteContext = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.RouteContext;\n/**\n * @since 1.0.0\n * @category route context\n */\nconst params = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.params;\n/**\n * @since 1.0.0\n * @category route context\n */\nconst schemaJson = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.schemaJson;\n/**\n * @since 1.0.0\n * @category route context\n */\nconst schemaNoBody = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.schemaNoBody;\n/**\n * @since 1.0.0\n * @category route context\n */\nconst schemaParams = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.schemaParams;\n/**\n * @since 1.0.0\n * @category route context\n */\nconst schemaPathParams = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.schemaPathParams;\n/**\n * @since 1.0.0\n * @category router config\n */\nconst currentRouterConfig = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.currentRouterConfig;\n/**\n * @since 1.0.0\n * @category router config\n */\nconst withRouterConfig = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.withRouterConfig;\n/**\n * @since 1.0.0\n * @category router config\n */\nconst setRouterConfig = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.setRouterConfig;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst empty = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.empty;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst fromIterable = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.fromIterable;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst makeRoute = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.makeRoute;\n/**\n * @since 1.0.0\n * @category utils\n */\nconst prefixPath = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.prefixPath;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst prefixAll = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.prefixAll;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst append = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.append;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst concat = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.concat;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst concatAll = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.concatAll;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst mount = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.mount;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst mountApp = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.mountApp;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst route = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.route;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst all = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.all;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst get = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.get;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst post = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.post;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst patch = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.patch;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst put = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.put;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst del = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.del;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst head = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.head;\n/**\n * @since 1.0.0\n * @category routing\n */\nconst options = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.options;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst use = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.use;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst transform = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.transform;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst catchAll = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.catchAll;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst catchAllCause = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.catchAllCause;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst catchTag = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.catchTag;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst catchTags = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.catchTags;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst provideService = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.provideService;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst provideServiceEffect = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.provideServiceEffect;\n/**\n * @since 1.0.0\n * @category tags\n */\nconst Tag = _internal_httpRouter_js__WEBPACK_IMPORTED_MODULE_0__.Tag;\n/**\n * @since 1.0.0\n * @category tags\n */\nclass Default extends /*#__PURE__*/Tag(\"@effect/platform/HttpRouter/Default\")() {}\n//# sourceMappingURL=HttpRouter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cFJvdXRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxlQUFlLDJEQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLGdFQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPLDJCQUEyQix1RUFBMkI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsaUVBQXFCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZUFBZSwyREFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQiwrREFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsaUVBQXFCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLGlFQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlCQUF5QixxRUFBeUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0QkFBNEIsd0VBQTRCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLHFFQUF5QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QixvRUFBd0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxjQUFjLDBEQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLGlFQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtCQUFrQiw4REFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQkFBbUIsK0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sa0JBQWtCLDhEQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGVBQWUsMkRBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxlQUFlLDJEQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sa0JBQWtCLDhEQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGNBQWMsMERBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQkFBaUIsNkRBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sY0FBYywwREFBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNPLFlBQVksd0RBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLHdEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ08sYUFBYSx5REFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGNBQWMsMERBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLHdEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ08sWUFBWSx3REFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNPLGFBQWEseURBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxnQkFBZ0IsNERBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sWUFBWSx3REFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtCQUFrQiw4REFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQkFBaUIsNkRBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0JBQXNCLGtFQUFzQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGlCQUFpQiw2REFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQkFBa0IsOERBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLG1FQUF1QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDZCQUE2Qix5RUFBNkI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLHdEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9IdHRwUm91dGVyLmpzP2UwZmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaW50ZXJuYWwgZnJvbSBcIi4vaW50ZXJuYWwvaHR0cFJvdXRlci5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gaW50ZXJuYWwuVHlwZUlkO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgUm91dGVUeXBlSWQgPSBpbnRlcm5hbC5Sb3V0ZVR5cGVJZDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZHNcbiAqL1xuZXhwb3J0IGNvbnN0IFJvdXRlQ29udGV4dFR5cGVJZCA9IGludGVybmFsLlJvdXRlQ29udGV4dFR5cGVJZDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcm91dGUgY29udGV4dFxuICovXG5leHBvcnQgY29uc3QgUm91dGVDb250ZXh0ID0gaW50ZXJuYWwuUm91dGVDb250ZXh0O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByb3V0ZSBjb250ZXh0XG4gKi9cbmV4cG9ydCBjb25zdCBwYXJhbXMgPSBpbnRlcm5hbC5wYXJhbXM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJvdXRlIGNvbnRleHRcbiAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUpzb24gPSBpbnRlcm5hbC5zY2hlbWFKc29uO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByb3V0ZSBjb250ZXh0XG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFOb0JvZHkgPSBpbnRlcm5hbC5zY2hlbWFOb0JvZHk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJvdXRlIGNvbnRleHRcbiAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYVBhcmFtcyA9IGludGVybmFsLnNjaGVtYVBhcmFtcztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcm91dGUgY29udGV4dFxuICovXG5leHBvcnQgY29uc3Qgc2NoZW1hUGF0aFBhcmFtcyA9IGludGVybmFsLnNjaGVtYVBhdGhQYXJhbXM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJvdXRlciBjb25maWdcbiAqL1xuZXhwb3J0IGNvbnN0IGN1cnJlbnRSb3V0ZXJDb25maWcgPSBpbnRlcm5hbC5jdXJyZW50Um91dGVyQ29uZmlnO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByb3V0ZXIgY29uZmlnXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoUm91dGVyQ29uZmlnID0gaW50ZXJuYWwud2l0aFJvdXRlckNvbmZpZztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcm91dGVyIGNvbmZpZ1xuICovXG5leHBvcnQgY29uc3Qgc2V0Um91dGVyQ29uZmlnID0gaW50ZXJuYWwuc2V0Um91dGVyQ29uZmlnO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGVtcHR5ID0gaW50ZXJuYWwuZW1wdHk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgZnJvbUl0ZXJhYmxlID0gaW50ZXJuYWwuZnJvbUl0ZXJhYmxlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2VSb3V0ZSA9IGludGVybmFsLm1ha2VSb3V0ZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdXRpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IHByZWZpeFBhdGggPSBpbnRlcm5hbC5wcmVmaXhQYXRoO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgcHJlZml4QWxsID0gaW50ZXJuYWwucHJlZml4QWxsO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgYXBwZW5kID0gaW50ZXJuYWwuYXBwZW5kO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgY29uY2F0ID0gaW50ZXJuYWwuY29uY2F0O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgY29uY2F0QWxsID0gaW50ZXJuYWwuY29uY2F0QWxsO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByb3V0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBtb3VudCA9IGludGVybmFsLm1vdW50O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByb3V0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBtb3VudEFwcCA9IGludGVybmFsLm1vdW50QXBwO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByb3V0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCByb3V0ZSA9IGludGVybmFsLnJvdXRlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByb3V0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBhbGwgPSBpbnRlcm5hbC5hbGw7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJvdXRpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGdldCA9IGludGVybmFsLmdldDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcm91dGluZ1xuICovXG5leHBvcnQgY29uc3QgcG9zdCA9IGludGVybmFsLnBvc3Q7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJvdXRpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHBhdGNoID0gaW50ZXJuYWwucGF0Y2g7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJvdXRpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHB1dCA9IGludGVybmFsLnB1dDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcm91dGluZ1xuICovXG5leHBvcnQgY29uc3QgZGVsID0gaW50ZXJuYWwuZGVsO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByb3V0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBoZWFkID0gaW50ZXJuYWwuaGVhZDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcm91dGluZ1xuICovXG5leHBvcnQgY29uc3Qgb3B0aW9ucyA9IGludGVybmFsLm9wdGlvbnM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCB1c2UgPSBpbnRlcm5hbC51c2U7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSBpbnRlcm5hbC50cmFuc2Zvcm07XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBjYXRjaEFsbCA9IGludGVybmFsLmNhdGNoQWxsO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgY2F0Y2hBbGxDYXVzZSA9IGludGVybmFsLmNhdGNoQWxsQ2F1c2U7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBjYXRjaFRhZyA9IGludGVybmFsLmNhdGNoVGFnO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgY2F0Y2hUYWdzID0gaW50ZXJuYWwuY2F0Y2hUYWdzO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgcHJvdmlkZVNlcnZpY2UgPSBpbnRlcm5hbC5wcm92aWRlU2VydmljZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHByb3ZpZGVTZXJ2aWNlRWZmZWN0ID0gaW50ZXJuYWwucHJvdmlkZVNlcnZpY2VFZmZlY3Q7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHRhZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IFRhZyA9IGludGVybmFsLlRhZztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdGFnc1xuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdCBleHRlbmRzIC8qI19fUFVSRV9fKi9UYWcoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBSb3V0ZXIvRGVmYXVsdFwiKSgpIHt9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwUm91dGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpRouter.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServer.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpServer.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpServer: () => (/* binding */ HttpServer),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   addressFormattedWith: () => (/* binding */ addressFormattedWith),\n/* harmony export */   addressWith: () => (/* binding */ addressWith),\n/* harmony export */   formatAddress: () => (/* binding */ formatAddress),\n/* harmony export */   layerContext: () => (/* binding */ layerContext),\n/* harmony export */   layerTestClient: () => (/* binding */ layerTestClient),\n/* harmony export */   logAddress: () => (/* binding */ logAddress),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   serve: () => (/* binding */ serve),\n/* harmony export */   serveEffect: () => (/* binding */ serveEffect),\n/* harmony export */   withLogAddress: () => (/* binding */ withLogAddress)\n/* harmony export */ });\n/* harmony import */ var _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/httpServer.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServer.js\");\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.TypeId;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst HttpServer = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.serverTag;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst make = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.make;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst serve = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.serve;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst serveEffect = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.serveEffect;\n/**\n * @since 1.0.0\n * @category address\n */\nconst formatAddress = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.formatAddress;\n/**\n * @since 1.0.0\n * @category address\n */\nconst addressWith = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.addressWith;\n/**\n * @since 1.0.0\n * @category address\n */\nconst addressFormattedWith = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.addressFormattedWith;\n/**\n * @since 1.0.0\n * @category address\n */\nconst logAddress = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.logAddress;\n/**\n * @since 1.0.0\n * @category address\n */\nconst withLogAddress = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.withLogAddress;\n/**\n * Layer producing an `HttpClient` with prepended url of the running http server.\n *\n * @since 1.0.0\n * @category layers\n */\nconst layerTestClient = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.layerTestClient;\n/**\n * A Layer providing the `HttpPlatform`, `FileSystem`, `Etag.Generator`, and `Path`\n * services.\n *\n * The `FileSystem` service is a no-op implementation, so this layer is only\n * useful for platforms that have no file system.\n *\n * @since 1.0.0\n * @category layers\n */\nconst layerContext = _internal_httpServer_js__WEBPACK_IMPORTED_MODULE_0__.layerContext;\n//# sourceMappingURL=HttpServer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cFNlcnZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZUFBZSwyREFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQiw4REFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxhQUFhLHlEQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sY0FBYywwREFBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNPLG9CQUFvQixnRUFBb0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxzQkFBc0Isa0VBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLGdFQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPLDZCQUE2Qix5RUFBNkI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQkFBbUIsK0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLG1FQUF1QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0Isb0VBQXdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLGlFQUFxQjtBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9IdHRwU2VydmVyLmpzPzJmNGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaW50ZXJuYWwgZnJvbSBcIi4vaW50ZXJuYWwvaHR0cFNlcnZlci5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gaW50ZXJuYWwuVHlwZUlkO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IEh0dHBTZXJ2ZXIgPSBpbnRlcm5hbC5zZXJ2ZXJUYWc7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgbWFrZSA9IGludGVybmFsLm1ha2U7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFjY2Vzc29yc1xuICovXG5leHBvcnQgY29uc3Qgc2VydmUgPSBpbnRlcm5hbC5zZXJ2ZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYWNjZXNzb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBzZXJ2ZUVmZmVjdCA9IGludGVybmFsLnNlcnZlRWZmZWN0O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhZGRyZXNzXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRBZGRyZXNzID0gaW50ZXJuYWwuZm9ybWF0QWRkcmVzcztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYWRkcmVzc1xuICovXG5leHBvcnQgY29uc3QgYWRkcmVzc1dpdGggPSBpbnRlcm5hbC5hZGRyZXNzV2l0aDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYWRkcmVzc1xuICovXG5leHBvcnQgY29uc3QgYWRkcmVzc0Zvcm1hdHRlZFdpdGggPSBpbnRlcm5hbC5hZGRyZXNzRm9ybWF0dGVkV2l0aDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYWRkcmVzc1xuICovXG5leHBvcnQgY29uc3QgbG9nQWRkcmVzcyA9IGludGVybmFsLmxvZ0FkZHJlc3M7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFkZHJlc3NcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhMb2dBZGRyZXNzID0gaW50ZXJuYWwud2l0aExvZ0FkZHJlc3M7XG4vKipcbiAqIExheWVyIHByb2R1Y2luZyBhbiBgSHR0cENsaWVudGAgd2l0aCBwcmVwZW5kZWQgdXJsIG9mIHRoZSBydW5uaW5nIGh0dHAgc2VydmVyLlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGxheWVyc1xuICovXG5leHBvcnQgY29uc3QgbGF5ZXJUZXN0Q2xpZW50ID0gaW50ZXJuYWwubGF5ZXJUZXN0Q2xpZW50O1xuLyoqXG4gKiBBIExheWVyIHByb3ZpZGluZyB0aGUgYEh0dHBQbGF0Zm9ybWAsIGBGaWxlU3lzdGVtYCwgYEV0YWcuR2VuZXJhdG9yYCwgYW5kIGBQYXRoYFxuICogc2VydmljZXMuXG4gKlxuICogVGhlIGBGaWxlU3lzdGVtYCBzZXJ2aWNlIGlzIGEgbm8tb3AgaW1wbGVtZW50YXRpb24sIHNvIHRoaXMgbGF5ZXIgaXMgb25seVxuICogdXNlZnVsIGZvciBwbGF0Zm9ybXMgdGhhdCBoYXZlIG5vIGZpbGUgc3lzdGVtLlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGxheWVyc1xuICovXG5leHBvcnQgY29uc3QgbGF5ZXJDb250ZXh0ID0gaW50ZXJuYWwubGF5ZXJDb250ZXh0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHR0cFNlcnZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServer.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerError.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpServerError.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestError: () => (/* binding */ RequestError),\n/* harmony export */   ResponseError: () => (/* binding */ ResponseError),\n/* harmony export */   RouteNotFound: () => (/* binding */ RouteNotFound),\n/* harmony export */   ServeError: () => (/* binding */ ServeError),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   causeResponse: () => (/* binding */ causeResponse),\n/* harmony export */   causeResponseStripped: () => (/* binding */ causeResponseStripped),\n/* harmony export */   clientAbortFiberId: () => (/* binding */ clientAbortFiberId),\n/* harmony export */   exitResponse: () => (/* binding */ exitResponse),\n/* harmony export */   isServerError: () => (/* binding */ isServerError)\n/* harmony export */ });\n/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Error.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js\");\n/* harmony import */ var _HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HttpServerRespondable.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRespondable.js\");\n/* harmony import */ var _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HttpServerResponse.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerResponse.js\");\n/* harmony import */ var _internal_httpServerError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/httpServerError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerError.js\");\n\n\n\n\n/**\n * @since 1.0.0\n * @category type id\n */\nconst TypeId = _internal_httpServerError_js__WEBPACK_IMPORTED_MODULE_0__.TypeId;\n/**\n * @since 1.0.0\n * @category error\n */\nclass RequestError extends /*#__PURE__*/(0,_Error_js__WEBPACK_IMPORTED_MODULE_1__.TypeIdError)(TypeId, \"RequestError\") {\n  /**\n   * @since 1.0.0\n   */\n  [_HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_2__.symbol]() {\n    return _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_3__.empty({\n      status: 400\n    });\n  }\n  get methodAndUrl() {\n    return `${this.request.method} ${this.request.url}`;\n  }\n  get message() {\n    return this.description ? `${this.reason}: ${this.description} (${this.methodAndUrl})` : `${this.reason} error (${this.methodAndUrl})`;\n  }\n}\n/**\n * @since 1.0.0\n * @category predicates\n */\nconst isServerError = _internal_httpServerError_js__WEBPACK_IMPORTED_MODULE_0__.isServerError;\n/**\n * @since 1.0.0\n * @category error\n */\nclass RouteNotFound extends /*#__PURE__*/(0,_Error_js__WEBPACK_IMPORTED_MODULE_1__.TypeIdError)(TypeId, \"RouteNotFound\") {\n  constructor(options) {\n    super(options);\n    this.stack = `${this.name}: ${this.message}`;\n  }\n  /**\n   * @since 1.0.0\n   */\n  [_HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_2__.symbol]() {\n    return _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_3__.empty({\n      status: 404\n    });\n  }\n  get message() {\n    return `${this.request.method} ${this.request.url} not found`;\n  }\n}\n/**\n * @since 1.0.0\n * @category error\n */\nclass ResponseError extends /*#__PURE__*/(0,_Error_js__WEBPACK_IMPORTED_MODULE_1__.TypeIdError)(TypeId, \"ResponseError\") {\n  /**\n   * @since 1.0.0\n   */\n  [_HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_2__.symbol]() {\n    return _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_3__.empty({\n      status: 500\n    });\n  }\n  get methodAndUrl() {\n    return `${this.request.method} ${this.request.url}`;\n  }\n  get message() {\n    const info = `${this.response.status} ${this.methodAndUrl}`;\n    return this.description ? `${this.description} (${info})` : `${this.reason} error (${info})`;\n  }\n}\n/**\n * @since 1.0.0\n * @category error\n */\nclass ServeError extends /*#__PURE__*/(0,_Error_js__WEBPACK_IMPORTED_MODULE_1__.TypeIdError)(TypeId, \"ServeError\") {}\n/**\n * @since 1.0.0\n */\nconst clientAbortFiberId = _internal_httpServerError_js__WEBPACK_IMPORTED_MODULE_0__.clientAbortFiberId;\n/**\n * @since 1.0.0\n */\nconst causeResponse = _internal_httpServerError_js__WEBPACK_IMPORTED_MODULE_0__.causeResponse;\n/**\n * @since 1.0.0\n */\nconst causeResponseStripped = _internal_httpServerError_js__WEBPACK_IMPORTED_MODULE_0__.causeResponseStripped;\n/**\n * @since 1.0.0\n */\nconst exitResponse = _internal_httpServerError_js__WEBPACK_IMPORTED_MODULE_0__.exitResponse;\n//# sourceMappingURL=HttpServerError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cFNlcnZlckVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlDO0FBQ2lCO0FBQ0E7QUFDQTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGVBQWUsZ0VBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3Q0FBd0Msc0RBQVc7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsR0FBRyw2REFBa0I7QUFDckIsV0FBVyx5REFBb0I7QUFDL0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMscUJBQXFCLEVBQUUsaUJBQWlCO0FBQ3REO0FBQ0E7QUFDQSxpQ0FBaUMsWUFBWSxJQUFJLGtCQUFrQixHQUFHLGtCQUFrQixRQUFRLGFBQWEsU0FBUyxrQkFBa0I7QUFDeEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0JBQXNCLHVFQUFzQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlDQUF5QyxzREFBVztBQUMzRDtBQUNBO0FBQ0Esb0JBQW9CLFVBQVUsSUFBSSxhQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyw2REFBa0I7QUFDckIsV0FBVyx5REFBb0I7QUFDL0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMscUJBQXFCLEVBQUUsa0JBQWtCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlDQUF5QyxzREFBVztBQUMzRDtBQUNBO0FBQ0E7QUFDQSxHQUFHLDZEQUFrQjtBQUNyQixXQUFXLHlEQUFvQjtBQUMvQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyxxQkFBcUIsRUFBRSxpQkFBaUI7QUFDdEQ7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0IsRUFBRSxrQkFBa0I7QUFDOUQsaUNBQWlDLGtCQUFrQixHQUFHLEtBQUssUUFBUSxhQUFhLFNBQVMsS0FBSztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxzQ0FBc0Msc0RBQVc7QUFDeEQ7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLDRFQUEyQjtBQUM3RDtBQUNBO0FBQ0E7QUFDTyxzQkFBc0IsdUVBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNPLDhCQUE4QiwrRUFBOEI7QUFDbkU7QUFDQTtBQUNBO0FBQ08scUJBQXFCLHNFQUFxQjtBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9IdHRwU2VydmVyRXJyb3IuanM/MzRjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlSWRFcnJvciB9IGZyb20gXCIuL0Vycm9yLmpzXCI7XG5pbXBvcnQgKiBhcyBSZXNwb25kYWJsZSBmcm9tIFwiLi9IdHRwU2VydmVyUmVzcG9uZGFibGUuanNcIjtcbmltcG9ydCAqIGFzIFNlcnZlclJlc3BvbnNlIGZyb20gXCIuL0h0dHBTZXJ2ZXJSZXNwb25zZS5qc1wiO1xuaW1wb3J0ICogYXMgaW50ZXJuYWwgZnJvbSBcIi4vaW50ZXJuYWwvaHR0cFNlcnZlckVycm9yLmpzXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRcbiAqL1xuZXhwb3J0IGNvbnN0IFR5cGVJZCA9IGludGVybmFsLlR5cGVJZDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZXJyb3JcbiAqL1xuZXhwb3J0IGNsYXNzIFJlcXVlc3RFcnJvciBleHRlbmRzIC8qI19fUFVSRV9fKi9UeXBlSWRFcnJvcihUeXBlSWQsIFwiUmVxdWVzdEVycm9yXCIpIHtcbiAgLyoqXG4gICAqIEBzaW5jZSAxLjAuMFxuICAgKi9cbiAgW1Jlc3BvbmRhYmxlLnN5bWJvbF0oKSB7XG4gICAgcmV0dXJuIFNlcnZlclJlc3BvbnNlLmVtcHR5KHtcbiAgICAgIHN0YXR1czogNDAwXG4gICAgfSk7XG4gIH1cbiAgZ2V0IG1ldGhvZEFuZFVybCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5yZXF1ZXN0Lm1ldGhvZH0gJHt0aGlzLnJlcXVlc3QudXJsfWA7XG4gIH1cbiAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb24gPyBgJHt0aGlzLnJlYXNvbn06ICR7dGhpcy5kZXNjcmlwdGlvbn0gKCR7dGhpcy5tZXRob2RBbmRVcmx9KWAgOiBgJHt0aGlzLnJlYXNvbn0gZXJyb3IgKCR7dGhpcy5tZXRob2RBbmRVcmx9KWA7XG4gIH1cbn1cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcHJlZGljYXRlc1xuICovXG5leHBvcnQgY29uc3QgaXNTZXJ2ZXJFcnJvciA9IGludGVybmFsLmlzU2VydmVyRXJyb3I7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVycm9yXG4gKi9cbmV4cG9ydCBjbGFzcyBSb3V0ZU5vdEZvdW5kIGV4dGVuZHMgLyojX19QVVJFX18qL1R5cGVJZEVycm9yKFR5cGVJZCwgXCJSb3V0ZU5vdEZvdW5kXCIpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIHRoaXMuc3RhY2sgPSBgJHt0aGlzLm5hbWV9OiAke3RoaXMubWVzc2FnZX1gO1xuICB9XG4gIC8qKlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICovXG4gIFtSZXNwb25kYWJsZS5zeW1ib2xdKCkge1xuICAgIHJldHVybiBTZXJ2ZXJSZXNwb25zZS5lbXB0eSh7XG4gICAgICBzdGF0dXM6IDQwNFxuICAgIH0pO1xuICB9XG4gIGdldCBtZXNzYWdlKCkge1xuICAgIHJldHVybiBgJHt0aGlzLnJlcXVlc3QubWV0aG9kfSAke3RoaXMucmVxdWVzdC51cmx9IG5vdCBmb3VuZGA7XG4gIH1cbn1cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZXJyb3JcbiAqL1xuZXhwb3J0IGNsYXNzIFJlc3BvbnNlRXJyb3IgZXh0ZW5kcyAvKiNfX1BVUkVfXyovVHlwZUlkRXJyb3IoVHlwZUlkLCBcIlJlc3BvbnNlRXJyb3JcIikge1xuICAvKipcbiAgICogQHNpbmNlIDEuMC4wXG4gICAqL1xuICBbUmVzcG9uZGFibGUuc3ltYm9sXSgpIHtcbiAgICByZXR1cm4gU2VydmVyUmVzcG9uc2UuZW1wdHkoe1xuICAgICAgc3RhdHVzOiA1MDBcbiAgICB9KTtcbiAgfVxuICBnZXQgbWV0aG9kQW5kVXJsKCkge1xuICAgIHJldHVybiBgJHt0aGlzLnJlcXVlc3QubWV0aG9kfSAke3RoaXMucmVxdWVzdC51cmx9YDtcbiAgfVxuICBnZXQgbWVzc2FnZSgpIHtcbiAgICBjb25zdCBpbmZvID0gYCR7dGhpcy5yZXNwb25zZS5zdGF0dXN9ICR7dGhpcy5tZXRob2RBbmRVcmx9YDtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbiA/IGAke3RoaXMuZGVzY3JpcHRpb259ICgke2luZm99KWAgOiBgJHt0aGlzLnJlYXNvbn0gZXJyb3IgKCR7aW5mb30pYDtcbiAgfVxufVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvclxuICovXG5leHBvcnQgY2xhc3MgU2VydmVFcnJvciBleHRlbmRzIC8qI19fUFVSRV9fKi9UeXBlSWRFcnJvcihUeXBlSWQsIFwiU2VydmVFcnJvclwiKSB7fVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGNsaWVudEFib3J0RmliZXJJZCA9IGludGVybmFsLmNsaWVudEFib3J0RmliZXJJZDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBjYXVzZVJlc3BvbnNlID0gaW50ZXJuYWwuY2F1c2VSZXNwb25zZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBjYXVzZVJlc3BvbnNlU3RyaXBwZWQgPSBpbnRlcm5hbC5jYXVzZVJlc3BvbnNlU3RyaXBwZWQ7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgZXhpdFJlc3BvbnNlID0gaW50ZXJuYWwuZXhpdFJlc3BvbnNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHR0cFNlcnZlckVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerError.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRequest.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpServerRequest.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpServerRequest: () => (/* binding */ HttpServerRequest),\n/* harmony export */   ParsedSearchParams: () => (/* binding */ ParsedSearchParams),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   fromWeb: () => (/* binding */ fromWeb),\n/* harmony export */   maxBodySize: () => (/* reexport safe */ _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_0__.maxBodySize),\n/* harmony export */   persistedMultipart: () => (/* binding */ persistedMultipart),\n/* harmony export */   schemaBodyForm: () => (/* binding */ schemaBodyForm),\n/* harmony export */   schemaBodyFormJson: () => (/* binding */ schemaBodyFormJson),\n/* harmony export */   schemaBodyJson: () => (/* binding */ schemaBodyJson),\n/* harmony export */   schemaBodyMultipart: () => (/* binding */ schemaBodyMultipart),\n/* harmony export */   schemaBodyUrlParams: () => (/* binding */ schemaBodyUrlParams),\n/* harmony export */   schemaCookies: () => (/* binding */ schemaCookies),\n/* harmony export */   schemaHeaders: () => (/* binding */ schemaHeaders),\n/* harmony export */   schemaSearchParams: () => (/* binding */ schemaSearchParams),\n/* harmony export */   searchParamsFromURL: () => (/* binding */ searchParamsFromURL),\n/* harmony export */   toURL: () => (/* binding */ toURL),\n/* harmony export */   upgrade: () => (/* binding */ upgrade),\n/* harmony export */   upgradeChannel: () => (/* binding */ upgradeChannel)\n/* harmony export */ });\n/* harmony import */ var _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/httpServerRequest.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerRequest.js\");\n/* harmony import */ var _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HttpIncomingMessage.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpIncomingMessage.js\");\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.TypeId;\n/**\n * @since 1.0.0\n * @category context\n */\nconst HttpServerRequest = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.serverRequestTag;\n/**\n * @since 1.0.0\n * @category search params\n */\nconst ParsedSearchParams = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.parsedSearchParamsTag;\n/**\n * @since 1.0.0\n * @category search params\n */\nconst searchParamsFromURL = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.searchParamsFromURL;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst persistedMultipart = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.multipartPersisted;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst upgrade = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.upgrade;\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst upgradeChannel = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.upgradeChannel;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaCookies = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.schemaCookies;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaHeaders = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.schemaHeaders;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaSearchParams = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.schemaSearchParams;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaBodyJson = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.schemaBodyJson;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaBodyForm = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.schemaBodyForm;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaBodyUrlParams = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.schemaBodyUrlParams;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaBodyMultipart = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.schemaBodyMultipart;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaBodyFormJson = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.schemaBodyFormJson;\n/**\n * @since 1.0.0\n * @category conversions\n */\nconst fromWeb = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.fromWeb;\n/**\n * @since 1.0.0\n * @category conversions\n */\nconst toURL = _internal_httpServerRequest_js__WEBPACK_IMPORTED_MODULE_1__.toURL;\n//# sourceMappingURL=HttpServerRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cFNlcnZlclJlcXVlc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7QUFNZDtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNPLGVBQWUsa0VBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDTywwQkFBMEIsNEVBQXlCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLGlGQUE4QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRCQUE0QiwrRUFBNEI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQkFBMkIsOEVBQTJCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZ0JBQWdCLG1FQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNPLHVCQUF1QiwwRUFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxzQkFBc0IseUVBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0JBQXNCLHlFQUFzQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDJCQUEyQiw4RUFBMkI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsMEVBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLDBFQUF1QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRCQUE0QiwrRUFBNEI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0QkFBNEIsK0VBQTRCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLDhFQUEyQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGdCQUFnQixtRUFBZ0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxjQUFjLGlFQUFjO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL0h0dHBTZXJ2ZXJSZXF1ZXN0LmpzP2Q3NzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaW50ZXJuYWwgZnJvbSBcIi4vaW50ZXJuYWwvaHR0cFNlcnZlclJlcXVlc3QuanNcIjtcbmV4cG9ydCB7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGZpYmVyIHJlZnNcbiAqL1xubWF4Qm9keVNpemUgfSBmcm9tIFwiLi9IdHRwSW5jb21pbmdNZXNzYWdlLmpzXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSBpbnRlcm5hbC5UeXBlSWQ7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnRleHRcbiAqL1xuZXhwb3J0IGNvbnN0IEh0dHBTZXJ2ZXJSZXF1ZXN0ID0gaW50ZXJuYWwuc2VydmVyUmVxdWVzdFRhZztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2VhcmNoIHBhcmFtc1xuICovXG5leHBvcnQgY29uc3QgUGFyc2VkU2VhcmNoUGFyYW1zID0gaW50ZXJuYWwucGFyc2VkU2VhcmNoUGFyYW1zVGFnO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBzZWFyY2ggcGFyYW1zXG4gKi9cbmV4cG9ydCBjb25zdCBzZWFyY2hQYXJhbXNGcm9tVVJMID0gaW50ZXJuYWwuc2VhcmNoUGFyYW1zRnJvbVVSTDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYWNjZXNzb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBwZXJzaXN0ZWRNdWx0aXBhcnQgPSBpbnRlcm5hbC5tdWx0aXBhcnRQZXJzaXN0ZWQ7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFjY2Vzc29yc1xuICovXG5leHBvcnQgY29uc3QgdXBncmFkZSA9IGludGVybmFsLnVwZ3JhZGU7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFjY2Vzc29yc1xuICovXG5leHBvcnQgY29uc3QgdXBncmFkZUNoYW5uZWwgPSBpbnRlcm5hbC51cGdyYWRlQ2hhbm5lbDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFDb29raWVzID0gaW50ZXJuYWwuc2NoZW1hQ29va2llcztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFIZWFkZXJzID0gaW50ZXJuYWwuc2NoZW1hSGVhZGVycztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFTZWFyY2hQYXJhbXMgPSBpbnRlcm5hbC5zY2hlbWFTZWFyY2hQYXJhbXM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHNjaGVtYVxuICovXG5leHBvcnQgY29uc3Qgc2NoZW1hQm9keUpzb24gPSBpbnRlcm5hbC5zY2hlbWFCb2R5SnNvbjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFCb2R5Rm9ybSA9IGludGVybmFsLnNjaGVtYUJvZHlGb3JtO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBzY2hlbWFcbiAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUJvZHlVcmxQYXJhbXMgPSBpbnRlcm5hbC5zY2hlbWFCb2R5VXJsUGFyYW1zO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBzY2hlbWFcbiAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUJvZHlNdWx0aXBhcnQgPSBpbnRlcm5hbC5zY2hlbWFCb2R5TXVsdGlwYXJ0O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBzY2hlbWFcbiAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUJvZHlGb3JtSnNvbiA9IGludGVybmFsLnNjaGVtYUJvZHlGb3JtSnNvbjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29udmVyc2lvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21XZWIgPSBpbnRlcm5hbC5mcm9tV2ViO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb252ZXJzaW9uc1xuICovXG5leHBvcnQgY29uc3QgdG9VUkwgPSBpbnRlcm5hbC50b1VSTDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBTZXJ2ZXJSZXF1ZXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRequest.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRespondable.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpServerRespondable.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isRespondable: () => (/* binding */ isRespondable),\n/* harmony export */   symbol: () => (/* binding */ symbol),\n/* harmony export */   toResponse: () => (/* binding */ toResponse),\n/* harmony export */   toResponseOrElse: () => (/* binding */ toResponseOrElse)\n/* harmony export */ });\n/* harmony import */ var effect_Cause__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Cause */ \"(rsc)/../../node_modules/effect/dist/esm/Cause.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_ParseResult__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/ParseResult */ \"(rsc)/../../node_modules/effect/dist/esm/ParseResult.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HttpServerResponse.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerResponse.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category symbols\n */\nconst symbol = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpServerRespondable\");\n/**\n * @since 1.0.0\n * @category guards\n */\nconst isRespondable = u => (0,effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty)(u, symbol);\nconst badRequest = /*#__PURE__*/_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_1__.empty({\n  status: 400\n});\nconst notFound = /*#__PURE__*/_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_1__.empty({\n  status: 404\n});\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst toResponse = self => {\n  if (_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_1__.isServerResponse(self)) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(self);\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.orDie(self[symbol]());\n};\n/**\n * @since 1.0.0\n * @category accessors\n */\nconst toResponseOrElse = (u, orElse) => {\n  if (_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_1__.isServerResponse(u)) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(u);\n  } else if (isRespondable(u)) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchAllCause(u[symbol](), () => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(orElse));\n    // add support for some commmon types\n  } else if (effect_ParseResult__WEBPACK_IMPORTED_MODULE_3__.isParseError(u)) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(badRequest);\n  } else if (effect_Cause__WEBPACK_IMPORTED_MODULE_4__.isNoSuchElementException(u)) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(notFound);\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(orElse);\n};\n//# sourceMappingURL=HttpServerRespondable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cFNlcnZlclJlc3BvbmRhYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNzQztBQUNFO0FBQ1U7QUFDSDtBQUNXO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDJCQUEyQiw2REFBVztBQUM3QyxnQ0FBZ0MseURBQW9CO0FBQ3BEO0FBQ0EsQ0FBQztBQUNELDhCQUE4Qix5REFBb0I7QUFDbEQ7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLE1BQU0sb0VBQStCO0FBQ3JDLFdBQVcsa0RBQWM7QUFDekI7QUFDQSxTQUFTLGdEQUFZO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLE1BQU0sb0VBQStCO0FBQ3JDLFdBQVcsa0RBQWM7QUFDekIsSUFBSTtBQUNKLFdBQVcsd0RBQW9CLG9CQUFvQixrREFBYztBQUNqRTtBQUNBLElBQUksU0FBUyw0REFBd0I7QUFDckMsV0FBVyxrREFBYztBQUN6QixJQUFJLFNBQVMsa0VBQThCO0FBQzNDLFdBQVcsa0RBQWM7QUFDekI7QUFDQSxTQUFTLGtEQUFjO0FBQ3ZCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cFNlcnZlclJlc3BvbmRhYmxlLmpzPzNiZTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuaW1wb3J0ICogYXMgQ2F1c2UgZnJvbSBcImVmZmVjdC9DYXVzZVwiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgKiBhcyBQYXJzZVJlc3VsdCBmcm9tIFwiZWZmZWN0L1BhcnNlUmVzdWx0XCI7XG5pbXBvcnQgeyBoYXNQcm9wZXJ0eSB9IGZyb20gXCJlZmZlY3QvUHJlZGljYXRlXCI7XG5pbXBvcnQgKiBhcyBTZXJ2ZXJSZXNwb25zZSBmcm9tIFwiLi9IdHRwU2VydmVyUmVzcG9uc2UuanNcIjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc3ltYm9sc1xuICovXG5leHBvcnQgY29uc3Qgc3ltYm9sID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBTZXJ2ZXJSZXNwb25kYWJsZVwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKi9cbmV4cG9ydCBjb25zdCBpc1Jlc3BvbmRhYmxlID0gdSA9PiBoYXNQcm9wZXJ0eSh1LCBzeW1ib2wpO1xuY29uc3QgYmFkUmVxdWVzdCA9IC8qI19fUFVSRV9fKi9TZXJ2ZXJSZXNwb25zZS5lbXB0eSh7XG4gIHN0YXR1czogNDAwXG59KTtcbmNvbnN0IG5vdEZvdW5kID0gLyojX19QVVJFX18qL1NlcnZlclJlc3BvbnNlLmVtcHR5KHtcbiAgc3RhdHVzOiA0MDRcbn0pO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhY2Nlc3NvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHRvUmVzcG9uc2UgPSBzZWxmID0+IHtcbiAgaWYgKFNlcnZlclJlc3BvbnNlLmlzU2VydmVyUmVzcG9uc2Uoc2VsZikpIHtcbiAgICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQoc2VsZik7XG4gIH1cbiAgcmV0dXJuIEVmZmVjdC5vckRpZShzZWxmW3N5bWJvbF0oKSk7XG59O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhY2Nlc3NvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHRvUmVzcG9uc2VPckVsc2UgPSAodSwgb3JFbHNlKSA9PiB7XG4gIGlmIChTZXJ2ZXJSZXNwb25zZS5pc1NlcnZlclJlc3BvbnNlKHUpKSB7XG4gICAgcmV0dXJuIEVmZmVjdC5zdWNjZWVkKHUpO1xuICB9IGVsc2UgaWYgKGlzUmVzcG9uZGFibGUodSkpIHtcbiAgICByZXR1cm4gRWZmZWN0LmNhdGNoQWxsQ2F1c2UodVtzeW1ib2xdKCksICgpID0+IEVmZmVjdC5zdWNjZWVkKG9yRWxzZSkpO1xuICAgIC8vIGFkZCBzdXBwb3J0IGZvciBzb21lIGNvbW1tb24gdHlwZXNcbiAgfSBlbHNlIGlmIChQYXJzZVJlc3VsdC5pc1BhcnNlRXJyb3IodSkpIHtcbiAgICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQoYmFkUmVxdWVzdCk7XG4gIH0gZWxzZSBpZiAoQ2F1c2UuaXNOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKHUpKSB7XG4gICAgcmV0dXJuIEVmZmVjdC5zdWNjZWVkKG5vdEZvdW5kKTtcbiAgfVxuICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQob3JFbHNlKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IdHRwU2VydmVyUmVzcG9uZGFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRespondable.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerResponse.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpServerResponse.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   file: () => (/* binding */ file),\n/* harmony export */   fileWeb: () => (/* binding */ fileWeb),\n/* harmony export */   formData: () => (/* binding */ formData),\n/* harmony export */   html: () => (/* binding */ html),\n/* harmony export */   htmlStream: () => (/* binding */ htmlStream),\n/* harmony export */   isServerResponse: () => (/* binding */ isServerResponse),\n/* harmony export */   json: () => (/* binding */ json),\n/* harmony export */   mergeCookies: () => (/* binding */ mergeCookies),\n/* harmony export */   raw: () => (/* binding */ raw),\n/* harmony export */   redirect: () => (/* binding */ redirect),\n/* harmony export */   removeCookie: () => (/* binding */ removeCookie),\n/* harmony export */   replaceCookies: () => (/* binding */ replaceCookies),\n/* harmony export */   schemaJson: () => (/* binding */ schemaJson),\n/* harmony export */   setBody: () => (/* binding */ setBody),\n/* harmony export */   setCookie: () => (/* binding */ setCookie),\n/* harmony export */   setCookies: () => (/* binding */ setCookies),\n/* harmony export */   setHeader: () => (/* binding */ setHeader),\n/* harmony export */   setHeaders: () => (/* binding */ setHeaders),\n/* harmony export */   setStatus: () => (/* binding */ setStatus),\n/* harmony export */   stream: () => (/* binding */ stream),\n/* harmony export */   text: () => (/* binding */ text),\n/* harmony export */   toWeb: () => (/* binding */ toWeb),\n/* harmony export */   uint8Array: () => (/* binding */ uint8Array),\n/* harmony export */   unsafeJson: () => (/* binding */ unsafeJson),\n/* harmony export */   unsafeSetCookie: () => (/* binding */ unsafeSetCookie),\n/* harmony export */   unsafeSetCookies: () => (/* binding */ unsafeSetCookies),\n/* harmony export */   updateCookies: () => (/* binding */ updateCookies),\n/* harmony export */   urlParams: () => (/* binding */ urlParams)\n/* harmony export */ });\n/* harmony import */ var _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/httpServerResponse.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerResponse.js\");\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpServerResponse\");\n/**\n * @since 1.0.0\n */\nconst isServerResponse = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.isServerResponse;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst empty = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.empty;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst redirect = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.redirect;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst uint8Array = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.uint8Array;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst text = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.text;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst html = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.html;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst htmlStream = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.htmlStream;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst json = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.json;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst schemaJson = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.schemaJson;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst unsafeJson = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.unsafeJson;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst urlParams = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.urlParams;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst raw = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.raw;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst formData = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.formData;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst stream = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.stream;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst file = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.file;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst fileWeb = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.fileWeb;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setHeader = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.setHeader;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setHeaders = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.setHeaders;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst removeCookie = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.removeCookie;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst replaceCookies = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.replaceCookies;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setCookie = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.setCookie;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst unsafeSetCookie = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.unsafeSetCookie;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst updateCookies = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.updateCookies;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst mergeCookies = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.mergeCookies;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setCookies = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.setCookies;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst unsafeSetCookies = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.unsafeSetCookies;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setBody = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.setBody;\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setStatus = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.setStatus;\n/**\n * @since 1.0.0\n * @category conversions\n */\nconst toWeb = _internal_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_0__.toWeb;\n//# sourceMappingURL=HttpServerResponse.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cFNlcnZlclJlc3BvbnNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPLHlCQUF5Qiw2RUFBeUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxjQUFjLGtFQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ08saUJBQWlCLHFFQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQix1RUFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxhQUFhLGlFQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sYUFBYSxpRUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQix1RUFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxhQUFhLGlFQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUJBQW1CLHVFQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQix1RUFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQkFBa0Isc0VBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sWUFBWSxnRUFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNPLGlCQUFpQixxRUFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxlQUFlLG1FQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sYUFBYSxpRUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGdCQUFnQixvRUFBZ0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQkFBa0Isc0VBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUJBQW1CLHVFQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQix5RUFBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsMkVBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sa0JBQWtCLHNFQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qiw0RUFBd0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxzQkFBc0IsMEVBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLHlFQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQix1RUFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyx5QkFBeUIsNkVBQXlCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZ0JBQWdCLG9FQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNPLGtCQUFrQixzRUFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxjQUFjLGtFQUFjO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL0h0dHBTZXJ2ZXJSZXNwb25zZS5qcz9mMTJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGludGVybmFsIGZyb20gXCIuL2ludGVybmFsL2h0dHBTZXJ2ZXJSZXNwb25zZS5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBTZXJ2ZXJSZXNwb25zZVwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc1NlcnZlclJlc3BvbnNlID0gaW50ZXJuYWwuaXNTZXJ2ZXJSZXNwb25zZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBlbXB0eSA9IGludGVybmFsLmVtcHR5O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHJlZGlyZWN0ID0gaW50ZXJuYWwucmVkaXJlY3Q7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgdWludDhBcnJheSA9IGludGVybmFsLnVpbnQ4QXJyYXk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgdGV4dCA9IGludGVybmFsLnRleHQ7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IGludGVybmFsLmh0bWw7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgaHRtbFN0cmVhbSA9IGludGVybmFsLmh0bWxTdHJlYW07XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QganNvbiA9IGludGVybmFsLmpzb247XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2NoZW1hSnNvbiA9IGludGVybmFsLnNjaGVtYUpzb247XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgdW5zYWZlSnNvbiA9IGludGVybmFsLnVuc2FmZUpzb247XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgdXJsUGFyYW1zID0gaW50ZXJuYWwudXJsUGFyYW1zO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHJhdyA9IGludGVybmFsLnJhdztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JtRGF0YSA9IGludGVybmFsLmZvcm1EYXRhO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHN0cmVhbSA9IGludGVybmFsLnN0cmVhbTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBmaWxlID0gaW50ZXJuYWwuZmlsZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBmaWxlV2ViID0gaW50ZXJuYWwuZmlsZVdlYjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEhlYWRlciA9IGludGVybmFsLnNldEhlYWRlcjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEhlYWRlcnMgPSBpbnRlcm5hbC5zZXRIZWFkZXJzO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlQ29va2llID0gaW50ZXJuYWwucmVtb3ZlQ29va2llO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgcmVwbGFjZUNvb2tpZXMgPSBpbnRlcm5hbC5yZXBsYWNlQ29va2llcztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldENvb2tpZSA9IGludGVybmFsLnNldENvb2tpZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZVNldENvb2tpZSA9IGludGVybmFsLnVuc2FmZVNldENvb2tpZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUNvb2tpZXMgPSBpbnRlcm5hbC51cGRhdGVDb29raWVzO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgbWVyZ2VDb29raWVzID0gaW50ZXJuYWwubWVyZ2VDb29raWVzO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2V0Q29va2llcyA9IGludGVybmFsLnNldENvb2tpZXM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVTZXRDb29raWVzID0gaW50ZXJuYWwudW5zYWZlU2V0Q29va2llcztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEJvZHkgPSBpbnRlcm5hbC5zZXRCb2R5O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2V0U3RhdHVzID0gaW50ZXJuYWwuc2V0U3RhdHVzO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb252ZXJzaW9uc1xuICovXG5leHBvcnQgY29uc3QgdG9XZWIgPSBpbnRlcm5hbC50b1dlYjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBTZXJ2ZXJSZXNwb25zZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerResponse.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/HttpTraceContext.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/HttpTraceContext.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   b3: () => (/* binding */ b3),\n/* harmony export */   fromHeaders: () => (/* binding */ fromHeaders),\n/* harmony export */   toHeaders: () => (/* binding */ toHeaders),\n/* harmony export */   w3c: () => (/* binding */ w3c),\n/* harmony export */   xb3: () => (/* binding */ xb3)\n/* harmony export */ });\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Tracer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Tracer */ \"(rsc)/../../node_modules/effect/dist/esm/Tracer.js\");\n/* harmony import */ var _Headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Headers.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n/**\n * @since 1.0.0\n * @category encoding\n */\nconst toHeaders = span => _Headers_js__WEBPACK_IMPORTED_MODULE_0__.unsafeFromRecord({\n  b3: `${span.traceId}-${span.spanId}-${span.sampled ? \"1\" : \"0\"}${span.parent._tag === \"Some\" ? `-${span.parent.value.spanId}` : \"\"}`,\n  traceparent: `00-${span.traceId}-${span.spanId}-${span.sampled ? \"01\" : \"00\"}`\n});\n/**\n * @since 1.0.0\n * @category decoding\n */\nconst fromHeaders = headers => {\n  let span = w3c(headers);\n  if (span._tag === \"Some\") {\n    return span;\n  }\n  span = b3(headers);\n  if (span._tag === \"Some\") {\n    return span;\n  }\n  return xb3(headers);\n};\n/**\n * @since 1.0.0\n * @category decoding\n */\nconst b3 = headers => {\n  if (!(\"b3\" in headers)) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.none();\n  }\n  const parts = headers[\"b3\"].split(\"-\");\n  if (parts.length < 2) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.none();\n  }\n  return effect_Option__WEBPACK_IMPORTED_MODULE_1__.some(effect_Tracer__WEBPACK_IMPORTED_MODULE_2__.externalSpan({\n    traceId: parts[0],\n    spanId: parts[1],\n    sampled: parts[2] ? parts[2] === \"1\" : true\n  }));\n};\n/**\n * @since 1.0.0\n * @category decoding\n */\nconst xb3 = headers => {\n  if (!headers[\"x-b3-traceid\"] || !headers[\"x-b3-spanid\"]) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.none();\n  }\n  return effect_Option__WEBPACK_IMPORTED_MODULE_1__.some(effect_Tracer__WEBPACK_IMPORTED_MODULE_2__.externalSpan({\n    traceId: headers[\"x-b3-traceid\"],\n    spanId: headers[\"x-b3-spanid\"],\n    sampled: headers[\"x-b3-sampled\"] ? headers[\"x-b3-sampled\"] === \"1\" : true\n  }));\n};\nconst w3cTraceId = /^[0-9a-f]{32}$/gi;\nconst w3cSpanId = /^[0-9a-f]{16}$/gi;\n/**\n * @since 1.0.0\n * @category decoding\n */\nconst w3c = headers => {\n  if (!headers[\"traceparent\"]) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.none();\n  }\n  const parts = headers[\"traceparent\"].split(\"-\");\n  if (parts.length !== 4) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_1__.none();\n  }\n  const [version, traceId, spanId, flags] = parts;\n  switch (version) {\n    case \"00\":\n      {\n        if (w3cTraceId.test(traceId) === false || w3cSpanId.test(spanId) === false) {\n          return effect_Option__WEBPACK_IMPORTED_MODULE_1__.none();\n        }\n        return effect_Option__WEBPACK_IMPORTED_MODULE_1__.some(effect_Tracer__WEBPACK_IMPORTED_MODULE_2__.externalSpan({\n          traceId,\n          spanId,\n          sampled: (parseInt(flags, 16) & 1) === 1\n        }));\n      }\n    default:\n      {\n        return effect_Option__WEBPACK_IMPORTED_MODULE_1__.none();\n      }\n  }\n};\n//# sourceMappingURL=HttpTraceContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vSHR0cFRyYWNlQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUN3QztBQUNBO0FBQ0E7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDTywwQkFBMEIseURBQXdCO0FBQ3pELFNBQVMsYUFBYSxHQUFHLFlBQVksR0FBRyx5QkFBeUIsRUFBRSxrQ0FBa0MseUJBQXlCLE9BQU87QUFDckkscUJBQXFCLGFBQWEsR0FBRyxZQUFZLEdBQUcsMkJBQTJCO0FBQy9FLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxXQUFXLCtDQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVc7QUFDdEI7QUFDQSxTQUFTLCtDQUFXLENBQUMsdURBQW1CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFdBQVcsK0NBQVc7QUFDdEI7QUFDQSxTQUFTLCtDQUFXLENBQUMsdURBQW1CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDhCQUE4QixHQUFHO0FBQ2pDLDZCQUE2QixHQUFHO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFdBQVcsK0NBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsV0FBVywrQ0FBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0NBQVc7QUFDNUI7QUFDQSxlQUFlLCtDQUFXLENBQUMsdURBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtDQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL0h0dHBUcmFjZUNvbnRleHQuanM/OTM2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCAqIGFzIFRyYWNlciBmcm9tIFwiZWZmZWN0L1RyYWNlclwiO1xuaW1wb3J0ICogYXMgSGVhZGVycyBmcm9tIFwiLi9IZWFkZXJzLmpzXCI7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGVuY29kaW5nXG4gKi9cbmV4cG9ydCBjb25zdCB0b0hlYWRlcnMgPSBzcGFuID0+IEhlYWRlcnMudW5zYWZlRnJvbVJlY29yZCh7XG4gIGIzOiBgJHtzcGFuLnRyYWNlSWR9LSR7c3Bhbi5zcGFuSWR9LSR7c3Bhbi5zYW1wbGVkID8gXCIxXCIgOiBcIjBcIn0ke3NwYW4ucGFyZW50Ll90YWcgPT09IFwiU29tZVwiID8gYC0ke3NwYW4ucGFyZW50LnZhbHVlLnNwYW5JZH1gIDogXCJcIn1gLFxuICB0cmFjZXBhcmVudDogYDAwLSR7c3Bhbi50cmFjZUlkfS0ke3NwYW4uc3BhbklkfS0ke3NwYW4uc2FtcGxlZCA/IFwiMDFcIiA6IFwiMDBcIn1gXG59KTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21IZWFkZXJzID0gaGVhZGVycyA9PiB7XG4gIGxldCBzcGFuID0gdzNjKGhlYWRlcnMpO1xuICBpZiAoc3Bhbi5fdGFnID09PSBcIlNvbWVcIikge1xuICAgIHJldHVybiBzcGFuO1xuICB9XG4gIHNwYW4gPSBiMyhoZWFkZXJzKTtcbiAgaWYgKHNwYW4uX3RhZyA9PT0gXCJTb21lXCIpIHtcbiAgICByZXR1cm4gc3BhbjtcbiAgfVxuICByZXR1cm4geGIzKGhlYWRlcnMpO1xufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGIzID0gaGVhZGVycyA9PiB7XG4gIGlmICghKFwiYjNcIiBpbiBoZWFkZXJzKSkge1xuICAgIHJldHVybiBPcHRpb24ubm9uZSgpO1xuICB9XG4gIGNvbnN0IHBhcnRzID0gaGVhZGVyc1tcImIzXCJdLnNwbGl0KFwiLVwiKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA8IDIpIHtcbiAgICByZXR1cm4gT3B0aW9uLm5vbmUoKTtcbiAgfVxuICByZXR1cm4gT3B0aW9uLnNvbWUoVHJhY2VyLmV4dGVybmFsU3Bhbih7XG4gICAgdHJhY2VJZDogcGFydHNbMF0sXG4gICAgc3BhbklkOiBwYXJ0c1sxXSxcbiAgICBzYW1wbGVkOiBwYXJ0c1syXSA/IHBhcnRzWzJdID09PSBcIjFcIiA6IHRydWVcbiAgfSkpO1xufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZGVjb2RpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHhiMyA9IGhlYWRlcnMgPT4ge1xuICBpZiAoIWhlYWRlcnNbXCJ4LWIzLXRyYWNlaWRcIl0gfHwgIWhlYWRlcnNbXCJ4LWIzLXNwYW5pZFwiXSkge1xuICAgIHJldHVybiBPcHRpb24ubm9uZSgpO1xuICB9XG4gIHJldHVybiBPcHRpb24uc29tZShUcmFjZXIuZXh0ZXJuYWxTcGFuKHtcbiAgICB0cmFjZUlkOiBoZWFkZXJzW1wieC1iMy10cmFjZWlkXCJdLFxuICAgIHNwYW5JZDogaGVhZGVyc1tcIngtYjMtc3BhbmlkXCJdLFxuICAgIHNhbXBsZWQ6IGhlYWRlcnNbXCJ4LWIzLXNhbXBsZWRcIl0gPyBoZWFkZXJzW1wieC1iMy1zYW1wbGVkXCJdID09PSBcIjFcIiA6IHRydWVcbiAgfSkpO1xufTtcbmNvbnN0IHczY1RyYWNlSWQgPSAvXlswLTlhLWZdezMyfSQvZ2k7XG5jb25zdCB3M2NTcGFuSWQgPSAvXlswLTlhLWZdezE2fSQvZ2k7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGRlY29kaW5nXG4gKi9cbmV4cG9ydCBjb25zdCB3M2MgPSBoZWFkZXJzID0+IHtcbiAgaWYgKCFoZWFkZXJzW1widHJhY2VwYXJlbnRcIl0pIHtcbiAgICByZXR1cm4gT3B0aW9uLm5vbmUoKTtcbiAgfVxuICBjb25zdCBwYXJ0cyA9IGhlYWRlcnNbXCJ0cmFjZXBhcmVudFwiXS5zcGxpdChcIi1cIik7XG4gIGlmIChwYXJ0cy5sZW5ndGggIT09IDQpIHtcbiAgICByZXR1cm4gT3B0aW9uLm5vbmUoKTtcbiAgfVxuICBjb25zdCBbdmVyc2lvbiwgdHJhY2VJZCwgc3BhbklkLCBmbGFnc10gPSBwYXJ0cztcbiAgc3dpdGNoICh2ZXJzaW9uKSB7XG4gICAgY2FzZSBcIjAwXCI6XG4gICAgICB7XG4gICAgICAgIGlmICh3M2NUcmFjZUlkLnRlc3QodHJhY2VJZCkgPT09IGZhbHNlIHx8IHczY1NwYW5JZC50ZXN0KHNwYW5JZCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIE9wdGlvbi5ub25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9wdGlvbi5zb21lKFRyYWNlci5leHRlcm5hbFNwYW4oe1xuICAgICAgICAgIHRyYWNlSWQsXG4gICAgICAgICAgc3BhbklkLFxuICAgICAgICAgIHNhbXBsZWQ6IChwYXJzZUludChmbGFncywgMTYpICYgMSkgPT09IDFcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBPcHRpb24ubm9uZSgpO1xuICAgICAgfVxuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHR0cFRyYWNlQ29udGV4dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/HttpTraceContext.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/Multipart.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/Multipart.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorTypeId: () => (/* binding */ ErrorTypeId),\n/* harmony export */   FileSchema: () => (/* binding */ FileSchema),\n/* harmony export */   FilesSchema: () => (/* binding */ FilesSchema),\n/* harmony export */   MultipartError: () => (/* binding */ MultipartError),\n/* harmony export */   SingleFileSchema: () => (/* binding */ SingleFileSchema),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   fieldMimeTypes: () => (/* binding */ fieldMimeTypes),\n/* harmony export */   isField: () => (/* binding */ isField),\n/* harmony export */   isFile: () => (/* binding */ isFile),\n/* harmony export */   isPart: () => (/* binding */ isPart),\n/* harmony export */   isPersistedFile: () => (/* binding */ isPersistedFile),\n/* harmony export */   makeChannel: () => (/* binding */ makeChannel),\n/* harmony export */   makeConfig: () => (/* binding */ makeConfig),\n/* harmony export */   maxFieldSize: () => (/* binding */ maxFieldSize),\n/* harmony export */   maxFileSize: () => (/* binding */ maxFileSize),\n/* harmony export */   maxParts: () => (/* binding */ maxParts),\n/* harmony export */   schemaJson: () => (/* binding */ schemaJson),\n/* harmony export */   schemaPersisted: () => (/* binding */ schemaPersisted),\n/* harmony export */   toPersisted: () => (/* binding */ toPersisted),\n/* harmony export */   withFieldMimeTypes: () => (/* binding */ withFieldMimeTypes),\n/* harmony export */   withMaxFieldSize: () => (/* binding */ withMaxFieldSize),\n/* harmony export */   withMaxFileSize: () => (/* binding */ withMaxFileSize),\n/* harmony export */   withMaxParts: () => (/* binding */ withMaxParts)\n/* harmony export */ });\n/* harmony import */ var _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/multipart.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/multipart.js\");\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.TypeId;\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isPart = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.isPart;\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isField = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.isField;\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isFile = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.isFile;\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isPersistedFile = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.isPersistedFile;\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst ErrorTypeId = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.ErrorTypeId;\n/**\n * @since 1.0.0\n * @category errors\n */\nconst MultipartError = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.MultipartError;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst maxParts = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.maxParts;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withMaxParts = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.withMaxParts;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst maxFieldSize = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.maxFieldSize;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withMaxFieldSize = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.withMaxFieldSize;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst maxFileSize = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.maxFileSize;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withMaxFileSize = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.withMaxFileSize;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst fieldMimeTypes = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.fieldMimeTypes;\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst withFieldMimeTypes = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.withFieldMimeTypes;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst FileSchema = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.FileSchema;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst FilesSchema = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.FilesSchema;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst SingleFileSchema = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.SingleFileSchema;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaJson = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.schemaJson;\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaPersisted = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.schemaPersisted;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst makeChannel = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.makeChannel;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst makeConfig = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.makeConfig;\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst toPersisted = _internal_multipart_js__WEBPACK_IMPORTED_MODULE_0__.toPersisted;\n//# sourceMappingURL=Multipart.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vTXVsdGlwYXJ0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGVBQWUsMERBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxlQUFlLDBEQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZ0JBQWdCLDJEQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNPLGVBQWUsMERBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsbUVBQXdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLCtEQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPLHVCQUF1QixrRUFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQkFBaUIsNERBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLGdFQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQixnRUFBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyx5QkFBeUIsb0VBQXlCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLCtEQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QixtRUFBd0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsa0VBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLHNFQUEyQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQiw4REFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxvQkFBb0IsK0RBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLG9FQUF5QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQiw4REFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsbUVBQXdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLCtEQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQiw4REFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTyxvQkFBb0IsK0RBQW9CO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL011bHRpcGFydC5qcz9kZDJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGludGVybmFsIGZyb20gXCIuL2ludGVybmFsL211bHRpcGFydC5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gaW50ZXJuYWwuVHlwZUlkO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByZWZpbmVtZW50c1xuICovXG5leHBvcnQgY29uc3QgaXNQYXJ0ID0gaW50ZXJuYWwuaXNQYXJ0O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByZWZpbmVtZW50c1xuICovXG5leHBvcnQgY29uc3QgaXNGaWVsZCA9IGludGVybmFsLmlzRmllbGQ7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJlZmluZW1lbnRzXG4gKi9cbmV4cG9ydCBjb25zdCBpc0ZpbGUgPSBpbnRlcm5hbC5pc0ZpbGU7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJlZmluZW1lbnRzXG4gKi9cbmV4cG9ydCBjb25zdCBpc1BlcnNpc3RlZEZpbGUgPSBpbnRlcm5hbC5pc1BlcnNpc3RlZEZpbGU7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBFcnJvclR5cGVJZCA9IGludGVybmFsLkVycm9yVHlwZUlkO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IE11bHRpcGFydEVycm9yID0gaW50ZXJuYWwuTXVsdGlwYXJ0RXJyb3I7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGZpYmVyIHJlZnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1heFBhcnRzID0gaW50ZXJuYWwubWF4UGFydHM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGZpYmVyIHJlZnNcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhNYXhQYXJ0cyA9IGludGVybmFsLndpdGhNYXhQYXJ0cztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3QgbWF4RmllbGRTaXplID0gaW50ZXJuYWwubWF4RmllbGRTaXplO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBmaWJlciByZWZzXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoTWF4RmllbGRTaXplID0gaW50ZXJuYWwud2l0aE1heEZpZWxkU2l6ZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3QgbWF4RmlsZVNpemUgPSBpbnRlcm5hbC5tYXhGaWxlU2l6ZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3Qgd2l0aE1heEZpbGVTaXplID0gaW50ZXJuYWwud2l0aE1heEZpbGVTaXplO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBmaWJlciByZWZzXG4gKi9cbmV4cG9ydCBjb25zdCBmaWVsZE1pbWVUeXBlcyA9IGludGVybmFsLmZpZWxkTWltZVR5cGVzO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBmaWJlciByZWZzXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoRmllbGRNaW1lVHlwZXMgPSBpbnRlcm5hbC53aXRoRmllbGRNaW1lVHlwZXM7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHNjaGVtYVxuICovXG5leHBvcnQgY29uc3QgRmlsZVNjaGVtYSA9IGludGVybmFsLkZpbGVTY2hlbWE7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHNjaGVtYVxuICovXG5leHBvcnQgY29uc3QgRmlsZXNTY2hlbWEgPSBpbnRlcm5hbC5GaWxlc1NjaGVtYTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBTaW5nbGVGaWxlU2NoZW1hID0gaW50ZXJuYWwuU2luZ2xlRmlsZVNjaGVtYTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFKc29uID0gaW50ZXJuYWwuc2NoZW1hSnNvbjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFQZXJzaXN0ZWQgPSBpbnRlcm5hbC5zY2hlbWFQZXJzaXN0ZWQ7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgbWFrZUNoYW5uZWwgPSBpbnRlcm5hbC5tYWtlQ2hhbm5lbDtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlQ29uZmlnID0gaW50ZXJuYWwubWFrZUNvbmZpZztcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCB0b1BlcnNpc3RlZCA9IGludGVybmFsLnRvUGVyc2lzdGVkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlwYXJ0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/Multipart.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/OpenApi.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/OpenApi.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Deprecated: () => (/* binding */ Deprecated),\n/* harmony export */   Description: () => (/* binding */ Description),\n/* harmony export */   Exclude: () => (/* binding */ Exclude),\n/* harmony export */   ExternalDocs: () => (/* binding */ ExternalDocs),\n/* harmony export */   Format: () => (/* binding */ Format),\n/* harmony export */   Identifier: () => (/* binding */ Identifier),\n/* harmony export */   License: () => (/* binding */ License),\n/* harmony export */   Override: () => (/* binding */ Override),\n/* harmony export */   Servers: () => (/* binding */ Servers),\n/* harmony export */   Summary: () => (/* binding */ Summary),\n/* harmony export */   Title: () => (/* binding */ Title),\n/* harmony export */   Transform: () => (/* binding */ Transform),\n/* harmony export */   Version: () => (/* binding */ Version),\n/* harmony export */   annotations: () => (/* binding */ annotations),\n/* harmony export */   fromApi: () => (/* binding */ fromApi)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var _HttpApi_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./HttpApi.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApi.js\");\n/* harmony import */ var _HttpApiMiddleware_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./HttpApiMiddleware.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiMiddleware.js\");\n/* harmony import */ var _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./HttpApiSchema.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpApiSchema.js\");\n/* harmony import */ var _HttpMethod_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./HttpMethod.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpMethod.js\");\n/* harmony import */ var _OpenApiJsonSchema_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OpenApiJsonSchema.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/OpenApiJsonSchema.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Identifier extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Identifier\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Title extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Title\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Version extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Version\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Description extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Description\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass License extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/License\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass ExternalDocs extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/ExternalDocs\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Servers extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Servers\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Format extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Format\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Summary extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Summary\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Deprecated extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Deprecated\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Override extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Override\")() {}\n/**\n * @since 1.0.0\n * @category annotations\n */\nclass Exclude extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Reference()(\"@effect/platform/OpenApi/Exclude\", {\n  defaultValue: effect_Function__WEBPACK_IMPORTED_MODULE_1__.constFalse\n}) {}\n/**\n * Transforms the generated OpenAPI specification\n * @since 1.0.0\n * @category annotations\n */\nclass Transform extends /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.Tag(\"@effect/platform/OpenApi/Transform\")() {}\nconst contextPartial = tags => {\n  const entries = Object.entries(tags);\n  return options => {\n    let context = effect_Context__WEBPACK_IMPORTED_MODULE_0__.empty();\n    for (const [key, tag] of entries) {\n      if (options[key] !== undefined) {\n        context = effect_Context__WEBPACK_IMPORTED_MODULE_0__.add(context, tag, options[key]);\n      }\n    }\n    return context;\n  };\n};\n/**\n * @since 1.0.0\n * @category annotations\n */\nconst annotations = /*#__PURE__*/contextPartial({\n  identifier: Identifier,\n  title: Title,\n  version: Version,\n  description: Description,\n  license: License,\n  summary: Summary,\n  deprecated: Deprecated,\n  externalDocs: ExternalDocs,\n  servers: Servers,\n  format: Format,\n  override: Override,\n  exclude: Exclude,\n  transform: Transform\n});\nconst apiCache = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_2__.globalValue)(\"@effect/platform/OpenApi/apiCache\", () => new WeakMap());\n/**\n * This function checks if a given tag exists within the provided context. If\n * the tag is present, it retrieves the associated value and applies the given\n * callback function to it. If the tag is not found, the function does nothing.\n */\nfunction processAnnotation(ctx, tag, f) {\n  const o = effect_Context__WEBPACK_IMPORTED_MODULE_0__.getOption(ctx, tag);\n  if (effect_Option__WEBPACK_IMPORTED_MODULE_3__.isSome(o)) {\n    f(o.value);\n  }\n}\n/**\n * Converts an `HttpApi` instance into an OpenAPI Specification object.\n *\n * **Details**\n *\n * This function takes an `HttpApi` instance, which defines a structured API,\n * and generates an OpenAPI Specification (`OpenAPISpec`). The resulting spec\n * adheres to the OpenAPI 3.1.0 standard and includes detailed metadata such as\n * paths, operations, security schemes, and components. The function processes\n * the API's annotations, middleware, groups, and endpoints to build a complete\n * and accurate representation of the API in OpenAPI format.\n *\n * The function also deduplicates schemas, applies transformations, and\n * integrates annotations like descriptions, summaries, external documentation,\n * and overrides. Cached results are used for better performance when the same\n * `HttpApi` instance is processed multiple times.\n *\n * @example\n * ```ts\n * import { HttpApi, HttpApiEndpoint, HttpApiGroup, OpenApi } from \"@effect/platform\"\n * import { Schema } from \"effect\"\n *\n * const api = HttpApi.make(\"api\").add(\n *   HttpApiGroup.make(\"group\").add(\n *     HttpApiEndpoint.get(\"get\", \"/items\")\n *       .addSuccess(Schema.Array(Schema.String))\n *   )\n * )\n *\n * const spec = OpenApi.fromApi(api)\n *\n * // console.log(JSON.stringify(spec, null, 2))\n * // Output: OpenAPI specification in JSON format\n * ```\n *\n * @category constructors\n * @since 1.0.0\n */\nconst fromApi = api => {\n  const cached = apiCache.get(api);\n  if (cached !== undefined) {\n    return cached;\n  }\n  const jsonSchemaDefs = {};\n  let spec = {\n    openapi: \"3.1.0\",\n    info: {\n      title: effect_Context__WEBPACK_IMPORTED_MODULE_0__.getOrElse(api.annotations, Title, () => \"Api\"),\n      version: effect_Context__WEBPACK_IMPORTED_MODULE_0__.getOrElse(api.annotations, Version, () => \"0.0.1\")\n    },\n    paths: {},\n    components: {\n      schemas: jsonSchemaDefs,\n      securitySchemes: {}\n    },\n    security: [],\n    tags: []\n  };\n  function processAST(ast) {\n    return _OpenApiJsonSchema_js__WEBPACK_IMPORTED_MODULE_4__.fromAST(ast, {\n      defs: jsonSchemaDefs\n    });\n  }\n  function processHttpApiSecurity(name, security) {\n    if (spec.components.securitySchemes[name] !== undefined) {\n      return;\n    }\n    spec.components.securitySchemes[name] = makeSecurityScheme(security);\n  }\n  processAnnotation(api.annotations, _HttpApi_js__WEBPACK_IMPORTED_MODULE_5__.AdditionalSchemas, componentSchemas => {\n    componentSchemas.forEach(componentSchema => processAST(componentSchema.ast));\n  });\n  processAnnotation(api.annotations, Description, description => {\n    spec.info.description = description;\n  });\n  processAnnotation(api.annotations, License, license => {\n    spec.info.license = license;\n  });\n  processAnnotation(api.annotations, Summary, summary => {\n    spec.info.summary = summary;\n  });\n  processAnnotation(api.annotations, Servers, servers => {\n    spec.servers = [...servers];\n  });\n  api.middlewares.forEach(middleware => {\n    if (!_HttpApiMiddleware_js__WEBPACK_IMPORTED_MODULE_6__.isSecurity(middleware)) {\n      return;\n    }\n    for (const [name, security] of Object.entries(middleware.security)) {\n      processHttpApiSecurity(name, security);\n      spec.security.push({\n        [name]: []\n      });\n    }\n  });\n  _HttpApi_js__WEBPACK_IMPORTED_MODULE_5__.reflect(api, {\n    onGroup({\n      group\n    }) {\n      if (effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(group.annotations, Exclude)) {\n        return;\n      }\n      let tag = {\n        name: effect_Context__WEBPACK_IMPORTED_MODULE_0__.getOrElse(group.annotations, Title, () => group.identifier)\n      };\n      processAnnotation(group.annotations, Description, description => {\n        tag.description = description;\n      });\n      processAnnotation(group.annotations, ExternalDocs, externalDocs => {\n        tag.externalDocs = externalDocs;\n      });\n      processAnnotation(group.annotations, Override, override => {\n        Object.assign(tag, override);\n      });\n      processAnnotation(group.annotations, Transform, transformFn => {\n        tag = transformFn(tag);\n      });\n      spec.tags.push(tag);\n    },\n    onEndpoint({\n      endpoint,\n      errors,\n      group,\n      mergedAnnotations,\n      middleware,\n      payloads,\n      successes\n    }) {\n      if (effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(mergedAnnotations, Exclude)) {\n        return;\n      }\n      let op = {\n        tags: [effect_Context__WEBPACK_IMPORTED_MODULE_0__.getOrElse(group.annotations, Title, () => group.identifier)],\n        operationId: effect_Context__WEBPACK_IMPORTED_MODULE_0__.getOrElse(endpoint.annotations, Identifier, () => group.topLevel ? endpoint.name : `${group.identifier}.${endpoint.name}`),\n        parameters: [],\n        security: [],\n        responses: {}\n      };\n      function processResponseMap(map, defaultDescription) {\n        for (const [status, {\n          ast,\n          description\n        }] of map) {\n          if (op.responses[status]) continue;\n          op.responses[status] = {\n            description: effect_Option__WEBPACK_IMPORTED_MODULE_3__.getOrElse(description, defaultDescription)\n          };\n          ast.pipe(effect_Option__WEBPACK_IMPORTED_MODULE_3__.filter(ast => !_HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_7__.getEmptyDecodeable(ast)), effect_Option__WEBPACK_IMPORTED_MODULE_3__.map(ast => {\n            const encoding = _HttpApiSchema_js__WEBPACK_IMPORTED_MODULE_7__.getEncoding(ast);\n            op.responses[status].content = {\n              [encoding.contentType]: {\n                schema: processAST(ast)\n              }\n            };\n          }));\n        }\n      }\n      function processParameters(schema, i) {\n        if (effect_Option__WEBPACK_IMPORTED_MODULE_3__.isSome(schema)) {\n          const jsonSchema = processAST(schema.value.ast);\n          if (\"properties\" in jsonSchema) {\n            Object.entries(jsonSchema.properties).forEach(([name, psJsonSchema]) => {\n              op.parameters.push({\n                name,\n                in: i,\n                schema: psJsonSchema,\n                required: jsonSchema.required.includes(name),\n                ...(psJsonSchema.description !== undefined ? {\n                  description: psJsonSchema.description\n                } : undefined)\n              });\n            });\n          }\n        }\n      }\n      processAnnotation(endpoint.annotations, Description, description => {\n        op.description = description;\n      });\n      processAnnotation(endpoint.annotations, Summary, summary => {\n        op.summary = summary;\n      });\n      processAnnotation(endpoint.annotations, Deprecated, deprecated => {\n        op.deprecated = deprecated;\n      });\n      processAnnotation(endpoint.annotations, ExternalDocs, externalDocs => {\n        op.externalDocs = externalDocs;\n      });\n      middleware.forEach(middleware => {\n        if (!_HttpApiMiddleware_js__WEBPACK_IMPORTED_MODULE_6__.isSecurity(middleware)) {\n          return;\n        }\n        for (const [name, security] of Object.entries(middleware.security)) {\n          processHttpApiSecurity(name, security);\n          op.security.push({\n            [name]: []\n          });\n        }\n      });\n      const hasBody = _HttpMethod_js__WEBPACK_IMPORTED_MODULE_8__.hasBody(endpoint.method);\n      if (hasBody && payloads.size > 0) {\n        const content = {};\n        payloads.forEach(({\n          ast\n        }, contentType) => {\n          content[contentType] = {\n            schema: processAST(ast)\n          };\n        });\n        op.requestBody = {\n          content,\n          required: true\n        };\n      }\n      processParameters(endpoint.pathSchema, \"path\");\n      if (!hasBody) {\n        processParameters(endpoint.payloadSchema, \"query\");\n      }\n      processParameters(endpoint.headersSchema, \"header\");\n      processParameters(endpoint.urlParamsSchema, \"query\");\n      processResponseMap(successes, () => \"Success\");\n      processResponseMap(errors, () => \"Error\");\n      const path = endpoint.path.replace(/:(\\w+)/g, \"{$1}\");\n      const method = endpoint.method.toLowerCase();\n      if (!spec.paths[path]) {\n        spec.paths[path] = {};\n      }\n      processAnnotation(endpoint.annotations, Override, override => {\n        Object.assign(op, override);\n      });\n      processAnnotation(endpoint.annotations, Transform, transformFn => {\n        op = transformFn(op);\n      });\n      spec.paths[path][method] = op;\n    }\n  });\n  processAnnotation(api.annotations, Override, override => {\n    Object.assign(spec, override);\n  });\n  processAnnotation(api.annotations, Transform, transformFn => {\n    spec = transformFn(spec);\n  });\n  apiCache.set(api, spec);\n  return spec;\n};\nconst makeSecurityScheme = security => {\n  const meta = {};\n  processAnnotation(security.annotations, Description, description => {\n    meta.description = description;\n  });\n  switch (security._tag) {\n    case \"Basic\":\n      {\n        return {\n          ...meta,\n          type: \"http\",\n          scheme: \"basic\"\n        };\n      }\n    case \"Bearer\":\n      {\n        const format = effect_Context__WEBPACK_IMPORTED_MODULE_0__.getOption(security.annotations, Format).pipe(effect_Option__WEBPACK_IMPORTED_MODULE_3__.map(format => ({\n          bearerFormat: format\n        })), effect_Option__WEBPACK_IMPORTED_MODULE_3__.getOrUndefined);\n        return {\n          ...meta,\n          type: \"http\",\n          scheme: \"bearer\",\n          ...format\n        };\n      }\n    case \"ApiKey\":\n      {\n        return {\n          ...meta,\n          type: \"apiKey\",\n          name: security.key,\n          in: security.in\n        };\n      }\n  }\n};\n//# sourceMappingURL=OpenApi.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vT3BlbkFwaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEM7QUFDRztBQUNJO0FBQ1Q7QUFDQTtBQUNvQjtBQUNSO0FBQ047QUFDTztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQywrQ0FBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGlDQUFpQywrQ0FBVztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1DQUFtQywrQ0FBVztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHVDQUF1QywrQ0FBVztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1DQUFtQywrQ0FBVztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdDQUF3QywrQ0FBVztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1DQUFtQywrQ0FBVztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtDQUFrQywrQ0FBVztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1DQUFtQywrQ0FBVztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQywrQ0FBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQywrQ0FBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1DQUFtQyxxREFBaUI7QUFDM0QsZ0JBQWdCLHVEQUFVO0FBQzFCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUNBQXFDLCtDQUFXO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpREFBYTtBQUMvQjtBQUNBO0FBQ0Esa0JBQWtCLCtDQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOEJBQThCLCtEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQWlCO0FBQzdCLE1BQU0saURBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFrRDtBQUM5RCxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscURBQWlCO0FBQzlCLGVBQWUscURBQWlCO0FBQ2hDLEtBQUs7QUFDTCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBa0I7QUFDN0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsMERBQXlCO0FBQzlEO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxTQUFTLDZEQUE0QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0gsRUFBRSxnREFBZTtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMLFVBQVUsK0NBQVc7QUFDckI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBaUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsVUFBVSwrQ0FBVztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFEQUFpQjtBQUNoQyxxQkFBcUIscURBQWlCLDZFQUE2RSxpQkFBaUIsR0FBRyxjQUFjO0FBQ3JKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5QixvREFBZ0I7QUFDekM7QUFDQSxtQkFBbUIsaURBQWEsU0FBUyxpRUFBZ0MsUUFBUSw4Q0FBVTtBQUMzRiw2QkFBNkIsMERBQXlCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpREFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixlQUFlO0FBQ2YsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxhQUFhLDZEQUE0QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1Asc0JBQXNCLG1EQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsR0FBRztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFEQUFpQixvQ0FBb0MsOENBQVU7QUFDdEY7QUFDQSxTQUFTLElBQUkseURBQXFCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL09wZW5BcGkuanM/ODUyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb250ZXh0IGZyb20gXCJlZmZlY3QvQ29udGV4dFwiO1xuaW1wb3J0IHsgY29uc3RGYWxzZSB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIjtcbmltcG9ydCB7IGdsb2JhbFZhbHVlIH0gZnJvbSBcImVmZmVjdC9HbG9iYWxWYWx1ZVwiO1xuaW1wb3J0ICogYXMgT3B0aW9uIGZyb20gXCJlZmZlY3QvT3B0aW9uXCI7XG5pbXBvcnQgKiBhcyBIdHRwQXBpIGZyb20gXCIuL0h0dHBBcGkuanNcIjtcbmltcG9ydCAqIGFzIEh0dHBBcGlNaWRkbGV3YXJlIGZyb20gXCIuL0h0dHBBcGlNaWRkbGV3YXJlLmpzXCI7XG5pbXBvcnQgKiBhcyBIdHRwQXBpU2NoZW1hIGZyb20gXCIuL0h0dHBBcGlTY2hlbWEuanNcIjtcbmltcG9ydCAqIGFzIEh0dHBNZXRob2QgZnJvbSBcIi4vSHR0cE1ldGhvZC5qc1wiO1xuaW1wb3J0ICogYXMgSnNvblNjaGVtYSBmcm9tIFwiLi9PcGVuQXBpSnNvblNjaGVtYS5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgSWRlbnRpZmllciBleHRlbmRzIC8qI19fUFVSRV9fKi9Db250ZXh0LlRhZyhcIkBlZmZlY3QvcGxhdGZvcm0vT3BlbkFwaS9JZGVudGlmaWVyXCIpKCkge31cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIFRpdGxlIGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9PcGVuQXBpL1RpdGxlXCIpKCkge31cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIFZlcnNpb24gZXh0ZW5kcyAvKiNfX1BVUkVfXyovQ29udGV4dC5UYWcoXCJAZWZmZWN0L3BsYXRmb3JtL09wZW5BcGkvVmVyc2lvblwiKSgpIHt9XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBEZXNjcmlwdGlvbiBleHRlbmRzIC8qI19fUFVSRV9fKi9Db250ZXh0LlRhZyhcIkBlZmZlY3QvcGxhdGZvcm0vT3BlbkFwaS9EZXNjcmlwdGlvblwiKSgpIHt9XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBMaWNlbnNlIGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9PcGVuQXBpL0xpY2Vuc2VcIikoKSB7fVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgRXh0ZXJuYWxEb2NzIGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9PcGVuQXBpL0V4dGVybmFsRG9jc1wiKSgpIHt9XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJzIGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9PcGVuQXBpL1NlcnZlcnNcIikoKSB7fVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgRm9ybWF0IGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9PcGVuQXBpL0Zvcm1hdFwiKSgpIHt9XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGFubm90YXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBTdW1tYXJ5IGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9PcGVuQXBpL1N1bW1hcnlcIikoKSB7fVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgRGVwcmVjYXRlZCBleHRlbmRzIC8qI19fUFVSRV9fKi9Db250ZXh0LlRhZyhcIkBlZmZlY3QvcGxhdGZvcm0vT3BlbkFwaS9EZXByZWNhdGVkXCIpKCkge31cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIE92ZXJyaWRlIGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9PcGVuQXBpL092ZXJyaWRlXCIpKCkge31cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIEV4Y2x1ZGUgZXh0ZW5kcyAvKiNfX1BVUkVfXyovQ29udGV4dC5SZWZlcmVuY2UoKShcIkBlZmZlY3QvcGxhdGZvcm0vT3BlbkFwaS9FeGNsdWRlXCIsIHtcbiAgZGVmYXVsdFZhbHVlOiBjb25zdEZhbHNlXG59KSB7fVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBnZW5lcmF0ZWQgT3BlbkFQSSBzcGVjaWZpY2F0aW9uXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBhbm5vdGF0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtIGV4dGVuZHMgLyojX19QVVJFX18qL0NvbnRleHQuVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9PcGVuQXBpL1RyYW5zZm9ybVwiKSgpIHt9XG5jb25zdCBjb250ZXh0UGFydGlhbCA9IHRhZ3MgPT4ge1xuICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModGFncyk7XG4gIHJldHVybiBvcHRpb25zID0+IHtcbiAgICBsZXQgY29udGV4dCA9IENvbnRleHQuZW1wdHkoKTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHRhZ10gb2YgZW50cmllcykge1xuICAgICAgaWYgKG9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRleHQgPSBDb250ZXh0LmFkZChjb250ZXh0LCB0YWcsIG9wdGlvbnNba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xuICB9O1xufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgYW5ub3RhdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGFubm90YXRpb25zID0gLyojX19QVVJFX18qL2NvbnRleHRQYXJ0aWFsKHtcbiAgaWRlbnRpZmllcjogSWRlbnRpZmllcixcbiAgdGl0bGU6IFRpdGxlLFxuICB2ZXJzaW9uOiBWZXJzaW9uLFxuICBkZXNjcmlwdGlvbjogRGVzY3JpcHRpb24sXG4gIGxpY2Vuc2U6IExpY2Vuc2UsXG4gIHN1bW1hcnk6IFN1bW1hcnksXG4gIGRlcHJlY2F0ZWQ6IERlcHJlY2F0ZWQsXG4gIGV4dGVybmFsRG9jczogRXh0ZXJuYWxEb2NzLFxuICBzZXJ2ZXJzOiBTZXJ2ZXJzLFxuICBmb3JtYXQ6IEZvcm1hdCxcbiAgb3ZlcnJpZGU6IE92ZXJyaWRlLFxuICBleGNsdWRlOiBFeGNsdWRlLFxuICB0cmFuc2Zvcm06IFRyYW5zZm9ybVxufSk7XG5jb25zdCBhcGlDYWNoZSA9IC8qI19fUFVSRV9fKi9nbG9iYWxWYWx1ZShcIkBlZmZlY3QvcGxhdGZvcm0vT3BlbkFwaS9hcGlDYWNoZVwiLCAoKSA9PiBuZXcgV2Vha01hcCgpKTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgaWYgYSBnaXZlbiB0YWcgZXhpc3RzIHdpdGhpbiB0aGUgcHJvdmlkZWQgY29udGV4dC4gSWZcbiAqIHRoZSB0YWcgaXMgcHJlc2VudCwgaXQgcmV0cmlldmVzIHRoZSBhc3NvY2lhdGVkIHZhbHVlIGFuZCBhcHBsaWVzIHRoZSBnaXZlblxuICogY2FsbGJhY2sgZnVuY3Rpb24gdG8gaXQuIElmIHRoZSB0YWcgaXMgbm90IGZvdW5kLCB0aGUgZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICovXG5mdW5jdGlvbiBwcm9jZXNzQW5ub3RhdGlvbihjdHgsIHRhZywgZikge1xuICBjb25zdCBvID0gQ29udGV4dC5nZXRPcHRpb24oY3R4LCB0YWcpO1xuICBpZiAoT3B0aW9uLmlzU29tZShvKSkge1xuICAgIGYoby52YWx1ZSk7XG4gIH1cbn1cbi8qKlxuICogQ29udmVydHMgYW4gYEh0dHBBcGlgIGluc3RhbmNlIGludG8gYW4gT3BlbkFQSSBTcGVjaWZpY2F0aW9uIG9iamVjdC5cbiAqXG4gKiAqKkRldGFpbHMqKlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYW4gYEh0dHBBcGlgIGluc3RhbmNlLCB3aGljaCBkZWZpbmVzIGEgc3RydWN0dXJlZCBBUEksXG4gKiBhbmQgZ2VuZXJhdGVzIGFuIE9wZW5BUEkgU3BlY2lmaWNhdGlvbiAoYE9wZW5BUElTcGVjYCkuIFRoZSByZXN1bHRpbmcgc3BlY1xuICogYWRoZXJlcyB0byB0aGUgT3BlbkFQSSAzLjEuMCBzdGFuZGFyZCBhbmQgaW5jbHVkZXMgZGV0YWlsZWQgbWV0YWRhdGEgc3VjaCBhc1xuICogcGF0aHMsIG9wZXJhdGlvbnMsIHNlY3VyaXR5IHNjaGVtZXMsIGFuZCBjb21wb25lbnRzLiBUaGUgZnVuY3Rpb24gcHJvY2Vzc2VzXG4gKiB0aGUgQVBJJ3MgYW5ub3RhdGlvbnMsIG1pZGRsZXdhcmUsIGdyb3VwcywgYW5kIGVuZHBvaW50cyB0byBidWlsZCBhIGNvbXBsZXRlXG4gKiBhbmQgYWNjdXJhdGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIEFQSSBpbiBPcGVuQVBJIGZvcm1hdC5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gYWxzbyBkZWR1cGxpY2F0ZXMgc2NoZW1hcywgYXBwbGllcyB0cmFuc2Zvcm1hdGlvbnMsIGFuZFxuICogaW50ZWdyYXRlcyBhbm5vdGF0aW9ucyBsaWtlIGRlc2NyaXB0aW9ucywgc3VtbWFyaWVzLCBleHRlcm5hbCBkb2N1bWVudGF0aW9uLFxuICogYW5kIG92ZXJyaWRlcy4gQ2FjaGVkIHJlc3VsdHMgYXJlIHVzZWQgZm9yIGJldHRlciBwZXJmb3JtYW5jZSB3aGVuIHRoZSBzYW1lXG4gKiBgSHR0cEFwaWAgaW5zdGFuY2UgaXMgcHJvY2Vzc2VkIG11bHRpcGxlIHRpbWVzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgSHR0cEFwaSwgSHR0cEFwaUVuZHBvaW50LCBIdHRwQXBpR3JvdXAsIE9wZW5BcGkgfSBmcm9tIFwiQGVmZmVjdC9wbGF0Zm9ybVwiXG4gKiBpbXBvcnQgeyBTY2hlbWEgfSBmcm9tIFwiZWZmZWN0XCJcbiAqXG4gKiBjb25zdCBhcGkgPSBIdHRwQXBpLm1ha2UoXCJhcGlcIikuYWRkKFxuICogICBIdHRwQXBpR3JvdXAubWFrZShcImdyb3VwXCIpLmFkZChcbiAqICAgICBIdHRwQXBpRW5kcG9pbnQuZ2V0KFwiZ2V0XCIsIFwiL2l0ZW1zXCIpXG4gKiAgICAgICAuYWRkU3VjY2VzcyhTY2hlbWEuQXJyYXkoU2NoZW1hLlN0cmluZykpXG4gKiAgIClcbiAqIClcbiAqXG4gKiBjb25zdCBzcGVjID0gT3BlbkFwaS5mcm9tQXBpKGFwaSlcbiAqXG4gKiAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShzcGVjLCBudWxsLCAyKSlcbiAqIC8vIE91dHB1dDogT3BlbkFQSSBzcGVjaWZpY2F0aW9uIGluIEpTT04gZm9ybWF0XG4gKiBgYGBcbiAqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21BcGkgPSBhcGkgPT4ge1xuICBjb25zdCBjYWNoZWQgPSBhcGlDYWNoZS5nZXQoYXBpKTtcbiAgaWYgKGNhY2hlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCBqc29uU2NoZW1hRGVmcyA9IHt9O1xuICBsZXQgc3BlYyA9IHtcbiAgICBvcGVuYXBpOiBcIjMuMS4wXCIsXG4gICAgaW5mbzoge1xuICAgICAgdGl0bGU6IENvbnRleHQuZ2V0T3JFbHNlKGFwaS5hbm5vdGF0aW9ucywgVGl0bGUsICgpID0+IFwiQXBpXCIpLFxuICAgICAgdmVyc2lvbjogQ29udGV4dC5nZXRPckVsc2UoYXBpLmFubm90YXRpb25zLCBWZXJzaW9uLCAoKSA9PiBcIjAuMC4xXCIpXG4gICAgfSxcbiAgICBwYXRoczoge30sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgc2NoZW1hczoganNvblNjaGVtYURlZnMsXG4gICAgICBzZWN1cml0eVNjaGVtZXM6IHt9XG4gICAgfSxcbiAgICBzZWN1cml0eTogW10sXG4gICAgdGFnczogW11cbiAgfTtcbiAgZnVuY3Rpb24gcHJvY2Vzc0FTVChhc3QpIHtcbiAgICByZXR1cm4gSnNvblNjaGVtYS5mcm9tQVNUKGFzdCwge1xuICAgICAgZGVmczoganNvblNjaGVtYURlZnNcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzSHR0cEFwaVNlY3VyaXR5KG5hbWUsIHNlY3VyaXR5KSB7XG4gICAgaWYgKHNwZWMuY29tcG9uZW50cy5zZWN1cml0eVNjaGVtZXNbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzcGVjLmNvbXBvbmVudHMuc2VjdXJpdHlTY2hlbWVzW25hbWVdID0gbWFrZVNlY3VyaXR5U2NoZW1lKHNlY3VyaXR5KTtcbiAgfVxuICBwcm9jZXNzQW5ub3RhdGlvbihhcGkuYW5ub3RhdGlvbnMsIEh0dHBBcGkuQWRkaXRpb25hbFNjaGVtYXMsIGNvbXBvbmVudFNjaGVtYXMgPT4ge1xuICAgIGNvbXBvbmVudFNjaGVtYXMuZm9yRWFjaChjb21wb25lbnRTY2hlbWEgPT4gcHJvY2Vzc0FTVChjb21wb25lbnRTY2hlbWEuYXN0KSk7XG4gIH0pO1xuICBwcm9jZXNzQW5ub3RhdGlvbihhcGkuYW5ub3RhdGlvbnMsIERlc2NyaXB0aW9uLCBkZXNjcmlwdGlvbiA9PiB7XG4gICAgc3BlYy5pbmZvLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIH0pO1xuICBwcm9jZXNzQW5ub3RhdGlvbihhcGkuYW5ub3RhdGlvbnMsIExpY2Vuc2UsIGxpY2Vuc2UgPT4ge1xuICAgIHNwZWMuaW5mby5saWNlbnNlID0gbGljZW5zZTtcbiAgfSk7XG4gIHByb2Nlc3NBbm5vdGF0aW9uKGFwaS5hbm5vdGF0aW9ucywgU3VtbWFyeSwgc3VtbWFyeSA9PiB7XG4gICAgc3BlYy5pbmZvLnN1bW1hcnkgPSBzdW1tYXJ5O1xuICB9KTtcbiAgcHJvY2Vzc0Fubm90YXRpb24oYXBpLmFubm90YXRpb25zLCBTZXJ2ZXJzLCBzZXJ2ZXJzID0+IHtcbiAgICBzcGVjLnNlcnZlcnMgPSBbLi4uc2VydmVyc107XG4gIH0pO1xuICBhcGkubWlkZGxld2FyZXMuZm9yRWFjaChtaWRkbGV3YXJlID0+IHtcbiAgICBpZiAoIUh0dHBBcGlNaWRkbGV3YXJlLmlzU2VjdXJpdHkobWlkZGxld2FyZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBbbmFtZSwgc2VjdXJpdHldIG9mIE9iamVjdC5lbnRyaWVzKG1pZGRsZXdhcmUuc2VjdXJpdHkpKSB7XG4gICAgICBwcm9jZXNzSHR0cEFwaVNlY3VyaXR5KG5hbWUsIHNlY3VyaXR5KTtcbiAgICAgIHNwZWMuc2VjdXJpdHkucHVzaCh7XG4gICAgICAgIFtuYW1lXTogW11cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIEh0dHBBcGkucmVmbGVjdChhcGksIHtcbiAgICBvbkdyb3VwKHtcbiAgICAgIGdyb3VwXG4gICAgfSkge1xuICAgICAgaWYgKENvbnRleHQuZ2V0KGdyb3VwLmFubm90YXRpb25zLCBFeGNsdWRlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgdGFnID0ge1xuICAgICAgICBuYW1lOiBDb250ZXh0LmdldE9yRWxzZShncm91cC5hbm5vdGF0aW9ucywgVGl0bGUsICgpID0+IGdyb3VwLmlkZW50aWZpZXIpXG4gICAgICB9O1xuICAgICAgcHJvY2Vzc0Fubm90YXRpb24oZ3JvdXAuYW5ub3RhdGlvbnMsIERlc2NyaXB0aW9uLCBkZXNjcmlwdGlvbiA9PiB7XG4gICAgICAgIHRhZy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgfSk7XG4gICAgICBwcm9jZXNzQW5ub3RhdGlvbihncm91cC5hbm5vdGF0aW9ucywgRXh0ZXJuYWxEb2NzLCBleHRlcm5hbERvY3MgPT4ge1xuICAgICAgICB0YWcuZXh0ZXJuYWxEb2NzID0gZXh0ZXJuYWxEb2NzO1xuICAgICAgfSk7XG4gICAgICBwcm9jZXNzQW5ub3RhdGlvbihncm91cC5hbm5vdGF0aW9ucywgT3ZlcnJpZGUsIG92ZXJyaWRlID0+IHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0YWcsIG92ZXJyaWRlKTtcbiAgICAgIH0pO1xuICAgICAgcHJvY2Vzc0Fubm90YXRpb24oZ3JvdXAuYW5ub3RhdGlvbnMsIFRyYW5zZm9ybSwgdHJhbnNmb3JtRm4gPT4ge1xuICAgICAgICB0YWcgPSB0cmFuc2Zvcm1Gbih0YWcpO1xuICAgICAgfSk7XG4gICAgICBzcGVjLnRhZ3MucHVzaCh0YWcpO1xuICAgIH0sXG4gICAgb25FbmRwb2ludCh7XG4gICAgICBlbmRwb2ludCxcbiAgICAgIGVycm9ycyxcbiAgICAgIGdyb3VwLFxuICAgICAgbWVyZ2VkQW5ub3RhdGlvbnMsXG4gICAgICBtaWRkbGV3YXJlLFxuICAgICAgcGF5bG9hZHMsXG4gICAgICBzdWNjZXNzZXNcbiAgICB9KSB7XG4gICAgICBpZiAoQ29udGV4dC5nZXQobWVyZ2VkQW5ub3RhdGlvbnMsIEV4Y2x1ZGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBvcCA9IHtcbiAgICAgICAgdGFnczogW0NvbnRleHQuZ2V0T3JFbHNlKGdyb3VwLmFubm90YXRpb25zLCBUaXRsZSwgKCkgPT4gZ3JvdXAuaWRlbnRpZmllcildLFxuICAgICAgICBvcGVyYXRpb25JZDogQ29udGV4dC5nZXRPckVsc2UoZW5kcG9pbnQuYW5ub3RhdGlvbnMsIElkZW50aWZpZXIsICgpID0+IGdyb3VwLnRvcExldmVsID8gZW5kcG9pbnQubmFtZSA6IGAke2dyb3VwLmlkZW50aWZpZXJ9LiR7ZW5kcG9pbnQubmFtZX1gKSxcbiAgICAgICAgcGFyYW1ldGVyczogW10sXG4gICAgICAgIHNlY3VyaXR5OiBbXSxcbiAgICAgICAgcmVzcG9uc2VzOiB7fVxuICAgICAgfTtcbiAgICAgIGZ1bmN0aW9uIHByb2Nlc3NSZXNwb25zZU1hcChtYXAsIGRlZmF1bHREZXNjcmlwdGlvbikge1xuICAgICAgICBmb3IgKGNvbnN0IFtzdGF0dXMsIHtcbiAgICAgICAgICBhc3QsXG4gICAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgfV0gb2YgbWFwKSB7XG4gICAgICAgICAgaWYgKG9wLnJlc3BvbnNlc1tzdGF0dXNdKSBjb250aW51ZTtcbiAgICAgICAgICBvcC5yZXNwb25zZXNbc3RhdHVzXSA9IHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBPcHRpb24uZ2V0T3JFbHNlKGRlc2NyaXB0aW9uLCBkZWZhdWx0RGVzY3JpcHRpb24pXG4gICAgICAgICAgfTtcbiAgICAgICAgICBhc3QucGlwZShPcHRpb24uZmlsdGVyKGFzdCA9PiAhSHR0cEFwaVNjaGVtYS5nZXRFbXB0eURlY29kZWFibGUoYXN0KSksIE9wdGlvbi5tYXAoYXN0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kaW5nID0gSHR0cEFwaVNjaGVtYS5nZXRFbmNvZGluZyhhc3QpO1xuICAgICAgICAgICAgb3AucmVzcG9uc2VzW3N0YXR1c10uY29udGVudCA9IHtcbiAgICAgICAgICAgICAgW2VuY29kaW5nLmNvbnRlbnRUeXBlXToge1xuICAgICAgICAgICAgICAgIHNjaGVtYTogcHJvY2Vzc0FTVChhc3QpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBwcm9jZXNzUGFyYW1ldGVycyhzY2hlbWEsIGkpIHtcbiAgICAgICAgaWYgKE9wdGlvbi5pc1NvbWUoc2NoZW1hKSkge1xuICAgICAgICAgIGNvbnN0IGpzb25TY2hlbWEgPSBwcm9jZXNzQVNUKHNjaGVtYS52YWx1ZS5hc3QpO1xuICAgICAgICAgIGlmIChcInByb3BlcnRpZXNcIiBpbiBqc29uU2NoZW1hKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhqc29uU2NoZW1hLnByb3BlcnRpZXMpLmZvckVhY2goKFtuYW1lLCBwc0pzb25TY2hlbWFdKSA9PiB7XG4gICAgICAgICAgICAgIG9wLnBhcmFtZXRlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBpbjogaSxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHBzSnNvblNjaGVtYSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDoganNvblNjaGVtYS5yZXF1aXJlZC5pbmNsdWRlcyhuYW1lKSxcbiAgICAgICAgICAgICAgICAuLi4ocHNKc29uU2NoZW1hLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQgPyB7XG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcHNKc29uU2NoZW1hLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHByb2Nlc3NBbm5vdGF0aW9uKGVuZHBvaW50LmFubm90YXRpb25zLCBEZXNjcmlwdGlvbiwgZGVzY3JpcHRpb24gPT4ge1xuICAgICAgICBvcC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgfSk7XG4gICAgICBwcm9jZXNzQW5ub3RhdGlvbihlbmRwb2ludC5hbm5vdGF0aW9ucywgU3VtbWFyeSwgc3VtbWFyeSA9PiB7XG4gICAgICAgIG9wLnN1bW1hcnkgPSBzdW1tYXJ5O1xuICAgICAgfSk7XG4gICAgICBwcm9jZXNzQW5ub3RhdGlvbihlbmRwb2ludC5hbm5vdGF0aW9ucywgRGVwcmVjYXRlZCwgZGVwcmVjYXRlZCA9PiB7XG4gICAgICAgIG9wLmRlcHJlY2F0ZWQgPSBkZXByZWNhdGVkO1xuICAgICAgfSk7XG4gICAgICBwcm9jZXNzQW5ub3RhdGlvbihlbmRwb2ludC5hbm5vdGF0aW9ucywgRXh0ZXJuYWxEb2NzLCBleHRlcm5hbERvY3MgPT4ge1xuICAgICAgICBvcC5leHRlcm5hbERvY3MgPSBleHRlcm5hbERvY3M7XG4gICAgICB9KTtcbiAgICAgIG1pZGRsZXdhcmUuZm9yRWFjaChtaWRkbGV3YXJlID0+IHtcbiAgICAgICAgaWYgKCFIdHRwQXBpTWlkZGxld2FyZS5pc1NlY3VyaXR5KG1pZGRsZXdhcmUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHNlY3VyaXR5XSBvZiBPYmplY3QuZW50cmllcyhtaWRkbGV3YXJlLnNlY3VyaXR5KSkge1xuICAgICAgICAgIHByb2Nlc3NIdHRwQXBpU2VjdXJpdHkobmFtZSwgc2VjdXJpdHkpO1xuICAgICAgICAgIG9wLnNlY3VyaXR5LnB1c2goe1xuICAgICAgICAgICAgW25hbWVdOiBbXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGhhc0JvZHkgPSBIdHRwTWV0aG9kLmhhc0JvZHkoZW5kcG9pbnQubWV0aG9kKTtcbiAgICAgIGlmIChoYXNCb2R5ICYmIHBheWxvYWRzLnNpemUgPiAwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7fTtcbiAgICAgICAgcGF5bG9hZHMuZm9yRWFjaCgoe1xuICAgICAgICAgIGFzdFxuICAgICAgICB9LCBjb250ZW50VHlwZSkgPT4ge1xuICAgICAgICAgIGNvbnRlbnRbY29udGVudFR5cGVdID0ge1xuICAgICAgICAgICAgc2NoZW1hOiBwcm9jZXNzQVNUKGFzdClcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgb3AucmVxdWVzdEJvZHkgPSB7XG4gICAgICAgICAgY29udGVudCxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcHJvY2Vzc1BhcmFtZXRlcnMoZW5kcG9pbnQucGF0aFNjaGVtYSwgXCJwYXRoXCIpO1xuICAgICAgaWYgKCFoYXNCb2R5KSB7XG4gICAgICAgIHByb2Nlc3NQYXJhbWV0ZXJzKGVuZHBvaW50LnBheWxvYWRTY2hlbWEsIFwicXVlcnlcIik7XG4gICAgICB9XG4gICAgICBwcm9jZXNzUGFyYW1ldGVycyhlbmRwb2ludC5oZWFkZXJzU2NoZW1hLCBcImhlYWRlclwiKTtcbiAgICAgIHByb2Nlc3NQYXJhbWV0ZXJzKGVuZHBvaW50LnVybFBhcmFtc1NjaGVtYSwgXCJxdWVyeVwiKTtcbiAgICAgIHByb2Nlc3NSZXNwb25zZU1hcChzdWNjZXNzZXMsICgpID0+IFwiU3VjY2Vzc1wiKTtcbiAgICAgIHByb2Nlc3NSZXNwb25zZU1hcChlcnJvcnMsICgpID0+IFwiRXJyb3JcIik7XG4gICAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQucGF0aC5yZXBsYWNlKC86KFxcdyspL2csIFwieyQxfVwiKTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IGVuZHBvaW50Lm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFzcGVjLnBhdGhzW3BhdGhdKSB7XG4gICAgICAgIHNwZWMucGF0aHNbcGF0aF0gPSB7fTtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3NBbm5vdGF0aW9uKGVuZHBvaW50LmFubm90YXRpb25zLCBPdmVycmlkZSwgb3ZlcnJpZGUgPT4ge1xuICAgICAgICBPYmplY3QuYXNzaWduKG9wLCBvdmVycmlkZSk7XG4gICAgICB9KTtcbiAgICAgIHByb2Nlc3NBbm5vdGF0aW9uKGVuZHBvaW50LmFubm90YXRpb25zLCBUcmFuc2Zvcm0sIHRyYW5zZm9ybUZuID0+IHtcbiAgICAgICAgb3AgPSB0cmFuc2Zvcm1GbihvcCk7XG4gICAgICB9KTtcbiAgICAgIHNwZWMucGF0aHNbcGF0aF1bbWV0aG9kXSA9IG9wO1xuICAgIH1cbiAgfSk7XG4gIHByb2Nlc3NBbm5vdGF0aW9uKGFwaS5hbm5vdGF0aW9ucywgT3ZlcnJpZGUsIG92ZXJyaWRlID0+IHtcbiAgICBPYmplY3QuYXNzaWduKHNwZWMsIG92ZXJyaWRlKTtcbiAgfSk7XG4gIHByb2Nlc3NBbm5vdGF0aW9uKGFwaS5hbm5vdGF0aW9ucywgVHJhbnNmb3JtLCB0cmFuc2Zvcm1GbiA9PiB7XG4gICAgc3BlYyA9IHRyYW5zZm9ybUZuKHNwZWMpO1xuICB9KTtcbiAgYXBpQ2FjaGUuc2V0KGFwaSwgc3BlYyk7XG4gIHJldHVybiBzcGVjO1xufTtcbmNvbnN0IG1ha2VTZWN1cml0eVNjaGVtZSA9IHNlY3VyaXR5ID0+IHtcbiAgY29uc3QgbWV0YSA9IHt9O1xuICBwcm9jZXNzQW5ub3RhdGlvbihzZWN1cml0eS5hbm5vdGF0aW9ucywgRGVzY3JpcHRpb24sIGRlc2NyaXB0aW9uID0+IHtcbiAgICBtZXRhLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIH0pO1xuICBzd2l0Y2ggKHNlY3VyaXR5Ll90YWcpIHtcbiAgICBjYXNlIFwiQmFzaWNcIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5tZXRhLFxuICAgICAgICAgIHR5cGU6IFwiaHR0cFwiLFxuICAgICAgICAgIHNjaGVtZTogXCJiYXNpY1wiXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgY2FzZSBcIkJlYXJlclwiOlxuICAgICAge1xuICAgICAgICBjb25zdCBmb3JtYXQgPSBDb250ZXh0LmdldE9wdGlvbihzZWN1cml0eS5hbm5vdGF0aW9ucywgRm9ybWF0KS5waXBlKE9wdGlvbi5tYXAoZm9ybWF0ID0+ICh7XG4gICAgICAgICAgYmVhcmVyRm9ybWF0OiBmb3JtYXRcbiAgICAgICAgfSkpLCBPcHRpb24uZ2V0T3JVbmRlZmluZWQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLm1ldGEsXG4gICAgICAgICAgdHlwZTogXCJodHRwXCIsXG4gICAgICAgICAgc2NoZW1lOiBcImJlYXJlclwiLFxuICAgICAgICAgIC4uLmZvcm1hdFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIGNhc2UgXCJBcGlLZXlcIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5tZXRhLFxuICAgICAgICAgIHR5cGU6IFwiYXBpS2V5XCIsXG4gICAgICAgICAgbmFtZTogc2VjdXJpdHkua2V5LFxuICAgICAgICAgIGluOiBzZWN1cml0eS5pblxuICAgICAgICB9O1xuICAgICAgfVxuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3BlbkFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/OpenApi.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/OpenApiJsonSchema.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/OpenApiJsonSchema.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromAST: () => (/* binding */ fromAST),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeWithDefs: () => (/* binding */ makeWithDefs)\n/* harmony export */ });\n/* harmony import */ var effect_JSONSchema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/JSONSchema */ \"(rsc)/../../node_modules/effect/dist/esm/JSONSchema.js\");\n/* harmony import */ var effect_Record__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Record */ \"(rsc)/../../node_modules/effect/dist/esm/Record.js\");\n/**\n * @since 1.0.0\n */\n\n\n/**\n * @category encoding\n * @since 1.0.0\n */\nconst make = schema => {\n  const defs = {};\n  const out = makeWithDefs(schema, {\n    defs\n  });\n  if (!effect_Record__WEBPACK_IMPORTED_MODULE_0__.isEmptyRecord(defs)) {\n    out.$defs = defs;\n  }\n  return out;\n};\n/**\n * Creates a schema with additional options and definitions.\n *\n * - `defs`: A record of definitions that are included in the schema.\n * - `defsPath`: The path to the definitions within the schema (defaults to \"#/$defs/\").\n * - `topLevelReferenceStrategy`: Controls the handling of the top-level reference. Possible values are:\n *   - `\"keep\"`: Keep the top-level reference (default behavior).\n *   - `\"skip\"`: Skip the top-level reference.\n *\n * @category encoding\n * @since 1.0.0\n */\nconst makeWithDefs = (schema, options) => fromAST(schema.ast, options);\n/** @internal */\nconst fromAST = (ast, options) => {\n  const jsonSchema = effect_JSONSchema__WEBPACK_IMPORTED_MODULE_1__.fromAST(ast, {\n    definitions: options.defs,\n    definitionPath: options.defsPath ?? \"#/components/schemas/\",\n    target: \"openApi3.1\",\n    topLevelReferenceStrategy: options.topLevelReferenceStrategy ?? \"keep\"\n  });\n  return jsonSchema;\n};\n//# sourceMappingURL=OpenApiJsonSchema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vT3BlbkFwaUpzb25TY2hlbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDZ0Q7QUFDUjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILE9BQU8sd0RBQW9CO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNPO0FBQ1AscUJBQXFCLHNEQUFrQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vT3BlbkFwaUpzb25TY2hlbWEuanM/OGY1MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5pbXBvcnQgKiBhcyBKU09OU2NoZW1hIGZyb20gXCJlZmZlY3QvSlNPTlNjaGVtYVwiO1xuaW1wb3J0ICogYXMgUmVjb3JkIGZyb20gXCJlZmZlY3QvUmVjb3JkXCI7XG4vKipcbiAqIEBjYXRlZ29yeSBlbmNvZGluZ1xuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlID0gc2NoZW1hID0+IHtcbiAgY29uc3QgZGVmcyA9IHt9O1xuICBjb25zdCBvdXQgPSBtYWtlV2l0aERlZnMoc2NoZW1hLCB7XG4gICAgZGVmc1xuICB9KTtcbiAgaWYgKCFSZWNvcmQuaXNFbXB0eVJlY29yZChkZWZzKSkge1xuICAgIG91dC4kZGVmcyA9IGRlZnM7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG4vKipcbiAqIENyZWF0ZXMgYSBzY2hlbWEgd2l0aCBhZGRpdGlvbmFsIG9wdGlvbnMgYW5kIGRlZmluaXRpb25zLlxuICpcbiAqIC0gYGRlZnNgOiBBIHJlY29yZCBvZiBkZWZpbml0aW9ucyB0aGF0IGFyZSBpbmNsdWRlZCBpbiB0aGUgc2NoZW1hLlxuICogLSBgZGVmc1BhdGhgOiBUaGUgcGF0aCB0byB0aGUgZGVmaW5pdGlvbnMgd2l0aGluIHRoZSBzY2hlbWEgKGRlZmF1bHRzIHRvIFwiIy8kZGVmcy9cIikuXG4gKiAtIGB0b3BMZXZlbFJlZmVyZW5jZVN0cmF0ZWd5YDogQ29udHJvbHMgdGhlIGhhbmRsaW5nIG9mIHRoZSB0b3AtbGV2ZWwgcmVmZXJlbmNlLiBQb3NzaWJsZSB2YWx1ZXMgYXJlOlxuICogICAtIGBcImtlZXBcImA6IEtlZXAgdGhlIHRvcC1sZXZlbCByZWZlcmVuY2UgKGRlZmF1bHQgYmVoYXZpb3IpLlxuICogICAtIGBcInNraXBcImA6IFNraXAgdGhlIHRvcC1sZXZlbCByZWZlcmVuY2UuXG4gKlxuICogQGNhdGVnb3J5IGVuY29kaW5nXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2VXaXRoRGVmcyA9IChzY2hlbWEsIG9wdGlvbnMpID0+IGZyb21BU1Qoc2NoZW1hLmFzdCwgb3B0aW9ucyk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZnJvbUFTVCA9IChhc3QsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QganNvblNjaGVtYSA9IEpTT05TY2hlbWEuZnJvbUFTVChhc3QsIHtcbiAgICBkZWZpbml0aW9uczogb3B0aW9ucy5kZWZzLFxuICAgIGRlZmluaXRpb25QYXRoOiBvcHRpb25zLmRlZnNQYXRoID8/IFwiIy9jb21wb25lbnRzL3NjaGVtYXMvXCIsXG4gICAgdGFyZ2V0OiBcIm9wZW5BcGkzLjFcIixcbiAgICB0b3BMZXZlbFJlZmVyZW5jZVN0cmF0ZWd5OiBvcHRpb25zLnRvcExldmVsUmVmZXJlbmNlU3RyYXRlZ3kgPz8gXCJrZWVwXCJcbiAgfSk7XG4gIHJldHVybiBqc29uU2NoZW1hO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wZW5BcGlKc29uU2NoZW1hLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/OpenApiJsonSchema.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/Path.js":
/*!************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/Path.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Path: () => (/* binding */ Path),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   layer: () => (/* binding */ layer)\n/* harmony export */ });\n/* harmony import */ var _internal_path_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/path.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/path.js\");\n/**\n * @since 1.0.0\n */\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = _internal_path_js__WEBPACK_IMPORTED_MODULE_0__.TypeId;\n/**\n * @since 1.0.0\n * @category tag\n */\nconst Path = _internal_path_js__WEBPACK_IMPORTED_MODULE_0__.Path;\n/**\n * An implementation of the Path interface that can be used in all environments\n * (including browsers).\n *\n * It uses the POSIX standard for paths.\n *\n * @since 1.0.0\n * @category layer\n */\nconst layer = _internal_path_js__WEBPACK_IMPORTED_MODULE_0__.layer;\n//# sourceMappingURL=Path.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vUGF0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQytDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZUFBZSxxREFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGFBQWEsbURBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sY0FBYyxvREFBYztBQUNuQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9QYXRoLmpzPzBiNWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuaW1wb3J0ICogYXMgaW50ZXJuYWwgZnJvbSBcIi4vaW50ZXJuYWwvcGF0aC5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gaW50ZXJuYWwuVHlwZUlkO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0YWdcbiAqL1xuZXhwb3J0IGNvbnN0IFBhdGggPSBpbnRlcm5hbC5QYXRoO1xuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgUGF0aCBpbnRlcmZhY2UgdGhhdCBjYW4gYmUgdXNlZCBpbiBhbGwgZW52aXJvbm1lbnRzXG4gKiAoaW5jbHVkaW5nIGJyb3dzZXJzKS5cbiAqXG4gKiBJdCB1c2VzIHRoZSBQT1NJWCBzdGFuZGFyZCBmb3IgcGF0aHMuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgbGF5ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyID0gaW50ZXJuYWwubGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXRoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/Path.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/Socket.js":
/*!**************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/Socket.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CloseEvent: () => (/* binding */ CloseEvent),\n/* harmony export */   CloseEventTypeId: () => (/* binding */ CloseEventTypeId),\n/* harmony export */   Socket: () => (/* binding */ Socket),\n/* harmony export */   SocketCloseError: () => (/* binding */ SocketCloseError),\n/* harmony export */   SocketErrorTypeId: () => (/* binding */ SocketErrorTypeId),\n/* harmony export */   SocketGenericError: () => (/* binding */ SocketGenericError),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   WebSocket: () => (/* binding */ WebSocket),\n/* harmony export */   WebSocketConstructor: () => (/* binding */ WebSocketConstructor),\n/* harmony export */   currentSendQueueCapacity: () => (/* binding */ currentSendQueueCapacity),\n/* harmony export */   defaultCloseCodeIsError: () => (/* binding */ defaultCloseCodeIsError),\n/* harmony export */   fromTransformStream: () => (/* binding */ fromTransformStream),\n/* harmony export */   fromWebSocket: () => (/* binding */ fromWebSocket),\n/* harmony export */   isCloseEvent: () => (/* binding */ isCloseEvent),\n/* harmony export */   isSocket: () => (/* binding */ isSocket),\n/* harmony export */   isSocketError: () => (/* binding */ isSocketError),\n/* harmony export */   layerWebSocket: () => (/* binding */ layerWebSocket),\n/* harmony export */   layerWebSocketConstructorGlobal: () => (/* binding */ layerWebSocketConstructorGlobal),\n/* harmony export */   makeChannel: () => (/* binding */ makeChannel),\n/* harmony export */   makeWebSocket: () => (/* binding */ makeWebSocket),\n/* harmony export */   makeWebSocketChannel: () => (/* binding */ makeWebSocketChannel),\n/* harmony export */   toChannel: () => (/* binding */ toChannel),\n/* harmony export */   toChannelMap: () => (/* binding */ toChannelMap),\n/* harmony export */   toChannelString: () => (/* binding */ toChannelString),\n/* harmony export */   toChannelWith: () => (/* binding */ toChannelWith)\n/* harmony export */ });\n/* harmony import */ var effect_Channel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Channel */ \"(rsc)/../../node_modules/effect/dist/esm/Channel.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Deferred__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! effect/Deferred */ \"(rsc)/../../node_modules/effect/dist/esm/Deferred.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_ExecutionStrategy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/ExecutionStrategy */ \"(rsc)/../../node_modules/effect/dist/esm/ExecutionStrategy.js\");\n/* harmony import */ var effect_Exit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Exit */ \"(rsc)/../../node_modules/effect/dist/esm/Exit.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_FiberSet__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! effect/FiberSet */ \"(rsc)/../../node_modules/effect/dist/esm/FiberSet.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Mailbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Mailbox */ \"(rsc)/../../node_modules/effect/dist/esm/Mailbox.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Scope__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Scope */ \"(rsc)/../../node_modules/effect/dist/esm/Scope.js\");\n/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Error.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Socket\");\n/**\n * @since 1.0.0\n * @category guards\n */\nconst isSocket = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, TypeId);\n/**\n * @since 1.0.0\n * @category tags\n */\nconst Socket = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_1__.GenericTag(\"@effect/platform/Socket\");\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst CloseEventTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Socket/CloseEvent\");\n/**\n * @since 1.0.0\n * @category models\n */\nclass CloseEvent {\n  code;\n  reason;\n  /**\n   * @since 1.0.0\n   */\n  [CloseEventTypeId];\n  constructor(code = 1000, reason) {\n    this.code = code;\n    this.reason = reason;\n    this[CloseEventTypeId] = CloseEventTypeId;\n  }\n  /**\n   * @since 1.0.0\n   */\n  toString() {\n    return this.reason ? `${this.code}: ${this.reason}` : `${this.code}`;\n  }\n}\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isCloseEvent = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, CloseEventTypeId);\n/**\n * @since 1.0.0\n * @category type ids\n */\nconst SocketErrorTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Socket/SocketError\");\n/**\n * @since 1.0.0\n * @category refinements\n */\nconst isSocketError = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, SocketErrorTypeId);\n/**\n * @since 1.0.0\n * @category errors\n */\nclass SocketGenericError extends /*#__PURE__*/(0,_Error_js__WEBPACK_IMPORTED_MODULE_2__.TypeIdError)(SocketErrorTypeId, \"SocketError\") {\n  get message() {\n    return `An error occurred during ${this.reason}`;\n  }\n}\n/**\n * @since 1.0.0\n * @category errors\n */\nclass SocketCloseError extends /*#__PURE__*/(0,_Error_js__WEBPACK_IMPORTED_MODULE_2__.TypeIdError)(SocketErrorTypeId, \"SocketError\") {\n  /**\n   * @since 1.0.0\n   */\n  static is(u) {\n    return isSocketError(u) && u.reason === \"Close\";\n  }\n  /**\n   * @since 1.0.0\n   */\n  static isClean(isClean) {\n    return function (u) {\n      return SocketCloseError.is(u) && isClean(u.code);\n    };\n  }\n  get message() {\n    if (this.closeReason) {\n      return `${this.reason}: ${this.code}: ${this.closeReason}`;\n    }\n    return `${this.reason}: ${this.code}`;\n  }\n}\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst toChannelMap = (self, f) => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n  const scope = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_3__.scope;\n  const mailbox = yield* effect_Mailbox__WEBPACK_IMPORTED_MODULE_4__.make();\n  const writeScope = yield* effect_Scope__WEBPACK_IMPORTED_MODULE_5__.fork(scope, effect_ExecutionStrategy__WEBPACK_IMPORTED_MODULE_6__.sequential);\n  const write = yield* effect_Scope__WEBPACK_IMPORTED_MODULE_5__.extend(self.writer, writeScope);\n  function* emit(chunk) {\n    for (const data of chunk) {\n      yield* write(data);\n    }\n  }\n  const input = {\n    awaitRead: () => effect_Effect__WEBPACK_IMPORTED_MODULE_3__[\"void\"],\n    emit(chunk) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.catchAllCause(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(() => emit(chunk)), cause => mailbox.failCause(cause));\n    },\n    error(error) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.zipRight(effect_Scope__WEBPACK_IMPORTED_MODULE_5__.close(writeScope, effect_Exit__WEBPACK_IMPORTED_MODULE_7__[\"void\"]), mailbox.failCause(error));\n    },\n    done() {\n      return effect_Scope__WEBPACK_IMPORTED_MODULE_5__.close(writeScope, effect_Exit__WEBPACK_IMPORTED_MODULE_7__[\"void\"]);\n    }\n  };\n  yield* self.runRaw(data => {\n    mailbox.unsafeOffer(f(data));\n  }).pipe(effect_Mailbox__WEBPACK_IMPORTED_MODULE_4__.into(mailbox), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.forkIn(scope), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.interruptible);\n  return effect_Channel__WEBPACK_IMPORTED_MODULE_8__.embedInput(effect_Mailbox__WEBPACK_IMPORTED_MODULE_4__.toChannel(mailbox), input);\n}).pipe(effect_Channel__WEBPACK_IMPORTED_MODULE_8__.unwrapScoped);\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst toChannel = self => {\n  const encoder = new TextEncoder();\n  return toChannelMap(self, data => typeof data === \"string\" ? encoder.encode(data) : data);\n};\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst toChannelString = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_9__.dual)(args => isSocket(args[0]), (self, encoding) => {\n  const decoder = new TextDecoder(encoding);\n  return toChannelMap(self, data => typeof data === \"string\" ? data : decoder.decode(data));\n});\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst toChannelWith = () => self => toChannel(self);\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst makeChannel = () => effect_Channel__WEBPACK_IMPORTED_MODULE_8__.unwrap(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.map(Socket, toChannelWith()));\n/**\n * @since 1.0.0\n */\nconst defaultCloseCodeIsError = code => code !== 1000 && code !== 1006;\n/**\n * @since 1.0.0\n * @category tags\n */\nconst WebSocket = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_1__.GenericTag(\"@effect/platform/Socket/WebSocket\");\n/**\n * @since 1.0.0\n * @category tags\n */\nconst WebSocketConstructor = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_1__.GenericTag(\"@effect/platform/Socket/WebSocketConstructor\");\n/**\n * @since 1.0.0\n * @category layers\n */\nconst layerWebSocketConstructorGlobal = /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_10__.succeed(WebSocketConstructor, (url, protocols) => new globalThis.WebSocket(url, protocols));\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst makeWebSocket = (url, options) => fromWebSocket(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.acquireRelease((typeof url === \"string\" ? effect_Effect__WEBPACK_IMPORTED_MODULE_3__.succeed(url) : url).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.flatMap(url => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.map(WebSocketConstructor, f => f(url, options?.protocols)))), ws => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.sync(() => ws.close(1000))), options);\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst fromWebSocket = (acquire, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.withFiberRuntime(fiber => {\n  let currentWS;\n  const latch = effect_Effect__WEBPACK_IMPORTED_MODULE_3__.unsafeMakeLatch(false);\n  const acquireContext = fiber.currentContext;\n  const closeCodeIsError = options?.closeCodeIsError ?? defaultCloseCodeIsError;\n  const runRaw = handler => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.scopedWith(scope => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n    const fiberSet = yield* effect_FiberSet__WEBPACK_IMPORTED_MODULE_11__.make().pipe(effect_Scope__WEBPACK_IMPORTED_MODULE_5__.extend(scope));\n    const ws = yield* effect_Scope__WEBPACK_IMPORTED_MODULE_5__.extend(acquire, scope);\n    const run = yield* effect_Effect__WEBPACK_IMPORTED_MODULE_3__.provideService(effect_FiberSet__WEBPACK_IMPORTED_MODULE_11__.runtime(fiberSet)(), WebSocket, ws);\n    let open = false;\n    function onMessage(event) {\n      if (event.data instanceof Blob) {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.promise(() => event.data.arrayBuffer()).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.andThen(buffer => handler(new Uint8Array(buffer))), run);\n      }\n      const result = handler(event.data);\n      if (effect_Effect__WEBPACK_IMPORTED_MODULE_3__.isEffect(result)) {\n        run(result);\n      }\n    }\n    function onError(cause) {\n      ws.removeEventListener(\"message\", onMessage);\n      ws.removeEventListener(\"close\", onClose);\n      effect_Deferred__WEBPACK_IMPORTED_MODULE_12__.unsafeDone(fiberSet.deferred, effect_Effect__WEBPACK_IMPORTED_MODULE_3__.fail(new SocketGenericError({\n        reason: open ? \"Read\" : \"Open\",\n        cause\n      })));\n    }\n    function onClose(event) {\n      ws.removeEventListener(\"message\", onMessage);\n      ws.removeEventListener(\"error\", onError);\n      effect_Deferred__WEBPACK_IMPORTED_MODULE_12__.unsafeDone(fiberSet.deferred, effect_Effect__WEBPACK_IMPORTED_MODULE_3__.fail(new SocketCloseError({\n        reason: \"Close\",\n        code: event.code,\n        closeReason: event.reason\n      })));\n    }\n    ws.addEventListener(\"close\", onClose, {\n      once: true\n    });\n    ws.addEventListener(\"error\", onError, {\n      once: true\n    });\n    ws.addEventListener(\"message\", onMessage);\n    if (ws.readyState !== 1) {\n      const openDeferred = effect_Deferred__WEBPACK_IMPORTED_MODULE_12__.unsafeMake(fiber.id());\n      ws.addEventListener(\"open\", () => {\n        open = true;\n        effect_Deferred__WEBPACK_IMPORTED_MODULE_12__.unsafeDone(openDeferred, effect_Effect__WEBPACK_IMPORTED_MODULE_3__[\"void\"]);\n      }, {\n        once: true\n      });\n      yield* effect_Deferred__WEBPACK_IMPORTED_MODULE_12__[\"await\"](openDeferred).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.timeoutFail({\n        duration: options?.openTimeout ?? 10000,\n        onTimeout: () => new SocketGenericError({\n          reason: \"OpenTimeout\",\n          cause: \"timeout waiting for \\\"open\\\"\"\n        })\n      }), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.raceFirst(effect_FiberSet__WEBPACK_IMPORTED_MODULE_11__.join(fiberSet)));\n    }\n    open = true;\n    currentWS = ws;\n    yield* latch.open;\n    return yield* effect_FiberSet__WEBPACK_IMPORTED_MODULE_11__.join(fiberSet).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.catchIf(SocketCloseError.isClean(_ => !closeCodeIsError(_)), _ => effect_Effect__WEBPACK_IMPORTED_MODULE_3__[\"void\"]));\n  })).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.mapInputContext(input => effect_Context__WEBPACK_IMPORTED_MODULE_1__.merge(acquireContext, input)), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.ensuring(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.sync(() => {\n    latch.unsafeClose();\n    currentWS = undefined;\n  })), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.interruptible);\n  const encoder = new TextEncoder();\n  const run = handler => runRaw(data => typeof data === \"string\" ? handler(encoder.encode(data)) : data instanceof Uint8Array ? handler(data) : handler(new Uint8Array(data)));\n  const write = chunk => latch.whenOpen(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.sync(() => {\n    const ws = currentWS;\n    if (isCloseEvent(chunk)) {\n      ws.close(chunk.code, chunk.reason);\n    } else {\n      ws.send(chunk);\n    }\n  }));\n  const writer = effect_Effect__WEBPACK_IMPORTED_MODULE_3__.succeed(write);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.succeed(Socket.of({\n    [TypeId]: TypeId,\n    run,\n    runRaw,\n    writer\n  }));\n});\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst makeWebSocketChannel = (url, options) => effect_Channel__WEBPACK_IMPORTED_MODULE_8__.unwrapScoped(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.map(makeWebSocket(url, options), toChannelWith()));\n/**\n * @since 1.0.0\n * @category layers\n */\nconst layerWebSocket = (url, options) => effect_Layer__WEBPACK_IMPORTED_MODULE_10__.effect(Socket, makeWebSocket(url, options));\n/**\n * @since 1.0.0\n * @category fiber refs\n */\nconst currentSendQueueCapacity = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_13__.globalValue)(\"@effect/platform/Socket/currentSendQueueCapacity\", () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_14__.unsafeMake(16));\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst fromTransformStream = (acquire, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.withFiberRuntime(fiber => {\n  const latch = effect_Effect__WEBPACK_IMPORTED_MODULE_3__.unsafeMakeLatch(false);\n  let currentStream;\n  const acquireContext = fiber.currentContext;\n  const closeCodeIsError = options?.closeCodeIsError ?? defaultCloseCodeIsError;\n  const runRaw = handler => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.scopedWith(scope => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.gen(function* () {\n    const stream = yield* effect_Scope__WEBPACK_IMPORTED_MODULE_5__.extend(acquire, scope);\n    const reader = stream.readable.getReader();\n    yield* effect_Scope__WEBPACK_IMPORTED_MODULE_5__.addFinalizer(scope, effect_Effect__WEBPACK_IMPORTED_MODULE_3__.promise(() => reader.cancel()));\n    const fiberSet = yield* effect_FiberSet__WEBPACK_IMPORTED_MODULE_11__.make().pipe(effect_Scope__WEBPACK_IMPORTED_MODULE_5__.extend(scope));\n    const runFork = yield* effect_FiberSet__WEBPACK_IMPORTED_MODULE_11__.runtime(fiberSet)();\n    yield* effect_Effect__WEBPACK_IMPORTED_MODULE_3__.tryPromise({\n      try: async () => {\n        while (true) {\n          const {\n            done,\n            value\n          } = await reader.read();\n          if (done) {\n            throw new SocketCloseError({\n              reason: \"Close\",\n              code: 1000\n            });\n          }\n          const result = handler(value);\n          if (effect_Effect__WEBPACK_IMPORTED_MODULE_3__.isEffect(result)) {\n            runFork(result);\n          }\n        }\n      },\n      catch: cause => isSocketError(cause) ? cause : new SocketGenericError({\n        reason: \"Read\",\n        cause\n      })\n    }).pipe(effect_FiberSet__WEBPACK_IMPORTED_MODULE_11__.run(fiberSet));\n    currentStream = {\n      stream,\n      fiberSet\n    };\n    yield* latch.open;\n    return yield* effect_FiberSet__WEBPACK_IMPORTED_MODULE_11__.join(fiberSet).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.catchIf(SocketCloseError.isClean(_ => !closeCodeIsError(_)), _ => effect_Effect__WEBPACK_IMPORTED_MODULE_3__[\"void\"]));\n  })).pipe(_ => _, effect_Effect__WEBPACK_IMPORTED_MODULE_3__.mapInputContext(input => effect_Context__WEBPACK_IMPORTED_MODULE_1__.merge(acquireContext, input)), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.ensuring(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.sync(() => {\n    latch.unsafeClose();\n    currentStream = undefined;\n  })), effect_Effect__WEBPACK_IMPORTED_MODULE_3__.interruptible);\n  const encoder = new TextEncoder();\n  const run = handler => runRaw(data => typeof data === \"string\" ? handler(encoder.encode(data)) : handler(data));\n  const writers = new WeakMap();\n  const getWriter = stream => {\n    let writer = writers.get(stream);\n    if (!writer) {\n      writer = stream.writable.getWriter();\n      writers.set(stream, writer);\n    }\n    return writer;\n  };\n  const write = chunk => latch.whenOpen(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.suspend(() => {\n    const {\n      fiberSet,\n      stream\n    } = currentStream;\n    if (isCloseEvent(chunk)) {\n      return effect_Deferred__WEBPACK_IMPORTED_MODULE_12__.fail(fiberSet.deferred, new SocketCloseError({\n        reason: \"Close\",\n        code: chunk.code,\n        closeReason: chunk.reason\n      }));\n    }\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.promise(() => getWriter(stream).write(typeof chunk === \"string\" ? encoder.encode(chunk) : chunk));\n  }));\n  const writer = effect_Effect__WEBPACK_IMPORTED_MODULE_3__.acquireRelease(effect_Effect__WEBPACK_IMPORTED_MODULE_3__.succeed(write), () => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.promise(async () => {\n    if (!currentStream) return;\n    await getWriter(currentStream.stream).close();\n  }));\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_3__.succeed(Socket.of({\n    [TypeId]: TypeId,\n    run,\n    runRaw,\n    writer\n  }));\n});\n//# sourceMappingURL=Socket.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vU29ja2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDMEM7QUFDQTtBQUNFO0FBQ0o7QUFDc0I7QUFDMUI7QUFDUTtBQUNBO0FBQ0w7QUFDVTtBQUNYO0FBQ0k7QUFDSTtBQUNSO0FBQ0c7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0JBQXNCLHlEQUFxQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRCQUE0QixzREFBa0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSxJQUFJLFlBQVksT0FBTyxVQUFVO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBCQUEwQix5REFBcUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLHlEQUFxQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDhDQUE4QyxzREFBVztBQUNoRTtBQUNBLHVDQUF1QyxZQUFZO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRDQUE0QyxzREFBVztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixZQUFZLElBQUksVUFBVSxJQUFJLGlCQUFpQjtBQUMvRDtBQUNBLGNBQWMsWUFBWSxJQUFJLFVBQVU7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sa0NBQWtDLDhDQUFVO0FBQ25ELHVCQUF1QixnREFBWTtBQUNuQyx5QkFBeUIsZ0RBQVk7QUFDckMsNEJBQTRCLDhDQUFVLFFBQVEsZ0VBQTRCO0FBQzFFLHVCQUF1QixnREFBWTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQSxhQUFhLHdEQUFvQixDQUFDLDhDQUFVO0FBQzVDLEtBQUs7QUFDTDtBQUNBLGFBQWEsbURBQWUsQ0FBQywrQ0FBVyxhQUFhLGdEQUFTO0FBQzlELEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVcsYUFBYSxnREFBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsT0FBTyxnREFBWSxXQUFXLGlEQUFhLFNBQVMsd0RBQW9CO0FBQzNFLFNBQVMsc0RBQWtCLENBQUMscURBQWlCO0FBQzdDLENBQUMsT0FBTyx3REFBb0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUNBQXFDLHFEQUFJO0FBQ2hEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMEJBQTBCLGtEQUFjLENBQUMsOENBQVU7QUFDMUQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtCQUErQixzREFBa0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTywwQ0FBMEMsc0RBQWtCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ08scURBQXFELGtEQUFhO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0RBQXNELHlEQUFxQiw0QkFBNEIsa0RBQWMsa0JBQWtCLGtEQUFjLFFBQVEsOENBQVUsaUVBQWlFLCtDQUFXO0FBQzFQO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNENBQTRDLDJEQUF1QjtBQUMxRTtBQUNBLGdCQUFnQiwwREFBc0I7QUFDdEM7QUFDQTtBQUNBLDRCQUE0QixxREFBaUIsVUFBVSw4Q0FBVTtBQUNqRSw0QkFBNEIsa0RBQWEsUUFBUSxnREFBWTtBQUM3RCxzQkFBc0IsZ0RBQVk7QUFDbEMsdUJBQXVCLHlEQUFxQixDQUFDLHFEQUFnQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtEQUFjLHNDQUFzQyxrREFBYztBQUNqRjtBQUNBO0FBQ0EsVUFBVSxtREFBZTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHdEQUFtQixvQkFBb0IsK0NBQVc7QUFDeEQ7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sd0RBQW1CLG9CQUFvQiwrQ0FBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDJCQUEyQix3REFBbUI7QUFDOUM7QUFDQTtBQUNBLFFBQVEsd0RBQW1CLGVBQWUsa0RBQVc7QUFDckQsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLGFBQWEsc0RBQWMsb0JBQW9CLHNEQUFrQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPLEdBQUcsb0RBQWdCLENBQUMsa0RBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0RBQWEsZ0JBQWdCLGtEQUFjLDJEQUEyRCxrREFBVztBQUNuSSxHQUFHLFFBQVEsMERBQXNCLFVBQVUsaURBQWEsMEJBQTBCLG1EQUFlLENBQUMsK0NBQVc7QUFDN0c7QUFDQTtBQUNBLEdBQUcsSUFBSSx3REFBb0I7QUFDM0I7QUFDQTtBQUNBLHdDQUF3QywrQ0FBVztBQUNuRDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSCxpQkFBaUIsa0RBQWM7QUFDL0IsU0FBUyxrREFBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTywrQ0FBK0Msd0RBQW9CLENBQUMsOENBQVU7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDTyx5Q0FBeUMsaURBQVk7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4Q0FBOEMsZ0VBQVcsMkRBQTJELHdEQUFtQjtBQUM5STtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtEQUFrRCwyREFBdUI7QUFDaEYsZ0JBQWdCLDBEQUFzQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscURBQWlCLFVBQVUsOENBQVU7QUFDakUsMEJBQTBCLGdEQUFZO0FBQ3RDO0FBQ0EsV0FBVyxzREFBa0IsUUFBUSxrREFBYztBQUNuRCw0QkFBNEIsa0RBQWEsUUFBUSxnREFBWTtBQUM3RCwyQkFBMkIscURBQWdCO0FBQzNDLFdBQVcscURBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGNBQWMsbURBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLE9BQU8saURBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrREFBYSxnQkFBZ0Isa0RBQWMsMkRBQTJELGtEQUFXO0FBQ25JLEdBQUcsZ0JBQWdCLDBEQUFzQixVQUFVLGlEQUFhLDBCQUEwQixtREFBZSxDQUFDLCtDQUFXO0FBQ3JIO0FBQ0E7QUFDQSxHQUFHLElBQUksd0RBQW9CO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msa0RBQWM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsYUFBYSxrREFBYTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxXQUFXLGtEQUFjO0FBQ3pCLEdBQUc7QUFDSCxpQkFBaUIseURBQXFCLENBQUMsa0RBQWMsZUFBZSxrREFBYztBQUNsRjtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsa0RBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL1NvY2tldC5qcz85MTU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCAqIGFzIENoYW5uZWwgZnJvbSBcImVmZmVjdC9DaGFubmVsXCI7XG5pbXBvcnQgKiBhcyBDb250ZXh0IGZyb20gXCJlZmZlY3QvQ29udGV4dFwiO1xuaW1wb3J0ICogYXMgRGVmZXJyZWQgZnJvbSBcImVmZmVjdC9EZWZlcnJlZFwiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgKiBhcyBFeGVjdXRpb25TdHJhdGVneSBmcm9tIFwiZWZmZWN0L0V4ZWN1dGlvblN0cmF0ZWd5XCI7XG5pbXBvcnQgKiBhcyBFeGl0IGZyb20gXCJlZmZlY3QvRXhpdFwiO1xuaW1wb3J0ICogYXMgRmliZXJSZWYgZnJvbSBcImVmZmVjdC9GaWJlclJlZlwiO1xuaW1wb3J0ICogYXMgRmliZXJTZXQgZnJvbSBcImVmZmVjdC9GaWJlclNldFwiO1xuaW1wb3J0IHsgZHVhbCB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIjtcbmltcG9ydCB7IGdsb2JhbFZhbHVlIH0gZnJvbSBcImVmZmVjdC9HbG9iYWxWYWx1ZVwiO1xuaW1wb3J0ICogYXMgTGF5ZXIgZnJvbSBcImVmZmVjdC9MYXllclwiO1xuaW1wb3J0ICogYXMgTWFpbGJveCBmcm9tIFwiZWZmZWN0L01haWxib3hcIjtcbmltcG9ydCAqIGFzIFByZWRpY2F0ZSBmcm9tIFwiZWZmZWN0L1ByZWRpY2F0ZVwiO1xuaW1wb3J0ICogYXMgU2NvcGUgZnJvbSBcImVmZmVjdC9TY29wZVwiO1xuaW1wb3J0IHsgVHlwZUlkRXJyb3IgfSBmcm9tIFwiLi9FcnJvci5qc1wiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSB0eXBlIGlkc1xuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL1NvY2tldFwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZ3VhcmRzXG4gKi9cbmV4cG9ydCBjb25zdCBpc1NvY2tldCA9IHUgPT4gUHJlZGljYXRlLmhhc1Byb3BlcnR5KHUsIFR5cGVJZCk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHRhZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IFNvY2tldCA9IC8qI19fUFVSRV9fKi9Db250ZXh0LkdlbmVyaWNUYWcoXCJAZWZmZWN0L3BsYXRmb3JtL1NvY2tldFwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZHNcbiAqL1xuZXhwb3J0IGNvbnN0IENsb3NlRXZlbnRUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vU29ja2V0L0Nsb3NlRXZlbnRcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IG1vZGVsc1xuICovXG5leHBvcnQgY2xhc3MgQ2xvc2VFdmVudCB7XG4gIGNvZGU7XG4gIHJlYXNvbjtcbiAgLyoqXG4gICAqIEBzaW5jZSAxLjAuMFxuICAgKi9cbiAgW0Nsb3NlRXZlbnRUeXBlSWRdO1xuICBjb25zdHJ1Y3Rvcihjb2RlID0gMTAwMCwgcmVhc29uKSB7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB0aGlzW0Nsb3NlRXZlbnRUeXBlSWRdID0gQ2xvc2VFdmVudFR5cGVJZDtcbiAgfVxuICAvKipcbiAgICogQHNpbmNlIDEuMC4wXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFzb24gPyBgJHt0aGlzLmNvZGV9OiAke3RoaXMucmVhc29ufWAgOiBgJHt0aGlzLmNvZGV9YDtcbiAgfVxufVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByZWZpbmVtZW50c1xuICovXG5leHBvcnQgY29uc3QgaXNDbG9zZUV2ZW50ID0gdSA9PiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgQ2xvc2VFdmVudFR5cGVJZCk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBTb2NrZXRFcnJvclR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9Tb2NrZXQvU29ja2V0RXJyb3JcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJlZmluZW1lbnRzXG4gKi9cbmV4cG9ydCBjb25zdCBpc1NvY2tldEVycm9yID0gdSA9PiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgU29ja2V0RXJyb3JUeXBlSWQpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIFNvY2tldEdlbmVyaWNFcnJvciBleHRlbmRzIC8qI19fUFVSRV9fKi9UeXBlSWRFcnJvcihTb2NrZXRFcnJvclR5cGVJZCwgXCJTb2NrZXRFcnJvclwiKSB7XG4gIGdldCBtZXNzYWdlKCkge1xuICAgIHJldHVybiBgQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nICR7dGhpcy5yZWFzb259YDtcbiAgfVxufVxuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIFNvY2tldENsb3NlRXJyb3IgZXh0ZW5kcyAvKiNfX1BVUkVfXyovVHlwZUlkRXJyb3IoU29ja2V0RXJyb3JUeXBlSWQsIFwiU29ja2V0RXJyb3JcIikge1xuICAvKipcbiAgICogQHNpbmNlIDEuMC4wXG4gICAqL1xuICBzdGF0aWMgaXModSkge1xuICAgIHJldHVybiBpc1NvY2tldEVycm9yKHUpICYmIHUucmVhc29uID09PSBcIkNsb3NlXCI7XG4gIH1cbiAgLyoqXG4gICAqIEBzaW5jZSAxLjAuMFxuICAgKi9cbiAgc3RhdGljIGlzQ2xlYW4oaXNDbGVhbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodSkge1xuICAgICAgcmV0dXJuIFNvY2tldENsb3NlRXJyb3IuaXModSkgJiYgaXNDbGVhbih1LmNvZGUpO1xuICAgIH07XG4gIH1cbiAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VSZWFzb24pIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLnJlYXNvbn06ICR7dGhpcy5jb2RlfTogJHt0aGlzLmNsb3NlUmVhc29ufWA7XG4gICAgfVxuICAgIHJldHVybiBgJHt0aGlzLnJlYXNvbn06ICR7dGhpcy5jb2RlfWA7XG4gIH1cbn1cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHRvQ2hhbm5lbE1hcCA9IChzZWxmLCBmKSA9PiBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG4gIGNvbnN0IHNjb3BlID0geWllbGQqIEVmZmVjdC5zY29wZTtcbiAgY29uc3QgbWFpbGJveCA9IHlpZWxkKiBNYWlsYm94Lm1ha2UoKTtcbiAgY29uc3Qgd3JpdGVTY29wZSA9IHlpZWxkKiBTY29wZS5mb3JrKHNjb3BlLCBFeGVjdXRpb25TdHJhdGVneS5zZXF1ZW50aWFsKTtcbiAgY29uc3Qgd3JpdGUgPSB5aWVsZCogU2NvcGUuZXh0ZW5kKHNlbGYud3JpdGVyLCB3cml0ZVNjb3BlKTtcbiAgZnVuY3Rpb24qIGVtaXQoY2h1bmspIHtcbiAgICBmb3IgKGNvbnN0IGRhdGEgb2YgY2h1bmspIHtcbiAgICAgIHlpZWxkKiB3cml0ZShkYXRhKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgaW5wdXQgPSB7XG4gICAgYXdhaXRSZWFkOiAoKSA9PiBFZmZlY3Qudm9pZCxcbiAgICBlbWl0KGNodW5rKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmNhdGNoQWxsQ2F1c2UoRWZmZWN0LmdlbigoKSA9PiBlbWl0KGNodW5rKSksIGNhdXNlID0+IG1haWxib3guZmFpbENhdXNlKGNhdXNlKSk7XG4gICAgfSxcbiAgICBlcnJvcihlcnJvcikge1xuICAgICAgcmV0dXJuIEVmZmVjdC56aXBSaWdodChTY29wZS5jbG9zZSh3cml0ZVNjb3BlLCBFeGl0LnZvaWQpLCBtYWlsYm94LmZhaWxDYXVzZShlcnJvcikpO1xuICAgIH0sXG4gICAgZG9uZSgpIHtcbiAgICAgIHJldHVybiBTY29wZS5jbG9zZSh3cml0ZVNjb3BlLCBFeGl0LnZvaWQpO1xuICAgIH1cbiAgfTtcbiAgeWllbGQqIHNlbGYucnVuUmF3KGRhdGEgPT4ge1xuICAgIG1haWxib3gudW5zYWZlT2ZmZXIoZihkYXRhKSk7XG4gIH0pLnBpcGUoTWFpbGJveC5pbnRvKG1haWxib3gpLCBFZmZlY3QuZm9ya0luKHNjb3BlKSwgRWZmZWN0LmludGVycnVwdGlibGUpO1xuICByZXR1cm4gQ2hhbm5lbC5lbWJlZElucHV0KE1haWxib3gudG9DaGFubmVsKG1haWxib3gpLCBpbnB1dCk7XG59KS5waXBlKENoYW5uZWwudW53cmFwU2NvcGVkKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHRvQ2hhbm5lbCA9IHNlbGYgPT4ge1xuICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gIHJldHVybiB0b0NoYW5uZWxNYXAoc2VsZiwgZGF0YSA9PiB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGVuY29kZXIuZW5jb2RlKGRhdGEpIDogZGF0YSk7XG59O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgdG9DaGFubmVsU3RyaW5nID0gLyojX19QVVJFX18qL2R1YWwoYXJncyA9PiBpc1NvY2tldChhcmdzWzBdKSwgKHNlbGYsIGVuY29kaW5nKSA9PiB7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmcpO1xuICByZXR1cm4gdG9DaGFubmVsTWFwKHNlbGYsIGRhdGEgPT4gdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgPyBkYXRhIDogZGVjb2Rlci5kZWNvZGUoZGF0YSkpO1xufSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCB0b0NoYW5uZWxXaXRoID0gKCkgPT4gc2VsZiA9PiB0b0NoYW5uZWwoc2VsZik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgbWFrZUNoYW5uZWwgPSAoKSA9PiBDaGFubmVsLnVud3JhcChFZmZlY3QubWFwKFNvY2tldCwgdG9DaGFubmVsV2l0aCgpKSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdENsb3NlQ29kZUlzRXJyb3IgPSBjb2RlID0+IGNvZGUgIT09IDEwMDAgJiYgY29kZSAhPT0gMTAwNjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdGFnc1xuICovXG5leHBvcnQgY29uc3QgV2ViU29ja2V0ID0gLyojX19QVVJFX18qL0NvbnRleHQuR2VuZXJpY1RhZyhcIkBlZmZlY3QvcGxhdGZvcm0vU29ja2V0L1dlYlNvY2tldFwiKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdGFnc1xuICovXG5leHBvcnQgY29uc3QgV2ViU29ja2V0Q29uc3RydWN0b3IgPSAvKiNfX1BVUkVfXyovQ29udGV4dC5HZW5lcmljVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9Tb2NrZXQvV2ViU29ja2V0Q29uc3RydWN0b3JcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGxheWVyc1xuICovXG5leHBvcnQgY29uc3QgbGF5ZXJXZWJTb2NrZXRDb25zdHJ1Y3Rvckdsb2JhbCA9IC8qI19fUFVSRV9fKi9MYXllci5zdWNjZWVkKFdlYlNvY2tldENvbnN0cnVjdG9yLCAodXJsLCBwcm90b2NvbHMpID0+IG5ldyBnbG9iYWxUaGlzLldlYlNvY2tldCh1cmwsIHByb3RvY29scykpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2VXZWJTb2NrZXQgPSAodXJsLCBvcHRpb25zKSA9PiBmcm9tV2ViU29ja2V0KEVmZmVjdC5hY3F1aXJlUmVsZWFzZSgodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIiA/IEVmZmVjdC5zdWNjZWVkKHVybCkgOiB1cmwpLnBpcGUoRWZmZWN0LmZsYXRNYXAodXJsID0+IEVmZmVjdC5tYXAoV2ViU29ja2V0Q29uc3RydWN0b3IsIGYgPT4gZih1cmwsIG9wdGlvbnM/LnByb3RvY29scykpKSksIHdzID0+IEVmZmVjdC5zeW5jKCgpID0+IHdzLmNsb3NlKDEwMDApKSksIG9wdGlvbnMpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21XZWJTb2NrZXQgPSAoYWNxdWlyZSwgb3B0aW9ucykgPT4gRWZmZWN0LndpdGhGaWJlclJ1bnRpbWUoZmliZXIgPT4ge1xuICBsZXQgY3VycmVudFdTO1xuICBjb25zdCBsYXRjaCA9IEVmZmVjdC51bnNhZmVNYWtlTGF0Y2goZmFsc2UpO1xuICBjb25zdCBhY3F1aXJlQ29udGV4dCA9IGZpYmVyLmN1cnJlbnRDb250ZXh0O1xuICBjb25zdCBjbG9zZUNvZGVJc0Vycm9yID0gb3B0aW9ucz8uY2xvc2VDb2RlSXNFcnJvciA/PyBkZWZhdWx0Q2xvc2VDb2RlSXNFcnJvcjtcbiAgY29uc3QgcnVuUmF3ID0gaGFuZGxlciA9PiBFZmZlY3Quc2NvcGVkV2l0aChzY29wZSA9PiBFZmZlY3QuZ2VuKGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgZmliZXJTZXQgPSB5aWVsZCogRmliZXJTZXQubWFrZSgpLnBpcGUoU2NvcGUuZXh0ZW5kKHNjb3BlKSk7XG4gICAgY29uc3Qgd3MgPSB5aWVsZCogU2NvcGUuZXh0ZW5kKGFjcXVpcmUsIHNjb3BlKTtcbiAgICBjb25zdCBydW4gPSB5aWVsZCogRWZmZWN0LnByb3ZpZGVTZXJ2aWNlKEZpYmVyU2V0LnJ1bnRpbWUoZmliZXJTZXQpKCksIFdlYlNvY2tldCwgd3MpO1xuICAgIGxldCBvcGVuID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQuZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgcmV0dXJuIEVmZmVjdC5wcm9taXNlKCgpID0+IGV2ZW50LmRhdGEuYXJyYXlCdWZmZXIoKSkucGlwZShFZmZlY3QuYW5kVGhlbihidWZmZXIgPT4gaGFuZGxlcihuZXcgVWludDhBcnJheShidWZmZXIpKSksIHJ1bik7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyKGV2ZW50LmRhdGEpO1xuICAgICAgaWYgKEVmZmVjdC5pc0VmZmVjdChyZXN1bHQpKSB7XG4gICAgICAgIHJ1bihyZXN1bHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBvbkVycm9yKGNhdXNlKSB7XG4gICAgICB3cy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbk1lc3NhZ2UpO1xuICAgICAgd3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIG9uQ2xvc2UpO1xuICAgICAgRGVmZXJyZWQudW5zYWZlRG9uZShmaWJlclNldC5kZWZlcnJlZCwgRWZmZWN0LmZhaWwobmV3IFNvY2tldEdlbmVyaWNFcnJvcih7XG4gICAgICAgIHJlYXNvbjogb3BlbiA/IFwiUmVhZFwiIDogXCJPcGVuXCIsXG4gICAgICAgIGNhdXNlXG4gICAgICB9KSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkNsb3NlKGV2ZW50KSB7XG4gICAgICB3cy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbk1lc3NhZ2UpO1xuICAgICAgd3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgRGVmZXJyZWQudW5zYWZlRG9uZShmaWJlclNldC5kZWZlcnJlZCwgRWZmZWN0LmZhaWwobmV3IFNvY2tldENsb3NlRXJyb3Ioe1xuICAgICAgICByZWFzb246IFwiQ2xvc2VcIixcbiAgICAgICAgY29kZTogZXZlbnQuY29kZSxcbiAgICAgICAgY2xvc2VSZWFzb246IGV2ZW50LnJlYXNvblxuICAgICAgfSkpKTtcbiAgICB9XG4gICAgd3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIG9uQ2xvc2UsIHtcbiAgICAgIG9uY2U6IHRydWVcbiAgICB9KTtcbiAgICB3cy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvciwge1xuICAgICAgb25jZTogdHJ1ZVxuICAgIH0pO1xuICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uTWVzc2FnZSk7XG4gICAgaWYgKHdzLnJlYWR5U3RhdGUgIT09IDEpIHtcbiAgICAgIGNvbnN0IG9wZW5EZWZlcnJlZCA9IERlZmVycmVkLnVuc2FmZU1ha2UoZmliZXIuaWQoKSk7XG4gICAgICB3cy5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCAoKSA9PiB7XG4gICAgICAgIG9wZW4gPSB0cnVlO1xuICAgICAgICBEZWZlcnJlZC51bnNhZmVEb25lKG9wZW5EZWZlcnJlZCwgRWZmZWN0LnZvaWQpO1xuICAgICAgfSwge1xuICAgICAgICBvbmNlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHlpZWxkKiBEZWZlcnJlZC5hd2FpdChvcGVuRGVmZXJyZWQpLnBpcGUoRWZmZWN0LnRpbWVvdXRGYWlsKHtcbiAgICAgICAgZHVyYXRpb246IG9wdGlvbnM/Lm9wZW5UaW1lb3V0ID8/IDEwMDAwLFxuICAgICAgICBvblRpbWVvdXQ6ICgpID0+IG5ldyBTb2NrZXRHZW5lcmljRXJyb3Ioe1xuICAgICAgICAgIHJlYXNvbjogXCJPcGVuVGltZW91dFwiLFxuICAgICAgICAgIGNhdXNlOiBcInRpbWVvdXQgd2FpdGluZyBmb3IgXFxcIm9wZW5cXFwiXCJcbiAgICAgICAgfSlcbiAgICAgIH0pLCBFZmZlY3QucmFjZUZpcnN0KEZpYmVyU2V0LmpvaW4oZmliZXJTZXQpKSk7XG4gICAgfVxuICAgIG9wZW4gPSB0cnVlO1xuICAgIGN1cnJlbnRXUyA9IHdzO1xuICAgIHlpZWxkKiBsYXRjaC5vcGVuO1xuICAgIHJldHVybiB5aWVsZCogRmliZXJTZXQuam9pbihmaWJlclNldCkucGlwZShFZmZlY3QuY2F0Y2hJZihTb2NrZXRDbG9zZUVycm9yLmlzQ2xlYW4oXyA9PiAhY2xvc2VDb2RlSXNFcnJvcihfKSksIF8gPT4gRWZmZWN0LnZvaWQpKTtcbiAgfSkpLnBpcGUoRWZmZWN0Lm1hcElucHV0Q29udGV4dChpbnB1dCA9PiBDb250ZXh0Lm1lcmdlKGFjcXVpcmVDb250ZXh0LCBpbnB1dCkpLCBFZmZlY3QuZW5zdXJpbmcoRWZmZWN0LnN5bmMoKCkgPT4ge1xuICAgIGxhdGNoLnVuc2FmZUNsb3NlKCk7XG4gICAgY3VycmVudFdTID0gdW5kZWZpbmVkO1xuICB9KSksIEVmZmVjdC5pbnRlcnJ1cHRpYmxlKTtcbiAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICBjb25zdCBydW4gPSBoYW5kbGVyID0+IHJ1blJhdyhkYXRhID0+IHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiID8gaGFuZGxlcihlbmNvZGVyLmVuY29kZShkYXRhKSkgOiBkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSA/IGhhbmRsZXIoZGF0YSkgOiBoYW5kbGVyKG5ldyBVaW50OEFycmF5KGRhdGEpKSk7XG4gIGNvbnN0IHdyaXRlID0gY2h1bmsgPT4gbGF0Y2gud2hlbk9wZW4oRWZmZWN0LnN5bmMoKCkgPT4ge1xuICAgIGNvbnN0IHdzID0gY3VycmVudFdTO1xuICAgIGlmIChpc0Nsb3NlRXZlbnQoY2h1bmspKSB7XG4gICAgICB3cy5jbG9zZShjaHVuay5jb2RlLCBjaHVuay5yZWFzb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB3cy5zZW5kKGNodW5rKTtcbiAgICB9XG4gIH0pKTtcbiAgY29uc3Qgd3JpdGVyID0gRWZmZWN0LnN1Y2NlZWQod3JpdGUpO1xuICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQoU29ja2V0Lm9mKHtcbiAgICBbVHlwZUlkXTogVHlwZUlkLFxuICAgIHJ1bixcbiAgICBydW5SYXcsXG4gICAgd3JpdGVyXG4gIH0pKTtcbn0pO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2VXZWJTb2NrZXRDaGFubmVsID0gKHVybCwgb3B0aW9ucykgPT4gQ2hhbm5lbC51bndyYXBTY29wZWQoRWZmZWN0Lm1hcChtYWtlV2ViU29ja2V0KHVybCwgb3B0aW9ucyksIHRvQ2hhbm5lbFdpdGgoKSkpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBsYXllcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyV2ViU29ja2V0ID0gKHVybCwgb3B0aW9ucykgPT4gTGF5ZXIuZWZmZWN0KFNvY2tldCwgbWFrZVdlYlNvY2tldCh1cmwsIG9wdGlvbnMpKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgZmliZXIgcmVmc1xuICovXG5leHBvcnQgY29uc3QgY3VycmVudFNlbmRRdWV1ZUNhcGFjaXR5ID0gLyojX19QVVJFX18qL2dsb2JhbFZhbHVlKFwiQGVmZmVjdC9wbGF0Zm9ybS9Tb2NrZXQvY3VycmVudFNlbmRRdWV1ZUNhcGFjaXR5XCIsICgpID0+IEZpYmVyUmVmLnVuc2FmZU1ha2UoMTYpKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBmcm9tVHJhbnNmb3JtU3RyZWFtID0gKGFjcXVpcmUsIG9wdGlvbnMpID0+IEVmZmVjdC53aXRoRmliZXJSdW50aW1lKGZpYmVyID0+IHtcbiAgY29uc3QgbGF0Y2ggPSBFZmZlY3QudW5zYWZlTWFrZUxhdGNoKGZhbHNlKTtcbiAgbGV0IGN1cnJlbnRTdHJlYW07XG4gIGNvbnN0IGFjcXVpcmVDb250ZXh0ID0gZmliZXIuY3VycmVudENvbnRleHQ7XG4gIGNvbnN0IGNsb3NlQ29kZUlzRXJyb3IgPSBvcHRpb25zPy5jbG9zZUNvZGVJc0Vycm9yID8/IGRlZmF1bHRDbG9zZUNvZGVJc0Vycm9yO1xuICBjb25zdCBydW5SYXcgPSBoYW5kbGVyID0+IEVmZmVjdC5zY29wZWRXaXRoKHNjb3BlID0+IEVmZmVjdC5nZW4oZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBzdHJlYW0gPSB5aWVsZCogU2NvcGUuZXh0ZW5kKGFjcXVpcmUsIHNjb3BlKTtcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0ucmVhZGFibGUuZ2V0UmVhZGVyKCk7XG4gICAgeWllbGQqIFNjb3BlLmFkZEZpbmFsaXplcihzY29wZSwgRWZmZWN0LnByb21pc2UoKCkgPT4gcmVhZGVyLmNhbmNlbCgpKSk7XG4gICAgY29uc3QgZmliZXJTZXQgPSB5aWVsZCogRmliZXJTZXQubWFrZSgpLnBpcGUoU2NvcGUuZXh0ZW5kKHNjb3BlKSk7XG4gICAgY29uc3QgcnVuRm9yayA9IHlpZWxkKiBGaWJlclNldC5ydW50aW1lKGZpYmVyU2V0KSgpO1xuICAgIHlpZWxkKiBFZmZlY3QudHJ5UHJvbWlzZSh7XG4gICAgICB0cnk6IGFzeW5jICgpID0+IHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBkb25lLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFNvY2tldENsb3NlRXJyb3Ioe1xuICAgICAgICAgICAgICByZWFzb246IFwiQ2xvc2VcIixcbiAgICAgICAgICAgICAgY29kZTogMTAwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgIGlmIChFZmZlY3QuaXNFZmZlY3QocmVzdWx0KSkge1xuICAgICAgICAgICAgcnVuRm9yayhyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhdGNoOiBjYXVzZSA9PiBpc1NvY2tldEVycm9yKGNhdXNlKSA/IGNhdXNlIDogbmV3IFNvY2tldEdlbmVyaWNFcnJvcih7XG4gICAgICAgIHJlYXNvbjogXCJSZWFkXCIsXG4gICAgICAgIGNhdXNlXG4gICAgICB9KVxuICAgIH0pLnBpcGUoRmliZXJTZXQucnVuKGZpYmVyU2V0KSk7XG4gICAgY3VycmVudFN0cmVhbSA9IHtcbiAgICAgIHN0cmVhbSxcbiAgICAgIGZpYmVyU2V0XG4gICAgfTtcbiAgICB5aWVsZCogbGF0Y2gub3BlbjtcbiAgICByZXR1cm4geWllbGQqIEZpYmVyU2V0LmpvaW4oZmliZXJTZXQpLnBpcGUoRWZmZWN0LmNhdGNoSWYoU29ja2V0Q2xvc2VFcnJvci5pc0NsZWFuKF8gPT4gIWNsb3NlQ29kZUlzRXJyb3IoXykpLCBfID0+IEVmZmVjdC52b2lkKSk7XG4gIH0pKS5waXBlKF8gPT4gXywgRWZmZWN0Lm1hcElucHV0Q29udGV4dChpbnB1dCA9PiBDb250ZXh0Lm1lcmdlKGFjcXVpcmVDb250ZXh0LCBpbnB1dCkpLCBFZmZlY3QuZW5zdXJpbmcoRWZmZWN0LnN5bmMoKCkgPT4ge1xuICAgIGxhdGNoLnVuc2FmZUNsb3NlKCk7XG4gICAgY3VycmVudFN0cmVhbSA9IHVuZGVmaW5lZDtcbiAgfSkpLCBFZmZlY3QuaW50ZXJydXB0aWJsZSk7XG4gIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgY29uc3QgcnVuID0gaGFuZGxlciA9PiBydW5SYXcoZGF0YSA9PiB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGhhbmRsZXIoZW5jb2Rlci5lbmNvZGUoZGF0YSkpIDogaGFuZGxlcihkYXRhKSk7XG4gIGNvbnN0IHdyaXRlcnMgPSBuZXcgV2Vha01hcCgpO1xuICBjb25zdCBnZXRXcml0ZXIgPSBzdHJlYW0gPT4ge1xuICAgIGxldCB3cml0ZXIgPSB3cml0ZXJzLmdldChzdHJlYW0pO1xuICAgIGlmICghd3JpdGVyKSB7XG4gICAgICB3cml0ZXIgPSBzdHJlYW0ud3JpdGFibGUuZ2V0V3JpdGVyKCk7XG4gICAgICB3cml0ZXJzLnNldChzdHJlYW0sIHdyaXRlcik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH07XG4gIGNvbnN0IHdyaXRlID0gY2h1bmsgPT4gbGF0Y2gud2hlbk9wZW4oRWZmZWN0LnN1c3BlbmQoKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpYmVyU2V0LFxuICAgICAgc3RyZWFtXG4gICAgfSA9IGN1cnJlbnRTdHJlYW07XG4gICAgaWYgKGlzQ2xvc2VFdmVudChjaHVuaykpIHtcbiAgICAgIHJldHVybiBEZWZlcnJlZC5mYWlsKGZpYmVyU2V0LmRlZmVycmVkLCBuZXcgU29ja2V0Q2xvc2VFcnJvcih7XG4gICAgICAgIHJlYXNvbjogXCJDbG9zZVwiLFxuICAgICAgICBjb2RlOiBjaHVuay5jb2RlLFxuICAgICAgICBjbG9zZVJlYXNvbjogY2h1bmsucmVhc29uXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBFZmZlY3QucHJvbWlzZSgoKSA9PiBnZXRXcml0ZXIoc3RyZWFtKS53cml0ZSh0eXBlb2YgY2h1bmsgPT09IFwic3RyaW5nXCIgPyBlbmNvZGVyLmVuY29kZShjaHVuaykgOiBjaHVuaykpO1xuICB9KSk7XG4gIGNvbnN0IHdyaXRlciA9IEVmZmVjdC5hY3F1aXJlUmVsZWFzZShFZmZlY3Quc3VjY2VlZCh3cml0ZSksICgpID0+IEVmZmVjdC5wcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRTdHJlYW0pIHJldHVybjtcbiAgICBhd2FpdCBnZXRXcml0ZXIoY3VycmVudFN0cmVhbS5zdHJlYW0pLmNsb3NlKCk7XG4gIH0pKTtcbiAgcmV0dXJuIEVmZmVjdC5zdWNjZWVkKFNvY2tldC5vZih7XG4gICAgW1R5cGVJZF06IFR5cGVJZCxcbiAgICBydW4sXG4gICAgcnVuUmF3LFxuICAgIHdyaXRlclxuICB9KSk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNvY2tldC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/Socket.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/Template.js":
/*!****************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/Template.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   stream: () => (/* binding */ stream)\n/* harmony export */ });\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n/**\n * @category constructors\n * @since 1.0.0\n */\nfunction make(strings, ...args) {\n  const argsLength = args.length;\n  const values = new Array(argsLength);\n  const effects = [];\n  for (let i = 0; i < argsLength; i++) {\n    const arg = args[i];\n    if (effect_Option__WEBPACK_IMPORTED_MODULE_0__.isOption(arg)) {\n      values[i] = arg._tag === \"Some\" ? primitiveToString(arg.value) : \"\";\n    } else if (isSuccess(arg)) {\n      values[i] = primitiveToString(arg.effect_instruction_i0);\n    } else if (effect_Effect__WEBPACK_IMPORTED_MODULE_1__.isEffect(arg)) {\n      effects.push([i, arg]);\n    } else {\n      values[i] = primitiveToString(arg);\n    }\n  }\n  if (effects.length === 0) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.succeed(consolidate(strings, values));\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.forEach(effects, ([index, effect]) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.tap(effect, value => {\n    values[index] = primitiveToString(value);\n  }), {\n    concurrency: \"inherit\",\n    discard: true\n  }), _ => consolidate(strings, values));\n}\n/**\n * @category constructors\n * @since 1.0.0\n */\nfunction stream(strings, ...args) {\n  const chunks = [];\n  let buffer = \"\";\n  for (let i = 0, len = args.length; i < len; i++) {\n    buffer += strings[i];\n    const arg = args[i];\n    if (effect_Option__WEBPACK_IMPORTED_MODULE_0__.isOption(arg)) {\n      buffer += arg._tag === \"Some\" ? primitiveToString(arg.value) : \"\";\n    } else if (isSuccess(arg)) {\n      buffer += primitiveToString(arg.effect_instruction_i0);\n    } else if (effect_Predicate__WEBPACK_IMPORTED_MODULE_2__.hasProperty(arg, effect_Stream__WEBPACK_IMPORTED_MODULE_3__.StreamTypeId)) {\n      if (buffer.length > 0) {\n        chunks.push(buffer);\n        buffer = \"\";\n      }\n      if (effect_Effect__WEBPACK_IMPORTED_MODULE_1__.isEffect(arg)) {\n        chunks.push(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(arg, primitiveToString));\n      } else {\n        chunks.push(effect_Stream__WEBPACK_IMPORTED_MODULE_3__.map(arg, primitiveToString));\n      }\n    } else {\n      buffer += primitiveToString(arg);\n    }\n  }\n  buffer += strings[strings.length - 1];\n  if (buffer.length > 0) {\n    chunks.push(buffer);\n    buffer = \"\";\n  }\n  return effect_Stream__WEBPACK_IMPORTED_MODULE_3__.flatMap(effect_Stream__WEBPACK_IMPORTED_MODULE_3__.fromIterable(chunks), chunk => typeof chunk === \"string\" ? effect_Stream__WEBPACK_IMPORTED_MODULE_3__.succeed(chunk) : chunk, {\n    concurrency: \"unbounded\"\n  });\n}\nfunction primitiveToString(value) {\n  if (Array.isArray(value)) {\n    return value.map(primitiveToString).join(\"\");\n  }\n  switch (typeof value) {\n    case \"string\":\n      {\n        return value;\n      }\n    case \"number\":\n    case \"bigint\":\n      {\n        return value.toString();\n      }\n    case \"boolean\":\n      {\n        return value ? \"true\" : \"false\";\n      }\n    default:\n      {\n        return \"\";\n      }\n  }\n}\nfunction consolidate(strings, values) {\n  let out = \"\";\n  for (let i = 0, len = values.length; i < len; i++) {\n    out += strings[i];\n    out += values[i];\n  }\n  return out + strings[strings.length - 1];\n}\nfunction isSuccess(u) {\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.isEffect(u) && u._op === \"Success\";\n}\n//# sourceMappingURL=Template.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vVGVtcGxhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ3dDO0FBQ0E7QUFDTTtBQUNOO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0EsUUFBUSxtREFBZTtBQUN2QjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU0sU0FBUyxtREFBZTtBQUM5QjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0RBQWM7QUFDekI7QUFDQSxTQUFTLDhDQUFVLENBQUMsa0RBQWMsK0JBQStCLDhDQUFVO0FBQzNFO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHFDQUFxQyxTQUFTO0FBQzlDO0FBQ0E7QUFDQSxRQUFRLG1EQUFlO0FBQ3ZCO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTSxTQUFTLHlEQUFxQixNQUFNLHVEQUFtQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsbURBQWU7QUFDekIsb0JBQW9CLDhDQUFVO0FBQzlCLFFBQVE7QUFDUixvQkFBb0IsOENBQVU7QUFDOUI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsa0RBQWMsQ0FBQyx1REFBbUIsK0NBQStDLGtEQUFjO0FBQ3hHO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsbURBQWU7QUFDeEI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9UZW1wbGF0ZS5qcz82YjdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0ICogYXMgT3B0aW9uIGZyb20gXCJlZmZlY3QvT3B0aW9uXCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIFN0cmVhbSBmcm9tIFwiZWZmZWN0L1N0cmVhbVwiO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2Uoc3RyaW5ncywgLi4uYXJncykge1xuICBjb25zdCBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gIGNvbnN0IHZhbHVlcyA9IG5ldyBBcnJheShhcmdzTGVuZ3RoKTtcbiAgY29uc3QgZWZmZWN0cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3NMZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGFyZyA9IGFyZ3NbaV07XG4gICAgaWYgKE9wdGlvbi5pc09wdGlvbihhcmcpKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBhcmcuX3RhZyA9PT0gXCJTb21lXCIgPyBwcmltaXRpdmVUb1N0cmluZyhhcmcudmFsdWUpIDogXCJcIjtcbiAgICB9IGVsc2UgaWYgKGlzU3VjY2VzcyhhcmcpKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBwcmltaXRpdmVUb1N0cmluZyhhcmcuZWZmZWN0X2luc3RydWN0aW9uX2kwKTtcbiAgICB9IGVsc2UgaWYgKEVmZmVjdC5pc0VmZmVjdChhcmcpKSB7XG4gICAgICBlZmZlY3RzLnB1c2goW2ksIGFyZ10pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXNbaV0gPSBwcmltaXRpdmVUb1N0cmluZyhhcmcpO1xuICAgIH1cbiAgfVxuICBpZiAoZWZmZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQoY29uc29saWRhdGUoc3RyaW5ncywgdmFsdWVzKSk7XG4gIH1cbiAgcmV0dXJuIEVmZmVjdC5tYXAoRWZmZWN0LmZvckVhY2goZWZmZWN0cywgKFtpbmRleCwgZWZmZWN0XSkgPT4gRWZmZWN0LnRhcChlZmZlY3QsIHZhbHVlID0+IHtcbiAgICB2YWx1ZXNbaW5kZXhdID0gcHJpbWl0aXZlVG9TdHJpbmcodmFsdWUpO1xuICB9KSwge1xuICAgIGNvbmN1cnJlbmN5OiBcImluaGVyaXRcIixcbiAgICBkaXNjYXJkOiB0cnVlXG4gIH0pLCBfID0+IGNvbnNvbGlkYXRlKHN0cmluZ3MsIHZhbHVlcykpO1xufVxuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmVhbShzdHJpbmdzLCAuLi5hcmdzKSB7XG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBsZXQgYnVmZmVyID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFyZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBidWZmZXIgKz0gc3RyaW5nc1tpXTtcbiAgICBjb25zdCBhcmcgPSBhcmdzW2ldO1xuICAgIGlmIChPcHRpb24uaXNPcHRpb24oYXJnKSkge1xuICAgICAgYnVmZmVyICs9IGFyZy5fdGFnID09PSBcIlNvbWVcIiA/IHByaW1pdGl2ZVRvU3RyaW5nKGFyZy52YWx1ZSkgOiBcIlwiO1xuICAgIH0gZWxzZSBpZiAoaXNTdWNjZXNzKGFyZykpIHtcbiAgICAgIGJ1ZmZlciArPSBwcmltaXRpdmVUb1N0cmluZyhhcmcuZWZmZWN0X2luc3RydWN0aW9uX2kwKTtcbiAgICB9IGVsc2UgaWYgKFByZWRpY2F0ZS5oYXNQcm9wZXJ0eShhcmcsIFN0cmVhbS5TdHJlYW1UeXBlSWQpKSB7XG4gICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2h1bmtzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgYnVmZmVyID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIGlmIChFZmZlY3QuaXNFZmZlY3QoYXJnKSkge1xuICAgICAgICBjaHVua3MucHVzaChFZmZlY3QubWFwKGFyZywgcHJpbWl0aXZlVG9TdHJpbmcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNodW5rcy5wdXNoKFN0cmVhbS5tYXAoYXJnLCBwcmltaXRpdmVUb1N0cmluZykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBidWZmZXIgKz0gcHJpbWl0aXZlVG9TdHJpbmcoYXJnKTtcbiAgICB9XG4gIH1cbiAgYnVmZmVyICs9IHN0cmluZ3Nbc3RyaW5ncy5sZW5ndGggLSAxXTtcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgY2h1bmtzLnB1c2goYnVmZmVyKTtcbiAgICBidWZmZXIgPSBcIlwiO1xuICB9XG4gIHJldHVybiBTdHJlYW0uZmxhdE1hcChTdHJlYW0uZnJvbUl0ZXJhYmxlKGNodW5rcyksIGNodW5rID0+IHR5cGVvZiBjaHVuayA9PT0gXCJzdHJpbmdcIiA/IFN0cmVhbS5zdWNjZWVkKGNodW5rKSA6IGNodW5rLCB7XG4gICAgY29uY3VycmVuY3k6IFwidW5ib3VuZGVkXCJcbiAgfSk7XG59XG5mdW5jdGlvbiBwcmltaXRpdmVUb1N0cmluZyh2YWx1ZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKHByaW1pdGl2ZVRvU3RyaW5nKS5qb2luKFwiXCIpO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgY2FzZSBcIm51bWJlclwiOlxuICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbnNvbGlkYXRlKHN0cmluZ3MsIHZhbHVlcykge1xuICBsZXQgb3V0ID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIG91dCArPSBzdHJpbmdzW2ldO1xuICAgIG91dCArPSB2YWx1ZXNbaV07XG4gIH1cbiAgcmV0dXJuIG91dCArIHN0cmluZ3Nbc3RyaW5ncy5sZW5ndGggLSAxXTtcbn1cbmZ1bmN0aW9uIGlzU3VjY2Vzcyh1KSB7XG4gIHJldHVybiBFZmZlY3QuaXNFZmZlY3QodSkgJiYgdS5fb3AgPT09IFwiU3VjY2Vzc1wiO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGVtcGxhdGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/Template.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/UrlParams.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   append: () => (/* binding */ append),\n/* harmony export */   appendAll: () => (/* binding */ appendAll),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   fromInput: () => (/* binding */ fromInput),\n/* harmony export */   getAll: () => (/* binding */ getAll),\n/* harmony export */   getFirst: () => (/* binding */ getFirst),\n/* harmony export */   getLast: () => (/* binding */ getLast),\n/* harmony export */   makeUrl: () => (/* binding */ makeUrl),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   schema: () => (/* binding */ schema),\n/* harmony export */   schemaJson: () => (/* binding */ schemaJson),\n/* harmony export */   schemaStruct: () => (/* binding */ schemaStruct),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   setAll: () => (/* binding */ setAll),\n/* harmony export */   toRecord: () => (/* binding */ toRecord),\n/* harmony export */   toString: () => (/* binding */ toString)\n/* harmony export */ });\n/* harmony import */ var effect_Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Array */ \"(rsc)/../../node_modules/effect/dist/esm/Array.js\");\n/* harmony import */ var effect_Either__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Either */ \"(rsc)/../../node_modules/effect/dist/esm/Either.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst fromInput = input => {\n  const entries = Symbol.iterator in input ? effect_Array__WEBPACK_IMPORTED_MODULE_0__.fromIterable(input) : Object.entries(input);\n  const out = [];\n  for (const [key, value] of entries) {\n    if (Array.isArray(value)) {\n      for (let i = 0; i < value.length; i++) {\n        if (value[i] !== undefined) {\n          out.push([key, String(value[i])]);\n        }\n      }\n    } else if (value !== undefined) {\n      out.push([key, String(value)]);\n    }\n  }\n  return out;\n};\n/**\n * @since 1.0.0\n * @category schemas\n */\nconst schema = /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_1__.Array(effect_Schema__WEBPACK_IMPORTED_MODULE_1__.Tuple(effect_Schema__WEBPACK_IMPORTED_MODULE_1__.String, effect_Schema__WEBPACK_IMPORTED_MODULE_1__.String)).annotations({\n  identifier: \"UrlParams\"\n});\n/**\n * @since 1.0.0\n * @category constructors\n */\nconst empty = [];\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst getAll = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_2__.dual)(2, (self, key) => effect_Array__WEBPACK_IMPORTED_MODULE_0__.reduce(self, [], (acc, [k, value]) => {\n  if (k === key) {\n    acc.push(value);\n  }\n  return acc;\n}));\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst getFirst = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_2__.dual)(2, (self, key) => effect_Option__WEBPACK_IMPORTED_MODULE_3__.map(effect_Array__WEBPACK_IMPORTED_MODULE_0__.findFirst(self, ([k]) => k === key), ([, value]) => value));\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst getLast = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_2__.dual)(2, (self, key) => effect_Option__WEBPACK_IMPORTED_MODULE_3__.map(effect_Array__WEBPACK_IMPORTED_MODULE_0__.findLast(self, ([k]) => k === key), ([, value]) => value));\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst set = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_2__.dual)(3, (self, key, value) => effect_Array__WEBPACK_IMPORTED_MODULE_0__.append(effect_Array__WEBPACK_IMPORTED_MODULE_0__.filter(self, ([k]) => k !== key), [key, String(value)]));\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst setAll = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_2__.dual)(2, (self, input) => {\n  const toSet = fromInput(input);\n  const keys = toSet.map(([k]) => k);\n  return effect_Array__WEBPACK_IMPORTED_MODULE_0__.appendAll(effect_Array__WEBPACK_IMPORTED_MODULE_0__.filter(self, ([k]) => keys.includes(k)), toSet);\n});\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst append = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_2__.dual)(3, (self, key, value) => effect_Array__WEBPACK_IMPORTED_MODULE_0__.append(self, [key, String(value)]));\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst appendAll = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_2__.dual)(2, (self, input) => effect_Array__WEBPACK_IMPORTED_MODULE_0__.appendAll(self, fromInput(input)));\n/**\n * @since 1.0.0\n * @category combinators\n */\nconst remove = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_2__.dual)(2, (self, key) => effect_Array__WEBPACK_IMPORTED_MODULE_0__.filter(self, ([k]) => k !== key));\n/**\n * @since 1.0.0\n * @category conversions\n */\nconst makeUrl = (url, params, hash) => {\n  try {\n    const urlInstance = new URL(url, baseUrl());\n    for (let i = 0; i < params.length; i++) {\n      const [key, value] = params[i];\n      if (value !== undefined) {\n        urlInstance.searchParams.append(key, value);\n      }\n    }\n    if (hash._tag === \"Some\") {\n      urlInstance.hash = hash.value;\n    }\n    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.right(urlInstance);\n  } catch (e) {\n    return effect_Either__WEBPACK_IMPORTED_MODULE_4__.left(e);\n  }\n};\n/**\n * @since 1.0.0\n * @category conversions\n */\nconst toString = self => new URLSearchParams(self).toString();\nconst baseUrl = () => {\n  if (\"location\" in globalThis && globalThis.location !== undefined && globalThis.location.origin !== undefined && globalThis.location.pathname !== undefined) {\n    return location.origin + location.pathname;\n  }\n  return undefined;\n};\n/**\n * Builds a `Record` containing all the key-value pairs in the given `UrlParams`\n * as `string` (if only one value for a key) or a `NonEmptyArray<string>`\n * (when more than one value for a key)\n *\n * @example\n * ```ts\n * import { UrlParams } from \"@effect/platform\"\n *\n * const urlParams = UrlParams.fromInput({ a: 1, b: true, c: \"string\", e: [1, 2, 3] })\n * const result = UrlParams.toRecord(urlParams)\n *\n * assert.deepStrictEqual(\n *   result,\n *   { \"a\": \"1\", \"b\": \"true\", \"c\": \"string\", \"e\": [\"1\", \"2\", \"3\"] }\n * )\n * ```\n *\n * @since 1.0.0\n * @category conversions\n */\nconst toRecord = self => {\n  const out = {};\n  for (const [k, value] of self) {\n    const curr = out[k];\n    if (curr === undefined) {\n      out[k] = value;\n    } else if (typeof curr === \"string\") {\n      out[k] = [curr, value];\n    } else {\n      curr.push(value);\n    }\n  }\n  return out;\n};\n/**\n * @since 1.0.0\n * @category schema\n */\nconst schemaJson = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_1__.decodeUnknown(effect_Schema__WEBPACK_IMPORTED_MODULE_1__.parseJson(schema), options);\n  return (0,effect_Function__WEBPACK_IMPORTED_MODULE_2__.dual)(2, (self, field) => parse(effect_Option__WEBPACK_IMPORTED_MODULE_3__.getOrElse(getLast(self, field), () => \"\")));\n};\n/**\n * Extract schema from all key-value pairs in the given `UrlParams`.\n *\n * @example\n * ```ts\n * import { Effect, Schema } from \"effect\"\n * import { UrlParams } from \"@effect/platform\"\n *\n * Effect.gen(function* () {\n *   const urlParams = UrlParams.fromInput({ \"a\": [10, \"string\"], \"b\": false })\n *   const result = yield* UrlParams.schemaStruct(Schema.Struct({\n *     a: Schema.Tuple(Schema.NumberFromString, Schema.String),\n *     b: Schema.BooleanFromString\n *   }))(urlParams)\n *\n *   assert.deepStrictEqual(result, {\n *     a: [10, \"string\"],\n *     b: false\n *   })\n * })\n * ```\n *\n * @since 1.0.0\n * @category schema\n */\nconst schemaStruct = (schema, options) => self => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_1__.decodeUnknown(schema, options);\n  return parse(toRecord(self));\n};\n//# sourceMappingURL=UrlParams.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vVXJsUGFyYW1zLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNvQztBQUNJO0FBQ0Q7QUFDQztBQUNBO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2Q0FBNkMsc0RBQWdCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrQkFBa0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLGdEQUFZLENBQUMsZ0RBQVksQ0FBQyxpREFBYSxFQUFFLGlEQUFhO0FBQ3pGO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRCQUE0QixxREFBSSxtQkFBbUIsZ0RBQVU7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4QkFBOEIscURBQUksbUJBQW1CLDhDQUFVLENBQUMsbURBQWE7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2QkFBNkIscURBQUksbUJBQW1CLDhDQUFVLENBQUMsa0RBQVk7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDTyx5QkFBeUIscURBQUksMEJBQTBCLGdEQUFVLENBQUMsZ0RBQVU7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0QkFBNEIscURBQUk7QUFDdkM7QUFDQTtBQUNBLFNBQVMsbURBQWEsQ0FBQyxnREFBVTtBQUNqQyxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0QkFBNEIscURBQUksMEJBQTBCLGdEQUFVO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ08sK0JBQStCLHFEQUFJLHFCQUFxQixtREFBYTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRCQUE0QixxREFBSSxtQkFBbUIsZ0RBQVU7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdEQUFZO0FBQ3ZCLElBQUk7QUFDSixXQUFXLCtDQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQSwyQ0FBMkMsMENBQTBDO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdCQUFnQix3REFBb0IsQ0FBQyxvREFBZ0I7QUFDckQsU0FBUyxxREFBSSwyQkFBMkIsb0RBQWdCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0EsNkNBQTZDLGlDQUFpQztBQUM5RTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdCQUFnQix3REFBb0I7QUFDcEM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL1VybFBhcmFtcy5qcz8zOWRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCAqIGFzIEFyciBmcm9tIFwiZWZmZWN0L0FycmF5XCI7XG5pbXBvcnQgKiBhcyBFaXRoZXIgZnJvbSBcImVmZmVjdC9FaXRoZXJcIjtcbmltcG9ydCB7IGR1YWwgfSBmcm9tIFwiZWZmZWN0L0Z1bmN0aW9uXCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCAqIGFzIFNjaGVtYSBmcm9tIFwiZWZmZWN0L1NjaGVtYVwiO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21JbnB1dCA9IGlucHV0ID0+IHtcbiAgY29uc3QgZW50cmllcyA9IFN5bWJvbC5pdGVyYXRvciBpbiBpbnB1dCA/IEFyci5mcm9tSXRlcmFibGUoaW5wdXQpIDogT2JqZWN0LmVudHJpZXMoaW5wdXQpO1xuICBjb25zdCBvdXQgPSBbXTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZW50cmllcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodmFsdWVbaV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG91dC5wdXNoKFtrZXksIFN0cmluZyh2YWx1ZVtpXSldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3V0LnB1c2goW2tleSwgU3RyaW5nKHZhbHVlKV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hc1xuICovXG5leHBvcnQgY29uc3Qgc2NoZW1hID0gLyojX19QVVJFX18qL1NjaGVtYS5BcnJheShTY2hlbWEuVHVwbGUoU2NoZW1hLlN0cmluZywgU2NoZW1hLlN0cmluZykpLmFubm90YXRpb25zKHtcbiAgaWRlbnRpZmllcjogXCJVcmxQYXJhbXNcIlxufSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY29uc3QgZW1wdHkgPSBbXTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEFsbCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBrZXkpID0+IEFyci5yZWR1Y2Uoc2VsZiwgW10sIChhY2MsIFtrLCB2YWx1ZV0pID0+IHtcbiAgaWYgKGsgPT09IGtleSkge1xuICAgIGFjYy5wdXNoKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gYWNjO1xufSkpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgZ2V0Rmlyc3QgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwga2V5KSA9PiBPcHRpb24ubWFwKEFyci5maW5kRmlyc3Qoc2VsZiwgKFtrXSkgPT4gayA9PT0ga2V5KSwgKFssIHZhbHVlXSkgPT4gdmFsdWUpKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldExhc3QgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwga2V5KSA9PiBPcHRpb24ubWFwKEFyci5maW5kTGFzdChzZWxmLCAoW2tdKSA9PiBrID09PSBrZXkpLCAoWywgdmFsdWVdKSA9PiB2YWx1ZSkpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2V0ID0gLyojX19QVVJFX18qL2R1YWwoMywgKHNlbGYsIGtleSwgdmFsdWUpID0+IEFyci5hcHBlbmQoQXJyLmZpbHRlcihzZWxmLCAoW2tdKSA9PiBrICE9PSBrZXkpLCBba2V5LCBTdHJpbmcodmFsdWUpXSkpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3Qgc2V0QWxsID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGlucHV0KSA9PiB7XG4gIGNvbnN0IHRvU2V0ID0gZnJvbUlucHV0KGlucHV0KTtcbiAgY29uc3Qga2V5cyA9IHRvU2V0Lm1hcCgoW2tdKSA9PiBrKTtcbiAgcmV0dXJuIEFyci5hcHBlbmRBbGwoQXJyLmZpbHRlcihzZWxmLCAoW2tdKSA9PiBrZXlzLmluY2x1ZGVzKGspKSwgdG9TZXQpO1xufSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbWJpbmF0b3JzXG4gKi9cbmV4cG9ydCBjb25zdCBhcHBlbmQgPSAvKiNfX1BVUkVfXyovZHVhbCgzLCAoc2VsZiwga2V5LCB2YWx1ZSkgPT4gQXJyLmFwcGVuZChzZWxmLCBba2V5LCBTdHJpbmcodmFsdWUpXSkpO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBjb21iaW5hdG9yc1xuICovXG5leHBvcnQgY29uc3QgYXBwZW5kQWxsID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGlucHV0KSA9PiBBcnIuYXBwZW5kQWxsKHNlbGYsIGZyb21JbnB1dChpbnB1dCkpKTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29tYmluYXRvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZSA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBrZXkpID0+IEFyci5maWx0ZXIoc2VsZiwgKFtrXSkgPT4gayAhPT0ga2V5KSk7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnZlcnNpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlVXJsID0gKHVybCwgcGFyYW1zLCBoYXNoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsSW5zdGFuY2UgPSBuZXcgVVJMKHVybCwgYmFzZVVybCgpKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gcGFyYW1zW2ldO1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXJsSW5zdGFuY2Uuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhhc2guX3RhZyA9PT0gXCJTb21lXCIpIHtcbiAgICAgIHVybEluc3RhbmNlLmhhc2ggPSBoYXNoLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gRWl0aGVyLnJpZ2h0KHVybEluc3RhbmNlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBFaXRoZXIubGVmdChlKTtcbiAgfVxufTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgY29udmVyc2lvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IHRvU3RyaW5nID0gc2VsZiA9PiBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlbGYpLnRvU3RyaW5nKCk7XG5jb25zdCBiYXNlVXJsID0gKCkgPT4ge1xuICBpZiAoXCJsb2NhdGlvblwiIGluIGdsb2JhbFRoaXMgJiYgZ2xvYmFsVGhpcy5sb2NhdGlvbiAhPT0gdW5kZWZpbmVkICYmIGdsb2JhbFRoaXMubG9jYXRpb24ub3JpZ2luICE9PSB1bmRlZmluZWQgJiYgZ2xvYmFsVGhpcy5sb2NhdGlvbi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGxvY2F0aW9uLm9yaWdpbiArIGxvY2F0aW9uLnBhdGhuYW1lO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuLyoqXG4gKiBCdWlsZHMgYSBgUmVjb3JkYCBjb250YWluaW5nIGFsbCB0aGUga2V5LXZhbHVlIHBhaXJzIGluIHRoZSBnaXZlbiBgVXJsUGFyYW1zYFxuICogYXMgYHN0cmluZ2AgKGlmIG9ubHkgb25lIHZhbHVlIGZvciBhIGtleSkgb3IgYSBgTm9uRW1wdHlBcnJheTxzdHJpbmc+YFxuICogKHdoZW4gbW9yZSB0aGFuIG9uZSB2YWx1ZSBmb3IgYSBrZXkpXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBVcmxQYXJhbXMgfSBmcm9tIFwiQGVmZmVjdC9wbGF0Zm9ybVwiXG4gKlxuICogY29uc3QgdXJsUGFyYW1zID0gVXJsUGFyYW1zLmZyb21JbnB1dCh7IGE6IDEsIGI6IHRydWUsIGM6IFwic3RyaW5nXCIsIGU6IFsxLCAyLCAzXSB9KVxuICogY29uc3QgcmVzdWx0ID0gVXJsUGFyYW1zLnRvUmVjb3JkKHVybFBhcmFtcylcbiAqXG4gKiBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKFxuICogICByZXN1bHQsXG4gKiAgIHsgXCJhXCI6IFwiMVwiLCBcImJcIjogXCJ0cnVlXCIsIFwiY1wiOiBcInN0cmluZ1wiLCBcImVcIjogW1wiMVwiLCBcIjJcIiwgXCIzXCJdIH1cbiAqIClcbiAqIGBgYFxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IGNvbnZlcnNpb25zXG4gKi9cbmV4cG9ydCBjb25zdCB0b1JlY29yZCA9IHNlbGYgPT4ge1xuICBjb25zdCBvdXQgPSB7fTtcbiAgZm9yIChjb25zdCBbaywgdmFsdWVdIG9mIHNlbGYpIHtcbiAgICBjb25zdCBjdXJyID0gb3V0W2tdO1xuICAgIGlmIChjdXJyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG91dFtrXSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGN1cnIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG91dFtrXSA9IFtjdXJyLCB2YWx1ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnIucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBzY2hlbWFcbiAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUpzb24gPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlID0gU2NoZW1hLmRlY29kZVVua25vd24oU2NoZW1hLnBhcnNlSnNvbihzY2hlbWEpLCBvcHRpb25zKTtcbiAgcmV0dXJuIGR1YWwoMiwgKHNlbGYsIGZpZWxkKSA9PiBwYXJzZShPcHRpb24uZ2V0T3JFbHNlKGdldExhc3Qoc2VsZiwgZmllbGQpLCAoKSA9PiBcIlwiKSkpO1xufTtcbi8qKlxuICogRXh0cmFjdCBzY2hlbWEgZnJvbSBhbGwga2V5LXZhbHVlIHBhaXJzIGluIHRoZSBnaXZlbiBgVXJsUGFyYW1zYC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGltcG9ydCB7IEVmZmVjdCwgU2NoZW1hIH0gZnJvbSBcImVmZmVjdFwiXG4gKiBpbXBvcnQgeyBVcmxQYXJhbXMgfSBmcm9tIFwiQGVmZmVjdC9wbGF0Zm9ybVwiXG4gKlxuICogRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuICogICBjb25zdCB1cmxQYXJhbXMgPSBVcmxQYXJhbXMuZnJvbUlucHV0KHsgXCJhXCI6IFsxMCwgXCJzdHJpbmdcIl0sIFwiYlwiOiBmYWxzZSB9KVxuICogICBjb25zdCByZXN1bHQgPSB5aWVsZCogVXJsUGFyYW1zLnNjaGVtYVN0cnVjdChTY2hlbWEuU3RydWN0KHtcbiAqICAgICBhOiBTY2hlbWEuVHVwbGUoU2NoZW1hLk51bWJlckZyb21TdHJpbmcsIFNjaGVtYS5TdHJpbmcpLFxuICogICAgIGI6IFNjaGVtYS5Cb29sZWFuRnJvbVN0cmluZ1xuICogICB9KSkodXJsUGFyYW1zKVxuICpcbiAqICAgYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbChyZXN1bHQsIHtcbiAqICAgICBhOiBbMTAsIFwic3RyaW5nXCJdLFxuICogICAgIGI6IGZhbHNlXG4gKiAgIH0pXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFTdHJ1Y3QgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiBzZWxmID0+IHtcbiAgY29uc3QgcGFyc2UgPSBTY2hlbWEuZGVjb2RlVW5rbm93bihzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gcGFyc2UodG9SZWNvcmQoc2VsZikpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVybFBhcmFtcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/error.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/error.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PlatformErrorTypeId: () => (/* binding */ PlatformErrorTypeId),\n/* harmony export */   badArgument: () => (/* binding */ badArgument),\n/* harmony export */   systemError: () => (/* binding */ systemError)\n/* harmony export */ });\n/* harmony import */ var effect_Data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Data */ \"(rsc)/../../node_modules/effect/dist/esm/Data.js\");\n\n/** @internal */\nconst PlatformErrorTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Error/PlatformErrorTypeId\");\nconst make = tag => props => effect_Data__WEBPACK_IMPORTED_MODULE_0__.struct({\n  [PlatformErrorTypeId]: PlatformErrorTypeId,\n  _tag: tag,\n  ...props\n});\n/** @internal */\nconst badArgument = /*#__PURE__*/make(\"BadArgument\");\n/** @internal */\nconst systemError = /*#__PURE__*/make(\"SystemError\");\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvZXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvQztBQUNwQztBQUNPO0FBQ1AsNkJBQTZCLCtDQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL2ludGVybmFsL2Vycm9yLmpzP2FlNGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgRGF0YSBmcm9tIFwiZWZmZWN0L0RhdGFcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBQbGF0Zm9ybUVycm9yVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0Vycm9yL1BsYXRmb3JtRXJyb3JUeXBlSWRcIik7XG5jb25zdCBtYWtlID0gdGFnID0+IHByb3BzID0+IERhdGEuc3RydWN0KHtcbiAgW1BsYXRmb3JtRXJyb3JUeXBlSWRdOiBQbGF0Zm9ybUVycm9yVHlwZUlkLFxuICBfdGFnOiB0YWcsXG4gIC4uLnByb3BzXG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBiYWRBcmd1bWVudCA9IC8qI19fUFVSRV9fKi9tYWtlKFwiQmFkQXJndW1lbnRcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc3lzdGVtRXJyb3IgPSAvKiNfX1BVUkVfXyovbWFrZShcIlN5c3RlbUVycm9yXCIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/error.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/etag.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/etag.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeneratorTypeId: () => (/* binding */ GeneratorTypeId),\n/* harmony export */   layer: () => (/* binding */ layer),\n/* harmony export */   layerWeak: () => (/* binding */ layerWeak),\n/* harmony export */   tag: () => (/* binding */ tag),\n/* harmony export */   toString: () => (/* binding */ toString)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n\n\n\n/** @internal */\nconst GeneratorTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Etag/Generator\");\n/** @internal */\nconst tag = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@effect/platform/Etag/Generator\");\n/** @internal */\nconst toString = self => {\n  switch (self._tag) {\n    case \"Weak\":\n      return `W/\"${self.value}\"`;\n    case \"Strong\":\n      return `\"${self.value}\"`;\n  }\n};\nconst fromFileInfo = info => {\n  const mtime = info.mtime._tag === \"Some\" ? info.mtime.value.getTime().toString(16) : \"0\";\n  return `${info.size.toString(16)}-${mtime}`;\n};\nconst fromFileWeb = file => {\n  return `${file.size.toString(16)}-${file.lastModified.toString(16)}`;\n};\n/** @internal */\nconst layer = /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_1__.succeed(tag, /*#__PURE__*/tag.of({\n  [GeneratorTypeId]: GeneratorTypeId,\n  fromFileInfo(info) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => ({\n      _tag: \"Strong\",\n      value: fromFileInfo(info)\n    }));\n  },\n  fromFileWeb(file) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => ({\n      _tag: \"Strong\",\n      value: fromFileWeb(file)\n    }));\n  }\n}));\n/** @internal */\nconst layerWeak = /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_1__.succeed(tag, /*#__PURE__*/tag.of({\n  [GeneratorTypeId]: GeneratorTypeId,\n  fromFileInfo(info) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => ({\n      _tag: \"Weak\",\n      value: fromFileInfo(info)\n    }));\n  },\n  fromFileWeb(file) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => ({\n      _tag: \"Weak\",\n      value: fromFileWeb(file)\n    }));\n  }\n}));\n//# sourceMappingURL=etag.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvZXRhZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEwQztBQUNGO0FBQ0Y7QUFDdEM7QUFDTztBQUNQO0FBQ08seUJBQXlCLHNEQUFrQjtBQUNsRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLG1CQUFtQixXQUFXO0FBQzlCO0FBQ0EsaUJBQWlCLFdBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVCQUF1QixHQUFHLE1BQU07QUFDNUM7QUFDQTtBQUNBLFlBQVksdUJBQXVCLEdBQUcsK0JBQStCO0FBQ3JFO0FBQ0E7QUFDTywyQkFBMkIsaURBQWE7QUFDL0M7QUFDQTtBQUNBLFdBQVcsK0NBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxXQUFXLCtDQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7QUFDTywrQkFBK0IsaURBQWE7QUFDbkQ7QUFDQTtBQUNBLFdBQVcsK0NBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxXQUFXLCtDQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvZXRhZy5qcz9iOTQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIExheWVyIGZyb20gXCJlZmZlY3QvTGF5ZXJcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBHZW5lcmF0b3JUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vRXRhZy9HZW5lcmF0b3JcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdGFnID0gLyojX19QVVJFX18qL0NvbnRleHQuR2VuZXJpY1RhZyhcIkBlZmZlY3QvcGxhdGZvcm0vRXRhZy9HZW5lcmF0b3JcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdG9TdHJpbmcgPSBzZWxmID0+IHtcbiAgc3dpdGNoIChzZWxmLl90YWcpIHtcbiAgICBjYXNlIFwiV2Vha1wiOlxuICAgICAgcmV0dXJuIGBXL1wiJHtzZWxmLnZhbHVlfVwiYDtcbiAgICBjYXNlIFwiU3Ryb25nXCI6XG4gICAgICByZXR1cm4gYFwiJHtzZWxmLnZhbHVlfVwiYDtcbiAgfVxufTtcbmNvbnN0IGZyb21GaWxlSW5mbyA9IGluZm8gPT4ge1xuICBjb25zdCBtdGltZSA9IGluZm8ubXRpbWUuX3RhZyA9PT0gXCJTb21lXCIgPyBpbmZvLm10aW1lLnZhbHVlLmdldFRpbWUoKS50b1N0cmluZygxNikgOiBcIjBcIjtcbiAgcmV0dXJuIGAke2luZm8uc2l6ZS50b1N0cmluZygxNil9LSR7bXRpbWV9YDtcbn07XG5jb25zdCBmcm9tRmlsZVdlYiA9IGZpbGUgPT4ge1xuICByZXR1cm4gYCR7ZmlsZS5zaXplLnRvU3RyaW5nKDE2KX0tJHtmaWxlLmxhc3RNb2RpZmllZC50b1N0cmluZygxNil9YDtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbGF5ZXIgPSAvKiNfX1BVUkVfXyovTGF5ZXIuc3VjY2VlZCh0YWcsIC8qI19fUFVSRV9fKi90YWcub2Yoe1xuICBbR2VuZXJhdG9yVHlwZUlkXTogR2VuZXJhdG9yVHlwZUlkLFxuICBmcm9tRmlsZUluZm8oaW5mbykge1xuICAgIHJldHVybiBFZmZlY3Quc3luYygoKSA9PiAoe1xuICAgICAgX3RhZzogXCJTdHJvbmdcIixcbiAgICAgIHZhbHVlOiBmcm9tRmlsZUluZm8oaW5mbylcbiAgICB9KSk7XG4gIH0sXG4gIGZyb21GaWxlV2ViKGZpbGUpIHtcbiAgICByZXR1cm4gRWZmZWN0LnN5bmMoKCkgPT4gKHtcbiAgICAgIF90YWc6IFwiU3Ryb25nXCIsXG4gICAgICB2YWx1ZTogZnJvbUZpbGVXZWIoZmlsZSlcbiAgICB9KSk7XG4gIH1cbn0pKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBsYXllcldlYWsgPSAvKiNfX1BVUkVfXyovTGF5ZXIuc3VjY2VlZCh0YWcsIC8qI19fUFVSRV9fKi90YWcub2Yoe1xuICBbR2VuZXJhdG9yVHlwZUlkXTogR2VuZXJhdG9yVHlwZUlkLFxuICBmcm9tRmlsZUluZm8oaW5mbykge1xuICAgIHJldHVybiBFZmZlY3Quc3luYygoKSA9PiAoe1xuICAgICAgX3RhZzogXCJXZWFrXCIsXG4gICAgICB2YWx1ZTogZnJvbUZpbGVJbmZvKGluZm8pXG4gICAgfSkpO1xuICB9LFxuICBmcm9tRmlsZVdlYihmaWxlKSB7XG4gICAgcmV0dXJuIEVmZmVjdC5zeW5jKCgpID0+ICh7XG4gICAgICBfdGFnOiBcIldlYWtcIixcbiAgICAgIHZhbHVlOiBmcm9tRmlsZVdlYihmaWxlKVxuICAgIH0pKTtcbiAgfVxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXRhZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/etag.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/fileSystem.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/fileSystem.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GiB: () => (/* binding */ GiB),\n/* harmony export */   KiB: () => (/* binding */ KiB),\n/* harmony export */   MiB: () => (/* binding */ MiB),\n/* harmony export */   PiB: () => (/* binding */ PiB),\n/* harmony export */   Size: () => (/* binding */ Size),\n/* harmony export */   TiB: () => (/* binding */ TiB),\n/* harmony export */   layerNoop: () => (/* binding */ layerNoop),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeNoop: () => (/* binding */ makeNoop),\n/* harmony export */   tag: () => (/* binding */ tag)\n/* harmony export */ });\n/* harmony import */ var effect_Channel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Channel */ \"(rsc)/../../node_modules/effect/dist/esm/Channel.js\");\n/* harmony import */ var effect_Chunk__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Chunk */ \"(rsc)/../../node_modules/effect/dist/esm/Chunk.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Sink__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Sink */ \"(rsc)/../../node_modules/effect/dist/esm/Sink.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Error.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js\");\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst tag = /*#__PURE__*/(0,effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag)(\"@effect/platform/FileSystem\");\n/** @internal */\nconst Size = bytes => typeof bytes === \"bigint\" ? bytes : BigInt(bytes);\n/** @internal */\nconst KiB = n => Size(n * 1024);\n/** @internal */\nconst MiB = n => Size(n * 1024 * 1024);\n/** @internal */\nconst GiB = n => Size(n * 1024 * 1024 * 1024);\n/** @internal */\nconst TiB = n => Size(n * 1024 * 1024 * 1024 * 1024);\nconst bigint1024 = /*#__PURE__*/BigInt(1024);\nconst bigintPiB = bigint1024 * bigint1024 * bigint1024 * bigint1024 * bigint1024;\n/** @internal */\nconst PiB = n => Size(BigInt(n) * bigintPiB);\n/** @internal */\nconst make = impl => {\n  return tag.of({\n    ...impl,\n    exists: path => (0,effect_Function__WEBPACK_IMPORTED_MODULE_1__.pipe)(impl.access(path), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.as(true), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchTag(\"SystemError\", e => e.reason === \"NotFound\" ? effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(false) : effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(e))),\n    readFileString: (path, encoding) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.tryMap(impl.readFile(path), {\n      try: _ => new TextDecoder(encoding).decode(_),\n      catch: () => _Error_js__WEBPACK_IMPORTED_MODULE_3__.BadArgument({\n        module: \"FileSystem\",\n        method: \"readFileString\",\n        message: \"invalid encoding\"\n      })\n    }),\n    stream: (path, options) => (0,effect_Function__WEBPACK_IMPORTED_MODULE_1__.pipe)(impl.open(path, {\n      flag: \"r\"\n    }), options?.offset ? effect_Effect__WEBPACK_IMPORTED_MODULE_2__.tap(file => file.seek(options.offset, \"start\")) : effect_Function__WEBPACK_IMPORTED_MODULE_1__.identity, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(file => stream(file, options)), effect_Stream__WEBPACK_IMPORTED_MODULE_4__.unwrapScoped),\n    sink: (path, options) => (0,effect_Function__WEBPACK_IMPORTED_MODULE_1__.pipe)(impl.open(path, {\n      flag: \"w\",\n      ...options\n    }), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(file => effect_Sink__WEBPACK_IMPORTED_MODULE_5__.forEach(_ => file.writeAll(_))), effect_Sink__WEBPACK_IMPORTED_MODULE_5__.unwrapScoped),\n    writeFileString: (path, data, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_2__[\"try\"]({\n      try: () => new TextEncoder().encode(data),\n      catch: () => _Error_js__WEBPACK_IMPORTED_MODULE_3__.BadArgument({\n        module: \"FileSystem\",\n        method: \"writeFileString\",\n        message: \"could not encode string\"\n      })\n    }), _ => impl.writeFile(path, _, options))\n  });\n};\nconst notFound = (method, path) => _Error_js__WEBPACK_IMPORTED_MODULE_3__.SystemError({\n  module: \"FileSystem\",\n  method,\n  reason: \"NotFound\",\n  message: \"No such file or directory\",\n  pathOrDescriptor: path\n});\n/** @internal */\nconst makeNoop = fileSystem => {\n  return {\n    access(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"access\", path));\n    },\n    chmod(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"chmod\", path));\n    },\n    chown(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"chown\", path));\n    },\n    copy(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"copy\", path));\n    },\n    copyFile(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"copyFile\", path));\n    },\n    exists() {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(false);\n    },\n    link(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"link\", path));\n    },\n    makeDirectory() {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.die(\"not implemented\");\n    },\n    makeTempDirectory() {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.die(\"not implemented\");\n    },\n    makeTempDirectoryScoped() {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.die(\"not implemented\");\n    },\n    makeTempFile() {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.die(\"not implemented\");\n    },\n    makeTempFileScoped() {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.die(\"not implemented\");\n    },\n    open(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"open\", path));\n    },\n    readDirectory(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"readDirectory\", path));\n    },\n    readFile(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"readFile\", path));\n    },\n    readFileString(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"readFileString\", path));\n    },\n    readLink(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"readLink\", path));\n    },\n    realPath(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"realPath\", path));\n    },\n    remove() {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__[\"void\"];\n    },\n    rename(oldPath) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"rename\", oldPath));\n    },\n    sink(path) {\n      return effect_Sink__WEBPACK_IMPORTED_MODULE_5__.fail(notFound(\"sink\", path));\n    },\n    stat(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"stat\", path));\n    },\n    stream(path) {\n      return effect_Stream__WEBPACK_IMPORTED_MODULE_4__.fail(notFound(\"stream\", path));\n    },\n    symlink(fromPath) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"symlink\", fromPath));\n    },\n    truncate(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"truncate\", path));\n    },\n    utimes(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"utimes\", path));\n    },\n    watch(path) {\n      return effect_Stream__WEBPACK_IMPORTED_MODULE_4__.fail(notFound(\"watch\", path));\n    },\n    writeFile(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"writeFile\", path));\n    },\n    writeFileString(path) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(notFound(\"writeFileString\", path));\n    },\n    ...fileSystem\n  };\n};\n/** @internal */\nconst layerNoop = fileSystem => effect_Layer__WEBPACK_IMPORTED_MODULE_6__.succeed(tag, makeNoop(fileSystem));\n/** @internal */\nconst stream = (file, {\n  bufferSize = 16,\n  bytesToRead: bytesToRead_,\n  chunkSize: chunkSize_ = Size(64 * 1024)\n} = {}) => {\n  const bytesToRead = bytesToRead_ !== undefined ? Size(bytesToRead_) : undefined;\n  const chunkSize = Size(chunkSize_);\n  function loop(totalBytesRead) {\n    if (bytesToRead !== undefined && bytesToRead <= totalBytesRead) {\n      return effect_Channel__WEBPACK_IMPORTED_MODULE_7__[\"void\"];\n    }\n    const toRead = bytesToRead !== undefined && bytesToRead - totalBytesRead < chunkSize ? bytesToRead - totalBytesRead : chunkSize;\n    return effect_Channel__WEBPACK_IMPORTED_MODULE_7__.flatMap(file.readAlloc(toRead), effect_Option__WEBPACK_IMPORTED_MODULE_8__.match({\n      onNone: () => effect_Channel__WEBPACK_IMPORTED_MODULE_7__[\"void\"],\n      onSome: buf => effect_Channel__WEBPACK_IMPORTED_MODULE_7__.flatMap(effect_Channel__WEBPACK_IMPORTED_MODULE_7__.write(effect_Chunk__WEBPACK_IMPORTED_MODULE_9__.of(buf)), _ => loop(totalBytesRead + BigInt(buf.length)))\n    }));\n  }\n  return effect_Stream__WEBPACK_IMPORTED_MODULE_4__.bufferChunks(effect_Stream__WEBPACK_IMPORTED_MODULE_4__.fromChannel(loop(BigInt(0))), {\n    capacity: bufferSize\n  });\n};\n//# sourceMappingURL=fileSystem.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvZmlsZVN5c3RlbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNKO0FBQ007QUFDSjtBQUNTO0FBQ1g7QUFDRTtBQUNKO0FBQ0k7QUFDSDtBQUNyQztBQUNPLHlCQUF5QiwwREFBVTtBQUMxQztBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ0E7QUFDQSxvQkFBb0IscURBQUksb0JBQW9CLDZDQUFTLFFBQVEsbURBQWUsK0NBQStDLGtEQUFjLFVBQVUsK0NBQVc7QUFDOUosd0NBQXdDLGlEQUFhO0FBQ3JEO0FBQ0EsbUJBQW1CLGtEQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLCtCQUErQixxREFBSTtBQUNuQztBQUNBLEtBQUsscUJBQXFCLDhDQUFVLCtDQUErQyxxREFBUSxFQUFFLDhDQUFVLGlDQUFpQyx1REFBbUI7QUFDM0osNkJBQTZCLHFEQUFJO0FBQ2pDO0FBQ0E7QUFDQSxLQUFLLEdBQUcsOENBQVUsU0FBUyxnREFBWSwwQkFBMEIscURBQWlCO0FBQ2xGLDhDQUE4QyxrREFBYyxDQUFDLGlEQUFVO0FBQ3ZFO0FBQ0EsbUJBQW1CLGtEQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLG1DQUFtQyxrREFBaUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGFBQWEsK0NBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QixLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QixLQUFLO0FBQ0w7QUFDQSxhQUFhLGtEQUFjO0FBQzNCLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0EsYUFBYSw4Q0FBVTtBQUN2QixLQUFLO0FBQ0w7QUFDQSxhQUFhLDhDQUFVO0FBQ3ZCLEtBQUs7QUFDTDtBQUNBLGFBQWEsOENBQVU7QUFDdkIsS0FBSztBQUNMO0FBQ0EsYUFBYSw4Q0FBVTtBQUN2QixLQUFLO0FBQ0w7QUFDQSxhQUFhLDhDQUFVO0FBQ3ZCLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QixLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QixLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCLEtBQUs7QUFDTDtBQUNBLGFBQWEsa0RBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QixLQUFLO0FBQ0w7QUFDQSxhQUFhLDZDQUFTO0FBQ3RCLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QixLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QixLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEIsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTyxnQ0FBZ0MsaURBQWE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsSUFBSTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtREFBWTtBQUN6QjtBQUNBO0FBQ0EsV0FBVyxtREFBZSx5QkFBeUIsZ0RBQVk7QUFDL0Qsb0JBQW9CLG1EQUFZO0FBQ2hDLHFCQUFxQixtREFBZSxDQUFDLGlEQUFhLENBQUMsNENBQVE7QUFDM0QsS0FBSztBQUNMO0FBQ0EsU0FBUyx1REFBbUIsQ0FBQyxzREFBa0I7QUFDL0M7QUFDQSxHQUFHO0FBQ0g7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9pbnRlcm5hbC9maWxlU3lzdGVtLmpzPzM5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ2hhbm5lbCBmcm9tIFwiZWZmZWN0L0NoYW5uZWxcIjtcbmltcG9ydCAqIGFzIENodW5rIGZyb20gXCJlZmZlY3QvQ2h1bmtcIjtcbmltcG9ydCB7IEdlbmVyaWNUYWcgfSBmcm9tIFwiZWZmZWN0L0NvbnRleHRcIjtcbmltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0IHsgaWRlbnRpdHksIHBpcGUgfSBmcm9tIFwiZWZmZWN0L0Z1bmN0aW9uXCI7XG5pbXBvcnQgKiBhcyBMYXllciBmcm9tIFwiZWZmZWN0L0xheWVyXCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCAqIGFzIFNpbmsgZnJvbSBcImVmZmVjdC9TaW5rXCI7XG5pbXBvcnQgKiBhcyBTdHJlYW0gZnJvbSBcImVmZmVjdC9TdHJlYW1cIjtcbmltcG9ydCAqIGFzIEVycm9yIGZyb20gXCIuLi9FcnJvci5qc1wiO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHRhZyA9IC8qI19fUFVSRV9fKi9HZW5lcmljVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9GaWxlU3lzdGVtXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFNpemUgPSBieXRlcyA9PiB0eXBlb2YgYnl0ZXMgPT09IFwiYmlnaW50XCIgPyBieXRlcyA6IEJpZ0ludChieXRlcyk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgS2lCID0gbiA9PiBTaXplKG4gKiAxMDI0KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBNaUIgPSBuID0+IFNpemUobiAqIDEwMjQgKiAxMDI0KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBHaUIgPSBuID0+IFNpemUobiAqIDEwMjQgKiAxMDI0ICogMTAyNCk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgVGlCID0gbiA9PiBTaXplKG4gKiAxMDI0ICogMTAyNCAqIDEwMjQgKiAxMDI0KTtcbmNvbnN0IGJpZ2ludDEwMjQgPSAvKiNfX1BVUkVfXyovQmlnSW50KDEwMjQpO1xuY29uc3QgYmlnaW50UGlCID0gYmlnaW50MTAyNCAqIGJpZ2ludDEwMjQgKiBiaWdpbnQxMDI0ICogYmlnaW50MTAyNCAqIGJpZ2ludDEwMjQ7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgUGlCID0gbiA9PiBTaXplKEJpZ0ludChuKSAqIGJpZ2ludFBpQik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbWFrZSA9IGltcGwgPT4ge1xuICByZXR1cm4gdGFnLm9mKHtcbiAgICAuLi5pbXBsLFxuICAgIGV4aXN0czogcGF0aCA9PiBwaXBlKGltcGwuYWNjZXNzKHBhdGgpLCBFZmZlY3QuYXModHJ1ZSksIEVmZmVjdC5jYXRjaFRhZyhcIlN5c3RlbUVycm9yXCIsIGUgPT4gZS5yZWFzb24gPT09IFwiTm90Rm91bmRcIiA/IEVmZmVjdC5zdWNjZWVkKGZhbHNlKSA6IEVmZmVjdC5mYWlsKGUpKSksXG4gICAgcmVhZEZpbGVTdHJpbmc6IChwYXRoLCBlbmNvZGluZykgPT4gRWZmZWN0LnRyeU1hcChpbXBsLnJlYWRGaWxlKHBhdGgpLCB7XG4gICAgICB0cnk6IF8gPT4gbmV3IFRleHREZWNvZGVyKGVuY29kaW5nKS5kZWNvZGUoXyksXG4gICAgICBjYXRjaDogKCkgPT4gRXJyb3IuQmFkQXJndW1lbnQoe1xuICAgICAgICBtb2R1bGU6IFwiRmlsZVN5c3RlbVwiLFxuICAgICAgICBtZXRob2Q6IFwicmVhZEZpbGVTdHJpbmdcIixcbiAgICAgICAgbWVzc2FnZTogXCJpbnZhbGlkIGVuY29kaW5nXCJcbiAgICAgIH0pXG4gICAgfSksXG4gICAgc3RyZWFtOiAocGF0aCwgb3B0aW9ucykgPT4gcGlwZShpbXBsLm9wZW4ocGF0aCwge1xuICAgICAgZmxhZzogXCJyXCJcbiAgICB9KSwgb3B0aW9ucz8ub2Zmc2V0ID8gRWZmZWN0LnRhcChmaWxlID0+IGZpbGUuc2VlayhvcHRpb25zLm9mZnNldCwgXCJzdGFydFwiKSkgOiBpZGVudGl0eSwgRWZmZWN0Lm1hcChmaWxlID0+IHN0cmVhbShmaWxlLCBvcHRpb25zKSksIFN0cmVhbS51bndyYXBTY29wZWQpLFxuICAgIHNpbms6IChwYXRoLCBvcHRpb25zKSA9PiBwaXBlKGltcGwub3BlbihwYXRoLCB7XG4gICAgICBmbGFnOiBcIndcIixcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9KSwgRWZmZWN0Lm1hcChmaWxlID0+IFNpbmsuZm9yRWFjaChfID0+IGZpbGUud3JpdGVBbGwoXykpKSwgU2luay51bndyYXBTY29wZWQpLFxuICAgIHdyaXRlRmlsZVN0cmluZzogKHBhdGgsIGRhdGEsIG9wdGlvbnMpID0+IEVmZmVjdC5mbGF0TWFwKEVmZmVjdC50cnkoe1xuICAgICAgdHJ5OiAoKSA9PiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoZGF0YSksXG4gICAgICBjYXRjaDogKCkgPT4gRXJyb3IuQmFkQXJndW1lbnQoe1xuICAgICAgICBtb2R1bGU6IFwiRmlsZVN5c3RlbVwiLFxuICAgICAgICBtZXRob2Q6IFwid3JpdGVGaWxlU3RyaW5nXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiY291bGQgbm90IGVuY29kZSBzdHJpbmdcIlxuICAgICAgfSlcbiAgICB9KSwgXyA9PiBpbXBsLndyaXRlRmlsZShwYXRoLCBfLCBvcHRpb25zKSlcbiAgfSk7XG59O1xuY29uc3Qgbm90Rm91bmQgPSAobWV0aG9kLCBwYXRoKSA9PiBFcnJvci5TeXN0ZW1FcnJvcih7XG4gIG1vZHVsZTogXCJGaWxlU3lzdGVtXCIsXG4gIG1ldGhvZCxcbiAgcmVhc29uOiBcIk5vdEZvdW5kXCIsXG4gIG1lc3NhZ2U6IFwiTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeVwiLFxuICBwYXRoT3JEZXNjcmlwdG9yOiBwYXRoXG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBtYWtlTm9vcCA9IGZpbGVTeXN0ZW0gPT4ge1xuICByZXR1cm4ge1xuICAgIGFjY2VzcyhwYXRoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmZhaWwobm90Rm91bmQoXCJhY2Nlc3NcIiwgcGF0aCkpO1xuICAgIH0sXG4gICAgY2htb2QocGF0aCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mYWlsKG5vdEZvdW5kKFwiY2htb2RcIiwgcGF0aCkpO1xuICAgIH0sXG4gICAgY2hvd24ocGF0aCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mYWlsKG5vdEZvdW5kKFwiY2hvd25cIiwgcGF0aCkpO1xuICAgIH0sXG4gICAgY29weShwYXRoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmZhaWwobm90Rm91bmQoXCJjb3B5XCIsIHBhdGgpKTtcbiAgICB9LFxuICAgIGNvcHlGaWxlKHBhdGgpIHtcbiAgICAgIHJldHVybiBFZmZlY3QuZmFpbChub3RGb3VuZChcImNvcHlGaWxlXCIsIHBhdGgpKTtcbiAgICB9LFxuICAgIGV4aXN0cygpIHtcbiAgICAgIHJldHVybiBFZmZlY3Quc3VjY2VlZChmYWxzZSk7XG4gICAgfSxcbiAgICBsaW5rKHBhdGgpIHtcbiAgICAgIHJldHVybiBFZmZlY3QuZmFpbChub3RGb3VuZChcImxpbmtcIiwgcGF0aCkpO1xuICAgIH0sXG4gICAgbWFrZURpcmVjdG9yeSgpIHtcbiAgICAgIHJldHVybiBFZmZlY3QuZGllKFwibm90IGltcGxlbWVudGVkXCIpO1xuICAgIH0sXG4gICAgbWFrZVRlbXBEaXJlY3RvcnkoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmRpZShcIm5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICB9LFxuICAgIG1ha2VUZW1wRGlyZWN0b3J5U2NvcGVkKCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5kaWUoXCJub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfSxcbiAgICBtYWtlVGVtcEZpbGUoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmRpZShcIm5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICB9LFxuICAgIG1ha2VUZW1wRmlsZVNjb3BlZCgpIHtcbiAgICAgIHJldHVybiBFZmZlY3QuZGllKFwibm90IGltcGxlbWVudGVkXCIpO1xuICAgIH0sXG4gICAgb3BlbihwYXRoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmZhaWwobm90Rm91bmQoXCJvcGVuXCIsIHBhdGgpKTtcbiAgICB9LFxuICAgIHJlYWREaXJlY3RvcnkocGF0aCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mYWlsKG5vdEZvdW5kKFwicmVhZERpcmVjdG9yeVwiLCBwYXRoKSk7XG4gICAgfSxcbiAgICByZWFkRmlsZShwYXRoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmZhaWwobm90Rm91bmQoXCJyZWFkRmlsZVwiLCBwYXRoKSk7XG4gICAgfSxcbiAgICByZWFkRmlsZVN0cmluZyhwYXRoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmZhaWwobm90Rm91bmQoXCJyZWFkRmlsZVN0cmluZ1wiLCBwYXRoKSk7XG4gICAgfSxcbiAgICByZWFkTGluayhwYXRoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmZhaWwobm90Rm91bmQoXCJyZWFkTGlua1wiLCBwYXRoKSk7XG4gICAgfSxcbiAgICByZWFsUGF0aChwYXRoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmZhaWwobm90Rm91bmQoXCJyZWFsUGF0aFwiLCBwYXRoKSk7XG4gICAgfSxcbiAgICByZW1vdmUoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LnZvaWQ7XG4gICAgfSxcbiAgICByZW5hbWUob2xkUGF0aCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mYWlsKG5vdEZvdW5kKFwicmVuYW1lXCIsIG9sZFBhdGgpKTtcbiAgICB9LFxuICAgIHNpbmsocGF0aCkge1xuICAgICAgcmV0dXJuIFNpbmsuZmFpbChub3RGb3VuZChcInNpbmtcIiwgcGF0aCkpO1xuICAgIH0sXG4gICAgc3RhdChwYXRoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmZhaWwobm90Rm91bmQoXCJzdGF0XCIsIHBhdGgpKTtcbiAgICB9LFxuICAgIHN0cmVhbShwYXRoKSB7XG4gICAgICByZXR1cm4gU3RyZWFtLmZhaWwobm90Rm91bmQoXCJzdHJlYW1cIiwgcGF0aCkpO1xuICAgIH0sXG4gICAgc3ltbGluayhmcm9tUGF0aCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mYWlsKG5vdEZvdW5kKFwic3ltbGlua1wiLCBmcm9tUGF0aCkpO1xuICAgIH0sXG4gICAgdHJ1bmNhdGUocGF0aCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mYWlsKG5vdEZvdW5kKFwidHJ1bmNhdGVcIiwgcGF0aCkpO1xuICAgIH0sXG4gICAgdXRpbWVzKHBhdGgpIHtcbiAgICAgIHJldHVybiBFZmZlY3QuZmFpbChub3RGb3VuZChcInV0aW1lc1wiLCBwYXRoKSk7XG4gICAgfSxcbiAgICB3YXRjaChwYXRoKSB7XG4gICAgICByZXR1cm4gU3RyZWFtLmZhaWwobm90Rm91bmQoXCJ3YXRjaFwiLCBwYXRoKSk7XG4gICAgfSxcbiAgICB3cml0ZUZpbGUocGF0aCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mYWlsKG5vdEZvdW5kKFwid3JpdGVGaWxlXCIsIHBhdGgpKTtcbiAgICB9LFxuICAgIHdyaXRlRmlsZVN0cmluZyhwYXRoKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmZhaWwobm90Rm91bmQoXCJ3cml0ZUZpbGVTdHJpbmdcIiwgcGF0aCkpO1xuICAgIH0sXG4gICAgLi4uZmlsZVN5c3RlbVxuICB9O1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBsYXllck5vb3AgPSBmaWxlU3lzdGVtID0+IExheWVyLnN1Y2NlZWQodGFnLCBtYWtlTm9vcChmaWxlU3lzdGVtKSk7XG4vKiogQGludGVybmFsICovXG5jb25zdCBzdHJlYW0gPSAoZmlsZSwge1xuICBidWZmZXJTaXplID0gMTYsXG4gIGJ5dGVzVG9SZWFkOiBieXRlc1RvUmVhZF8sXG4gIGNodW5rU2l6ZTogY2h1bmtTaXplXyA9IFNpemUoNjQgKiAxMDI0KVxufSA9IHt9KSA9PiB7XG4gIGNvbnN0IGJ5dGVzVG9SZWFkID0gYnl0ZXNUb1JlYWRfICE9PSB1bmRlZmluZWQgPyBTaXplKGJ5dGVzVG9SZWFkXykgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGNodW5rU2l6ZSA9IFNpemUoY2h1bmtTaXplXyk7XG4gIGZ1bmN0aW9uIGxvb3AodG90YWxCeXRlc1JlYWQpIHtcbiAgICBpZiAoYnl0ZXNUb1JlYWQgIT09IHVuZGVmaW5lZCAmJiBieXRlc1RvUmVhZCA8PSB0b3RhbEJ5dGVzUmVhZCkge1xuICAgICAgcmV0dXJuIENoYW5uZWwudm9pZDtcbiAgICB9XG4gICAgY29uc3QgdG9SZWFkID0gYnl0ZXNUb1JlYWQgIT09IHVuZGVmaW5lZCAmJiBieXRlc1RvUmVhZCAtIHRvdGFsQnl0ZXNSZWFkIDwgY2h1bmtTaXplID8gYnl0ZXNUb1JlYWQgLSB0b3RhbEJ5dGVzUmVhZCA6IGNodW5rU2l6ZTtcbiAgICByZXR1cm4gQ2hhbm5lbC5mbGF0TWFwKGZpbGUucmVhZEFsbG9jKHRvUmVhZCksIE9wdGlvbi5tYXRjaCh7XG4gICAgICBvbk5vbmU6ICgpID0+IENoYW5uZWwudm9pZCxcbiAgICAgIG9uU29tZTogYnVmID0+IENoYW5uZWwuZmxhdE1hcChDaGFubmVsLndyaXRlKENodW5rLm9mKGJ1ZikpLCBfID0+IGxvb3AodG90YWxCeXRlc1JlYWQgKyBCaWdJbnQoYnVmLmxlbmd0aCkpKVxuICAgIH0pKTtcbiAgfVxuICByZXR1cm4gU3RyZWFtLmJ1ZmZlckNodW5rcyhTdHJlYW0uZnJvbUNoYW5uZWwobG9vcChCaWdJbnQoMCkpKSwge1xuICAgIGNhcGFjaXR5OiBidWZmZXJTaXplXG4gIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVTeXN0ZW0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/fileSystem.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpApp.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpApp.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appendPreResponseHandler: () => (/* binding */ appendPreResponseHandler),\n/* harmony export */   currentPreResponseHandlers: () => (/* binding */ currentPreResponseHandlers),\n/* harmony export */   withPreResponseHandler: () => (/* binding */ withPreResponseHandler)\n/* harmony export */ });\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n\n\n\n\n\n/** @internal */\nconst currentPreResponseHandlers = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_0__.globalValue)( /*#__PURE__*/Symbol.for(\"@effect/platform/HttpApp/preResponseHandlers\"), () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_1__.unsafeMake(effect_Option__WEBPACK_IMPORTED_MODULE_2__.none()));\n/** @internal */\nconst appendPreResponseHandler = handler => effect_FiberRef__WEBPACK_IMPORTED_MODULE_1__.update(currentPreResponseHandlers, effect_Option__WEBPACK_IMPORTED_MODULE_2__.match({\n  onNone: () => effect_Option__WEBPACK_IMPORTED_MODULE_2__.some(handler),\n  onSome: prev => effect_Option__WEBPACK_IMPORTED_MODULE_2__.some((request, response) => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.flatMap(prev(request, response), response => handler(request, response)))\n}));\n/** @internal */\nconst withPreResponseHandler = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_4__.dual)(2, (self, handler) => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.locallyWith(self, currentPreResponseHandlers, effect_Option__WEBPACK_IMPORTED_MODULE_2__.match({\n  onNone: () => effect_Option__WEBPACK_IMPORTED_MODULE_2__.some(handler),\n  onSome: prev => effect_Option__WEBPACK_IMPORTED_MODULE_2__.some((request, response) => effect_Effect__WEBPACK_IMPORTED_MODULE_3__.flatMap(prev(request, response), response => handler(request, response)))\n})));\n//# sourceMappingURL=httpApp.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cEFwcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF3QztBQUNJO0FBQ0w7QUFDVTtBQUNUO0FBQ3hDO0FBQ08sZ0RBQWdELCtEQUFXLGlGQUFpRix1REFBbUIsQ0FBQywrQ0FBVztBQUNsTDtBQUNPLDRDQUE0QyxtREFBZSw2QkFBNkIsZ0RBQVk7QUFDM0csZ0JBQWdCLCtDQUFXO0FBQzNCLGtCQUFrQiwrQ0FBVyx3QkFBd0Isa0RBQWM7QUFDbkUsQ0FBQztBQUNEO0FBQ08sNENBQTRDLHFEQUFJLHVCQUF1QixzREFBa0IsbUNBQW1DLGdEQUFZO0FBQy9JLGdCQUFnQiwrQ0FBVztBQUMzQixrQkFBa0IsK0NBQVcsd0JBQXdCLGtEQUFjO0FBQ25FLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9pbnRlcm5hbC9odHRwQXBwLmpzP2U2ZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgKiBhcyBGaWJlclJlZiBmcm9tIFwiZWZmZWN0L0ZpYmVyUmVmXCI7XG5pbXBvcnQgeyBkdWFsIH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0IHsgZ2xvYmFsVmFsdWUgfSBmcm9tIFwiZWZmZWN0L0dsb2JhbFZhbHVlXCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjdXJyZW50UHJlUmVzcG9uc2VIYW5kbGVycyA9IC8qI19fUFVSRV9fKi9nbG9iYWxWYWx1ZSggLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBBcHAvcHJlUmVzcG9uc2VIYW5kbGVyc1wiKSwgKCkgPT4gRmliZXJSZWYudW5zYWZlTWFrZShPcHRpb24ubm9uZSgpKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgYXBwZW5kUHJlUmVzcG9uc2VIYW5kbGVyID0gaGFuZGxlciA9PiBGaWJlclJlZi51cGRhdGUoY3VycmVudFByZVJlc3BvbnNlSGFuZGxlcnMsIE9wdGlvbi5tYXRjaCh7XG4gIG9uTm9uZTogKCkgPT4gT3B0aW9uLnNvbWUoaGFuZGxlciksXG4gIG9uU29tZTogcHJldiA9PiBPcHRpb24uc29tZSgocmVxdWVzdCwgcmVzcG9uc2UpID0+IEVmZmVjdC5mbGF0TWFwKHByZXYocmVxdWVzdCwgcmVzcG9uc2UpLCByZXNwb25zZSA9PiBoYW5kbGVyKHJlcXVlc3QsIHJlc3BvbnNlKSkpXG59KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgd2l0aFByZVJlc3BvbnNlSGFuZGxlciA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBoYW5kbGVyKSA9PiBFZmZlY3QubG9jYWxseVdpdGgoc2VsZiwgY3VycmVudFByZVJlc3BvbnNlSGFuZGxlcnMsIE9wdGlvbi5tYXRjaCh7XG4gIG9uTm9uZTogKCkgPT4gT3B0aW9uLnNvbWUoaGFuZGxlciksXG4gIG9uU29tZTogcHJldiA9PiBPcHRpb24uc29tZSgocmVxdWVzdCwgcmVzcG9uc2UpID0+IEVmZmVjdC5mbGF0TWFwKHByZXYocmVxdWVzdCwgcmVzcG9uc2UpLCByZXNwb25zZSA9PiBoYW5kbGVyKHJlcXVlc3QsIHJlc3BvbnNlKSkpXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cEFwcC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpApp.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpBody.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpBody.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorTypeId: () => (/* binding */ ErrorTypeId),\n/* harmony export */   HttpBodyError: () => (/* binding */ HttpBodyError),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   file: () => (/* binding */ file),\n/* harmony export */   fileInfo: () => (/* binding */ fileInfo),\n/* harmony export */   fileWeb: () => (/* binding */ fileWeb),\n/* harmony export */   formData: () => (/* binding */ formData),\n/* harmony export */   json: () => (/* binding */ json),\n/* harmony export */   jsonSchema: () => (/* binding */ jsonSchema),\n/* harmony export */   raw: () => (/* binding */ raw),\n/* harmony export */   stream: () => (/* binding */ stream),\n/* harmony export */   text: () => (/* binding */ text),\n/* harmony export */   uint8Array: () => (/* binding */ uint8Array),\n/* harmony export */   unsafeJson: () => (/* binding */ unsafeJson),\n/* harmony export */   urlParams: () => (/* binding */ urlParams)\n/* harmony export */ });\n/* harmony import */ var effect_Data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Data */ \"(rsc)/../../node_modules/effect/dist/esm/Data.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var _FileSystem_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../FileSystem.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/FileSystem.js\");\n/* harmony import */ var _UrlParams_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../UrlParams.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js\");\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpBody\");\n/** @internal */\nconst ErrorTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpBody/HttpBodyError\");\nconst bodyError = /*#__PURE__*/effect_Data__WEBPACK_IMPORTED_MODULE_0__.tagged(\"HttpBodyError\");\n/** @internal */\nconst HttpBodyError = reason => bodyError({\n  [ErrorTypeId]: ErrorTypeId,\n  reason\n});\nclass BodyBase {\n  [TypeId];\n  constructor() {\n    this[TypeId] = TypeId;\n  }\n  [effect_Inspectable__WEBPACK_IMPORTED_MODULE_1__.NodeInspectSymbol]() {\n    return this.toJSON();\n  }\n  toString() {\n    return effect_Inspectable__WEBPACK_IMPORTED_MODULE_1__.format(this);\n  }\n}\nclass EmptyImpl extends BodyBase {\n  _tag = \"Empty\";\n  toJSON() {\n    return {\n      _id: \"@effect/platform/HttpBody\",\n      _tag: \"Empty\"\n    };\n  }\n}\n/** @internal */\nconst empty = /*#__PURE__*/new EmptyImpl();\nclass RawImpl extends BodyBase {\n  body;\n  contentType;\n  contentLength;\n  _tag = \"Raw\";\n  constructor(body, contentType, contentLength) {\n    super();\n    this.body = body;\n    this.contentType = contentType;\n    this.contentLength = contentLength;\n  }\n  toJSON() {\n    return {\n      _id: \"@effect/platform/HttpBody\",\n      _tag: \"Raw\",\n      body: this.body,\n      contentType: this.contentType,\n      contentLength: this.contentLength\n    };\n  }\n}\n/** @internal */\nconst raw = (body, options) => new RawImpl(body, options?.contentType, options?.contentLength);\nclass Uint8ArrayImpl extends BodyBase {\n  body;\n  contentType;\n  _tag = \"Uint8Array\";\n  constructor(body, contentType) {\n    super();\n    this.body = body;\n    this.contentType = contentType;\n  }\n  get contentLength() {\n    return this.body.length;\n  }\n  toJSON() {\n    const toString = this.contentType.startsWith(\"text/\") || this.contentType.endsWith(\"json\");\n    return {\n      _id: \"@effect/platform/HttpBody\",\n      _tag: \"Uint8Array\",\n      body: toString ? new TextDecoder().decode(this.body) : `Uint8Array(${this.body.length})`,\n      contentType: this.contentType,\n      contentLength: this.contentLength\n    };\n  }\n}\n/** @internal */\nconst uint8Array = (body, contentType) => new Uint8ArrayImpl(body, contentType ?? \"application/octet-stream\");\nconst encoder = /*#__PURE__*/new TextEncoder();\n/** @internal */\nconst text = (body, contentType) => uint8Array(encoder.encode(body), contentType ?? \"text/plain\");\n/** @internal */\nconst unsafeJson = body => text(JSON.stringify(body), \"application/json\");\n/** @internal */\nconst json = body => effect_Effect__WEBPACK_IMPORTED_MODULE_2__[\"try\"]({\n  try: () => unsafeJson(body),\n  catch: error => HttpBodyError({\n    _tag: \"JsonError\",\n    error\n  })\n});\n/** @internal */\nconst urlParams = urlParams => text(_UrlParams_js__WEBPACK_IMPORTED_MODULE_3__.toString(urlParams), \"application/x-www-form-urlencoded\");\n/** @internal */\nconst jsonSchema = (schema, options) => {\n  const encode = effect_Schema__WEBPACK_IMPORTED_MODULE_4__.encode(schema, options);\n  return body => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.mapError(encode(body), error => HttpBodyError({\n    _tag: \"SchemaError\",\n    error\n  })), json);\n};\n/** @internal */\nconst file = (path, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(_FileSystem_js__WEBPACK_IMPORTED_MODULE_5__.FileSystem, fs => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(fs.stat(path), info => stream(fs.stream(path, options), options?.contentType, Number(info.size))));\n/** @internal */\nconst fileInfo = (path, info, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(_FileSystem_js__WEBPACK_IMPORTED_MODULE_5__.FileSystem, fs => stream(fs.stream(path, options), options?.contentType, Number(info.size)));\n/** @internal */\nconst fileWeb = file => stream(effect_Stream__WEBPACK_IMPORTED_MODULE_6__.fromReadableStream(() => file.stream(), effect_Function__WEBPACK_IMPORTED_MODULE_7__.identity), file.type, file.size);\nclass FormDataImpl extends BodyBase {\n  formData;\n  _tag = \"FormData\";\n  constructor(formData) {\n    super();\n    this.formData = formData;\n  }\n  toJSON() {\n    return {\n      _id: \"@effect/platform/HttpBody\",\n      _tag: \"FormData\",\n      formData: this.formData\n    };\n  }\n}\n/** @internal */\nconst formData = body => new FormDataImpl(body);\nclass StreamImpl extends BodyBase {\n  stream;\n  contentType;\n  contentLength;\n  _tag = \"Stream\";\n  constructor(stream, contentType, contentLength) {\n    super();\n    this.stream = stream;\n    this.contentType = contentType;\n    this.contentLength = contentLength;\n  }\n  toJSON() {\n    return {\n      _id: \"@effect/platform/HttpBody\",\n      _tag: \"Stream\",\n      contentType: this.contentType,\n      contentLength: this.contentLength\n    };\n  }\n}\n/** @internal */\nconst stream = (body, contentType, contentLength) => new StreamImpl(body, contentType ?? \"application/octet-stream\", contentLength);\n//# sourceMappingURL=httpBody.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cEJvZHkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9DO0FBQ0k7QUFDRztBQUNPO0FBQ1Y7QUFDQztBQUNNO0FBQ0Y7QUFDN0M7QUFDTztBQUNQO0FBQ087QUFDUCwrQkFBK0IsK0NBQVc7QUFDMUM7QUFDTztBQUNQO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsaUVBQTZCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0RBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsaUJBQWlCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ08scUJBQXFCLGlEQUFVO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNPLG9DQUFvQyxtREFBa0I7QUFDN0Q7QUFDTztBQUNQLGlCQUFpQixpREFBYTtBQUM5QixpQkFBaUIsa0RBQWMsQ0FBQyxtREFBZTtBQUMvQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDTyxnQ0FBZ0Msa0RBQWMsQ0FBQyxzREFBcUIsUUFBUSw4Q0FBVTtBQUM3RjtBQUNPLDBDQUEwQyw4Q0FBVSxDQUFDLHNEQUFxQjtBQUNqRjtBQUNPLCtCQUErQiw2REFBMEIsc0JBQXNCLHFEQUFRO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL2ludGVybmFsL2h0dHBCb2R5LmpzPzA5MmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgRGF0YSBmcm9tIFwiZWZmZWN0L0RhdGFcIjtcbmltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tIFwiZWZmZWN0L0Z1bmN0aW9uXCI7XG5pbXBvcnQgKiBhcyBJbnNwZWN0YWJsZSBmcm9tIFwiZWZmZWN0L0luc3BlY3RhYmxlXCI7XG5pbXBvcnQgKiBhcyBTY2hlbWEgZnJvbSBcImVmZmVjdC9TY2hlbWFcIjtcbmltcG9ydCAqIGFzIFN0cmVhbV8gZnJvbSBcImVmZmVjdC9TdHJlYW1cIjtcbmltcG9ydCAqIGFzIEZpbGVTeXN0ZW0gZnJvbSBcIi4uL0ZpbGVTeXN0ZW0uanNcIjtcbmltcG9ydCAqIGFzIFVybFBhcmFtcyBmcm9tIFwiLi4vVXJsUGFyYW1zLmpzXCI7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBCb2R5XCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEVycm9yVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBCb2R5L0h0dHBCb2R5RXJyb3JcIik7XG5jb25zdCBib2R5RXJyb3IgPSAvKiNfX1BVUkVfXyovRGF0YS50YWdnZWQoXCJIdHRwQm9keUVycm9yXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEh0dHBCb2R5RXJyb3IgPSByZWFzb24gPT4gYm9keUVycm9yKHtcbiAgW0Vycm9yVHlwZUlkXTogRXJyb3JUeXBlSWQsXG4gIHJlYXNvblxufSk7XG5jbGFzcyBCb2R5QmFzZSB7XG4gIFtUeXBlSWRdO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzW1R5cGVJZF0gPSBUeXBlSWQ7XG4gIH1cbiAgW0luc3BlY3RhYmxlLk5vZGVJbnNwZWN0U3ltYm9sXSgpIHtcbiAgICByZXR1cm4gdGhpcy50b0pTT04oKTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gSW5zcGVjdGFibGUuZm9ybWF0KHRoaXMpO1xuICB9XG59XG5jbGFzcyBFbXB0eUltcGwgZXh0ZW5kcyBCb2R5QmFzZSB7XG4gIF90YWcgPSBcIkVtcHR5XCI7XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX2lkOiBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEJvZHlcIixcbiAgICAgIF90YWc6IFwiRW1wdHlcIlxuICAgIH07XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBlbXB0eSA9IC8qI19fUFVSRV9fKi9uZXcgRW1wdHlJbXBsKCk7XG5jbGFzcyBSYXdJbXBsIGV4dGVuZHMgQm9keUJhc2Uge1xuICBib2R5O1xuICBjb250ZW50VHlwZTtcbiAgY29udGVudExlbmd0aDtcbiAgX3RhZyA9IFwiUmF3XCI7XG4gIGNvbnN0cnVjdG9yKGJvZHksIGNvbnRlbnRUeXBlLCBjb250ZW50TGVuZ3RoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIHRoaXMuY29udGVudFR5cGUgPSBjb250ZW50VHlwZTtcbiAgICB0aGlzLmNvbnRlbnRMZW5ndGggPSBjb250ZW50TGVuZ3RoO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX2lkOiBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEJvZHlcIixcbiAgICAgIF90YWc6IFwiUmF3XCIsXG4gICAgICBib2R5OiB0aGlzLmJvZHksXG4gICAgICBjb250ZW50VHlwZTogdGhpcy5jb250ZW50VHlwZSxcbiAgICAgIGNvbnRlbnRMZW5ndGg6IHRoaXMuY29udGVudExlbmd0aFxuICAgIH07XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCByYXcgPSAoYm9keSwgb3B0aW9ucykgPT4gbmV3IFJhd0ltcGwoYm9keSwgb3B0aW9ucz8uY29udGVudFR5cGUsIG9wdGlvbnM/LmNvbnRlbnRMZW5ndGgpO1xuY2xhc3MgVWludDhBcnJheUltcGwgZXh0ZW5kcyBCb2R5QmFzZSB7XG4gIGJvZHk7XG4gIGNvbnRlbnRUeXBlO1xuICBfdGFnID0gXCJVaW50OEFycmF5XCI7XG4gIGNvbnN0cnVjdG9yKGJvZHksIGNvbnRlbnRUeXBlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIHRoaXMuY29udGVudFR5cGUgPSBjb250ZW50VHlwZTtcbiAgfVxuICBnZXQgY29udGVudExlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ib2R5Lmxlbmd0aDtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgY29uc3QgdG9TdHJpbmcgPSB0aGlzLmNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoXCJ0ZXh0L1wiKSB8fCB0aGlzLmNvbnRlbnRUeXBlLmVuZHNXaXRoKFwianNvblwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgX2lkOiBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEJvZHlcIixcbiAgICAgIF90YWc6IFwiVWludDhBcnJheVwiLFxuICAgICAgYm9keTogdG9TdHJpbmcgPyBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodGhpcy5ib2R5KSA6IGBVaW50OEFycmF5KCR7dGhpcy5ib2R5Lmxlbmd0aH0pYCxcbiAgICAgIGNvbnRlbnRUeXBlOiB0aGlzLmNvbnRlbnRUeXBlLFxuICAgICAgY29udGVudExlbmd0aDogdGhpcy5jb250ZW50TGVuZ3RoXG4gICAgfTtcbiAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVpbnQ4QXJyYXkgPSAoYm9keSwgY29udGVudFR5cGUpID0+IG5ldyBVaW50OEFycmF5SW1wbChib2R5LCBjb250ZW50VHlwZSA/PyBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKTtcbmNvbnN0IGVuY29kZXIgPSAvKiNfX1BVUkVfXyovbmV3IFRleHRFbmNvZGVyKCk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdGV4dCA9IChib2R5LCBjb250ZW50VHlwZSkgPT4gdWludDhBcnJheShlbmNvZGVyLmVuY29kZShib2R5KSwgY29udGVudFR5cGUgPz8gXCJ0ZXh0L3BsYWluXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZUpzb24gPSBib2R5ID0+IHRleHQoSlNPTi5zdHJpbmdpZnkoYm9keSksIFwiYXBwbGljYXRpb24vanNvblwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBqc29uID0gYm9keSA9PiBFZmZlY3QudHJ5KHtcbiAgdHJ5OiAoKSA9PiB1bnNhZmVKc29uKGJvZHkpLFxuICBjYXRjaDogZXJyb3IgPT4gSHR0cEJvZHlFcnJvcih7XG4gICAgX3RhZzogXCJKc29uRXJyb3JcIixcbiAgICBlcnJvclxuICB9KVxufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdXJsUGFyYW1zID0gdXJsUGFyYW1zID0+IHRleHQoVXJsUGFyYW1zLnRvU3RyaW5nKHVybFBhcmFtcyksIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGpzb25TY2hlbWEgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGVuY29kZSA9IFNjaGVtYS5lbmNvZGUoc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIGJvZHkgPT4gRWZmZWN0LmZsYXRNYXAoRWZmZWN0Lm1hcEVycm9yKGVuY29kZShib2R5KSwgZXJyb3IgPT4gSHR0cEJvZHlFcnJvcih7XG4gICAgX3RhZzogXCJTY2hlbWFFcnJvclwiLFxuICAgIGVycm9yXG4gIH0pKSwganNvbik7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGZpbGUgPSAocGF0aCwgb3B0aW9ucykgPT4gRWZmZWN0LmZsYXRNYXAoRmlsZVN5c3RlbS5GaWxlU3lzdGVtLCBmcyA9PiBFZmZlY3QubWFwKGZzLnN0YXQocGF0aCksIGluZm8gPT4gc3RyZWFtKGZzLnN0cmVhbShwYXRoLCBvcHRpb25zKSwgb3B0aW9ucz8uY29udGVudFR5cGUsIE51bWJlcihpbmZvLnNpemUpKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGZpbGVJbmZvID0gKHBhdGgsIGluZm8sIG9wdGlvbnMpID0+IEVmZmVjdC5tYXAoRmlsZVN5c3RlbS5GaWxlU3lzdGVtLCBmcyA9PiBzdHJlYW0oZnMuc3RyZWFtKHBhdGgsIG9wdGlvbnMpLCBvcHRpb25zPy5jb250ZW50VHlwZSwgTnVtYmVyKGluZm8uc2l6ZSkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmaWxlV2ViID0gZmlsZSA9PiBzdHJlYW0oU3RyZWFtXy5mcm9tUmVhZGFibGVTdHJlYW0oKCkgPT4gZmlsZS5zdHJlYW0oKSwgaWRlbnRpdHkpLCBmaWxlLnR5cGUsIGZpbGUuc2l6ZSk7XG5jbGFzcyBGb3JtRGF0YUltcGwgZXh0ZW5kcyBCb2R5QmFzZSB7XG4gIGZvcm1EYXRhO1xuICBfdGFnID0gXCJGb3JtRGF0YVwiO1xuICBjb25zdHJ1Y3Rvcihmb3JtRGF0YSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5mb3JtRGF0YSA9IGZvcm1EYXRhO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX2lkOiBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEJvZHlcIixcbiAgICAgIF90YWc6IFwiRm9ybURhdGFcIixcbiAgICAgIGZvcm1EYXRhOiB0aGlzLmZvcm1EYXRhXG4gICAgfTtcbiAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGZvcm1EYXRhID0gYm9keSA9PiBuZXcgRm9ybURhdGFJbXBsKGJvZHkpO1xuY2xhc3MgU3RyZWFtSW1wbCBleHRlbmRzIEJvZHlCYXNlIHtcbiAgc3RyZWFtO1xuICBjb250ZW50VHlwZTtcbiAgY29udGVudExlbmd0aDtcbiAgX3RhZyA9IFwiU3RyZWFtXCI7XG4gIGNvbnN0cnVjdG9yKHN0cmVhbSwgY29udGVudFR5cGUsIGNvbnRlbnRMZW5ndGgpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtO1xuICAgIHRoaXMuY29udGVudFR5cGUgPSBjb250ZW50VHlwZTtcbiAgICB0aGlzLmNvbnRlbnRMZW5ndGggPSBjb250ZW50TGVuZ3RoO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX2lkOiBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cEJvZHlcIixcbiAgICAgIF90YWc6IFwiU3RyZWFtXCIsXG4gICAgICBjb250ZW50VHlwZTogdGhpcy5jb250ZW50VHlwZSxcbiAgICAgIGNvbnRlbnRMZW5ndGg6IHRoaXMuY29udGVudExlbmd0aFxuICAgIH07XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzdHJlYW0gPSAoYm9keSwgY29udGVudFR5cGUsIGNvbnRlbnRMZW5ndGgpID0+IG5ldyBTdHJlYW1JbXBsKGJvZHksIGNvbnRlbnRUeXBlID8/IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsIGNvbnRlbnRMZW5ndGgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cEJvZHkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpBody.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClient.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpClient.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   catchAll: () => (/* binding */ catchAll),\n/* harmony export */   catchTag: () => (/* binding */ catchTag),\n/* harmony export */   catchTags: () => (/* binding */ catchTags),\n/* harmony export */   currentTracerDisabledWhen: () => (/* binding */ currentTracerDisabledWhen),\n/* harmony export */   currentTracerPropagation: () => (/* binding */ currentTracerPropagation),\n/* harmony export */   del: () => (/* binding */ del),\n/* harmony export */   execute: () => (/* binding */ execute),\n/* harmony export */   filterOrElse: () => (/* binding */ filterOrElse),\n/* harmony export */   filterOrFail: () => (/* binding */ filterOrFail),\n/* harmony export */   filterStatus: () => (/* binding */ filterStatus),\n/* harmony export */   filterStatusOk: () => (/* binding */ filterStatusOk),\n/* harmony export */   followRedirects: () => (/* binding */ followRedirects),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   head: () => (/* binding */ head),\n/* harmony export */   layerMergedContext: () => (/* binding */ layerMergedContext),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeWith: () => (/* binding */ makeWith),\n/* harmony export */   mapRequest: () => (/* binding */ mapRequest),\n/* harmony export */   mapRequestEffect: () => (/* binding */ mapRequestEffect),\n/* harmony export */   mapRequestInput: () => (/* binding */ mapRequestInput),\n/* harmony export */   mapRequestInputEffect: () => (/* binding */ mapRequestInputEffect),\n/* harmony export */   options: () => (/* binding */ options),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   put: () => (/* binding */ put),\n/* harmony export */   retry: () => (/* binding */ retry),\n/* harmony export */   retryTransient: () => (/* binding */ retryTransient),\n/* harmony export */   tag: () => (/* binding */ tag),\n/* harmony export */   tap: () => (/* binding */ tap),\n/* harmony export */   tapError: () => (/* binding */ tapError),\n/* harmony export */   tapRequest: () => (/* binding */ tapRequest),\n/* harmony export */   transform: () => (/* binding */ transform),\n/* harmony export */   transformResponse: () => (/* binding */ transformResponse),\n/* harmony export */   withCookiesRef: () => (/* binding */ withCookiesRef),\n/* harmony export */   withTracerDisabledWhen: () => (/* binding */ withTracerDisabledWhen),\n/* harmony export */   withTracerPropagation: () => (/* binding */ withTracerPropagation)\n/* harmony export */ });\n/* harmony import */ var effect_Cause__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effect/Cause */ \"(rsc)/../../node_modules/effect/dist/esm/Cause.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Pipeable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Pipeable */ \"(rsc)/../../node_modules/effect/dist/esm/Pipeable.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Ref__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! effect/Ref */ \"(rsc)/../../node_modules/effect/dist/esm/Ref.js\");\n/* harmony import */ var effect_Schedule__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effect/Schedule */ \"(rsc)/../../node_modules/effect/dist/esm/Schedule.js\");\n/* harmony import */ var effect_Scope__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Scope */ \"(rsc)/../../node_modules/effect/dist/esm/Scope.js\");\n/* harmony import */ var _Cookies_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../Cookies.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Cookies.js\");\n/* harmony import */ var _Headers_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Headers.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js\");\n/* harmony import */ var _HttpClientError_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../HttpClientError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClientError.js\");\n/* harmony import */ var _HttpTraceContext_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../HttpTraceContext.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpTraceContext.js\");\n/* harmony import */ var _UrlParams_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../UrlParams.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js\");\n/* harmony import */ var _httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./httpClientRequest.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientRequest.js\");\n/* harmony import */ var _httpClientResponse_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./httpClientResponse.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientResponse.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpClient\");\n/** @internal */\nconst tag = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@effect/platform/HttpClient\");\n/** @internal */\nconst currentTracerDisabledWhen = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_1__.globalValue)( /*#__PURE__*/Symbol.for(\"@effect/platform/HttpClient/tracerDisabledWhen\"), () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_2__.unsafeMake(effect_Function__WEBPACK_IMPORTED_MODULE_3__.constFalse));\n/** @internal */\nconst withTracerDisabledWhen = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, pred) => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.locally(self, currentTracerDisabledWhen, pred));\n/** @internal */\nconst currentTracerPropagation = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_1__.globalValue)( /*#__PURE__*/Symbol.for(\"@effect/platform/HttpClient/currentTracerPropagation\"), () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_2__.unsafeMake(true));\n/** @internal */\nconst withTracerPropagation = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, enabled) => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.locally(self, currentTracerPropagation, enabled));\nconst ClientProto = {\n  [TypeId]: TypeId,\n  pipe() {\n    return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_5__.pipeArguments)(this, arguments);\n  },\n  ...effect_Inspectable__WEBPACK_IMPORTED_MODULE_6__.BaseProto,\n  toJSON() {\n    return {\n      _id: \"@effect/platform/HttpClient\"\n    };\n  },\n  get(url, options) {\n    return this.execute(_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.get(url, options));\n  },\n  head(url, options) {\n    return this.execute(_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.head(url, options));\n  },\n  post(url, options) {\n    return this.execute(_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.post(url, options));\n  },\n  put(url, options) {\n    return this.execute(_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.put(url, options));\n  },\n  patch(url, options) {\n    return this.execute(_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.patch(url, options));\n  },\n  del(url, options) {\n    return this.execute(_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.del(url, options));\n  },\n  options(url, options) {\n    return this.execute(_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.options(url, options));\n  }\n};\nconst isClient = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.hasProperty(u, TypeId);\n/** @internal */\nconst makeWith = (postprocess, preprocess) => {\n  const self = Object.create(ClientProto);\n  self.preprocess = preprocess;\n  self.postprocess = postprocess;\n  self.execute = function (request) {\n    return postprocess(preprocess(request));\n  };\n  return self;\n};\n/** @internal */\nconst make = f => makeWith(effect => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(effect, request => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.withFiberRuntime(fiber => {\n  const scope = effect_Context__WEBPACK_IMPORTED_MODULE_0__.unsafeGet(fiber.getFiberRef(effect_FiberRef__WEBPACK_IMPORTED_MODULE_2__.currentContext), effect_Scope__WEBPACK_IMPORTED_MODULE_9__.Scope);\n  const controller = new AbortController();\n  const addAbort = effect_Scope__WEBPACK_IMPORTED_MODULE_9__.addFinalizer(scope, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.sync(() => controller.abort()));\n  const urlResult = _UrlParams_js__WEBPACK_IMPORTED_MODULE_10__.makeUrl(request.url, request.urlParams, request.hash);\n  if (urlResult._tag === \"Left\") {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_4__.fail(new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_11__.RequestError({\n      request,\n      reason: \"InvalidUrl\",\n      cause: urlResult.left\n    }));\n  }\n  const url = urlResult.right;\n  const tracerDisabled = !fiber.getFiberRef(effect_FiberRef__WEBPACK_IMPORTED_MODULE_2__.currentTracerEnabled) || fiber.getFiberRef(currentTracerDisabledWhen)(request);\n  if (tracerDisabled) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_4__.zipRight(addAbort, f(request, url, controller.signal, fiber));\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_4__.zipRight(addAbort, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.useSpan(`http.client ${request.method}`, {\n    kind: \"client\",\n    captureStackTrace: false\n  }, span => {\n    span.attribute(\"http.request.method\", request.method);\n    span.attribute(\"server.address\", url.origin);\n    if (url.port !== \"\") {\n      span.attribute(\"server.port\", +url.port);\n    }\n    span.attribute(\"url.full\", url.toString());\n    span.attribute(\"url.path\", url.pathname);\n    span.attribute(\"url.scheme\", url.protocol.slice(0, -1));\n    const query = url.search.slice(1);\n    if (query !== \"\") {\n      span.attribute(\"url.query\", query);\n    }\n    const redactedHeaderNames = fiber.getFiberRef(_Headers_js__WEBPACK_IMPORTED_MODULE_12__.currentRedactedNames);\n    const redactedHeaders = _Headers_js__WEBPACK_IMPORTED_MODULE_12__.redact(request.headers, redactedHeaderNames);\n    for (const name in redactedHeaders) {\n      span.attribute(`http.request.header.${name}`, String(redactedHeaders[name]));\n    }\n    request = fiber.getFiberRef(currentTracerPropagation) ? _httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.setHeaders(request, _HttpTraceContext_js__WEBPACK_IMPORTED_MODULE_13__.toHeaders(span)) : request;\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_4__.tap(effect_Effect__WEBPACK_IMPORTED_MODULE_4__.withParentSpan(f(request, url, controller.signal, fiber), span), response => {\n      span.attribute(\"http.response.status_code\", response.status);\n      const redactedHeaders = _Headers_js__WEBPACK_IMPORTED_MODULE_12__.redact(response.headers, redactedHeaderNames);\n      for (const name in redactedHeaders) {\n        span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));\n      }\n    });\n  }));\n})), effect_Effect__WEBPACK_IMPORTED_MODULE_4__.succeed);\nconst {\n  /** @internal */\n  del,\n  /** @internal */\n  execute,\n  /** @internal */\n  get,\n  /** @internal */\n  head,\n  /** @internal */\n  options,\n  /** @internal */\n  patch,\n  /** @internal */\n  post,\n  /** @internal */\n  put\n} = /*#__PURE__*/effect_Effect__WEBPACK_IMPORTED_MODULE_4__.serviceFunctions(tag);\n/** @internal */\nconst transform = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => {\n  const client = self;\n  return makeWith(effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(request => f(client.postprocess(effect_Effect__WEBPACK_IMPORTED_MODULE_4__.succeed(request)), request)), client.preprocess);\n});\n/** @internal */\nconst filterStatus = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(_httpClientResponse_js__WEBPACK_IMPORTED_MODULE_14__.filterStatus(f))));\n/** @internal */\nconst filterStatusOk = self => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(_httpClientResponse_js__WEBPACK_IMPORTED_MODULE_14__.filterStatusOk));\n/** @internal */\nconst transformResponse = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => {\n  const client = self;\n  return makeWith(request => f(client.postprocess(request)), client.preprocess);\n});\n/** @internal */\nconst catchTag = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(3, (self, tag, f) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.catchTag(tag, f)));\n/** @internal */\nconst catchTags = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, cases) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.catchTags(cases)));\n/** @internal */\nconst catchAll = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.catchAll(f)));\n/** @internal */\nconst filterOrElse = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(3, (self, f, orElse) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.filterOrElse(f, orElse)));\n/** @internal */\nconst filterOrFail = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(3, (self, f, orFailWith) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.filterOrFail(f, orFailWith)));\n/** @internal */\nconst mapRequest = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => {\n  const client = self;\n  return makeWith(client.postprocess, request => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.map(client.preprocess(request), f));\n});\n/** @internal */\nconst mapRequestEffect = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => {\n  const client = self;\n  return makeWith(client.postprocess, request => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(client.preprocess(request), f));\n});\n/** @internal */\nconst mapRequestInput = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => {\n  const client = self;\n  return makeWith(client.postprocess, request => client.preprocess(f(request)));\n});\n/** @internal */\nconst mapRequestInputEffect = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => {\n  const client = self;\n  return makeWith(client.postprocess, request => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(f(request), client.preprocess));\n});\n/** @internal */\nconst retry = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, policy) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.retry(policy)));\n/** @internal */\nconst retryTransient = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, options) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.retry({\n  while: effect_Schedule__WEBPACK_IMPORTED_MODULE_15__.ScheduleTypeId in options || options.while === undefined ? isTransientError : effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.or(isTransientError, options.while),\n  schedule: effect_Schedule__WEBPACK_IMPORTED_MODULE_15__.ScheduleTypeId in options ? options : options.schedule,\n  times: effect_Schedule__WEBPACK_IMPORTED_MODULE_15__.ScheduleTypeId in options ? undefined : options.times\n})));\nconst isTransientError = error => effect_Predicate__WEBPACK_IMPORTED_MODULE_8__.hasProperty(error, effect_Cause__WEBPACK_IMPORTED_MODULE_16__.TimeoutExceptionTypeId) || isTransientHttpError(error);\nconst isTransientHttpError = error => _HttpClientError_js__WEBPACK_IMPORTED_MODULE_11__.isHttpClientError(error) && (error._tag === \"RequestError\" && error.reason === \"Transport\" || error._tag === \"ResponseError\" && error.response.status >= 429);\n/** @internal */\nconst tap = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.tap(f)));\n/** @internal */\nconst tapError = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => transformResponse(self, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.tapError(f)));\n/** @internal */\nconst tapRequest = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, f) => {\n  const client = self;\n  return makeWith(client.postprocess, request => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.tap(client.preprocess(request), f));\n});\n/** @internal */\nconst withCookiesRef = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, ref) => {\n  const client = self;\n  return makeWith(request => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.tap(client.postprocess(request), response => effect_Ref__WEBPACK_IMPORTED_MODULE_17__.update(ref, cookies => _Cookies_js__WEBPACK_IMPORTED_MODULE_18__.merge(cookies, response.cookies))), request => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(client.preprocess(request), request => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.map(effect_Ref__WEBPACK_IMPORTED_MODULE_17__.get(ref), cookies => _Cookies_js__WEBPACK_IMPORTED_MODULE_18__.isEmpty(cookies) ? request : _httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.setHeader(request, \"cookie\", _Cookies_js__WEBPACK_IMPORTED_MODULE_18__.toCookieHeader(cookies)))));\n});\n/** @internal */\nconst followRedirects = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(args => isClient(args[0]), (self, maxRedirects) => {\n  const client = self;\n  return makeWith(request => {\n    const loop = (request, redirects) => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(client.postprocess(effect_Effect__WEBPACK_IMPORTED_MODULE_4__.succeed(request)), response => response.status >= 300 && response.status < 400 && response.headers.location && redirects < (maxRedirects ?? 10) ? loop(_httpClientRequest_js__WEBPACK_IMPORTED_MODULE_7__.setUrl(request, new URL(response.headers.location, response.request.url)), redirects + 1) : effect_Effect__WEBPACK_IMPORTED_MODULE_4__.succeed(response));\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(request, request => loop(request, 0));\n  }, client.preprocess);\n});\n/** @internal */\nconst layerMergedContext = effect => effect_Layer__WEBPACK_IMPORTED_MODULE_19__.effect(tag, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_4__.context(), context => effect_Effect__WEBPACK_IMPORTED_MODULE_4__.map(effect, client => transformResponse(client, effect_Effect__WEBPACK_IMPORTED_MODULE_4__.mapInputContext(input => effect_Context__WEBPACK_IMPORTED_MODULE_0__.merge(context, input))))));\n//# sourceMappingURL=httpClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cENsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFDSTtBQUNGO0FBQ0k7QUFDTztBQUNGO0FBQ0M7QUFDWjtBQUNVO0FBQ0Y7QUFDWjtBQUNVO0FBQ047QUFDRztBQUNBO0FBQ007QUFDUTtBQUNWO0FBQ2E7QUFDRTtBQUM1RDtBQUNPO0FBQ1A7QUFDTyx5QkFBeUIsc0RBQWtCO0FBQ2xEO0FBQ08sK0NBQStDLCtEQUFXLG1GQUFtRix1REFBbUIsQ0FBQyx1REFBVTtBQUNsTDtBQUNPLDRDQUE0QyxxREFBSSxvQkFBb0Isa0RBQWM7QUFDekY7QUFDTyw4Q0FBOEMsK0RBQVcseUZBQXlGLHVEQUFtQjtBQUM1SztBQUNPLDJDQUEyQyxxREFBSSx1QkFBdUIsa0RBQWM7QUFDM0Y7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBYTtBQUN4QixHQUFHO0FBQ0gsS0FBSyx5REFBcUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3QkFBd0Isc0RBQW1CO0FBQzNDLEdBQUc7QUFDSDtBQUNBLHdCQUF3Qix1REFBb0I7QUFDNUMsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLHVEQUFvQjtBQUM1QyxHQUFHO0FBQ0g7QUFDQSx3QkFBd0Isc0RBQW1CO0FBQzNDLEdBQUc7QUFDSDtBQUNBLHdCQUF3Qix3REFBcUI7QUFDN0MsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLHNEQUFtQjtBQUMzQyxHQUFHO0FBQ0g7QUFDQSx3QkFBd0IsMERBQXVCO0FBQy9DO0FBQ0E7QUFDQSxzQkFBc0IseURBQXFCO0FBQzNDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQ0FBcUMsa0RBQWMsb0JBQW9CLDJEQUF1QjtBQUNyRyxnQkFBZ0IscURBQWlCLG1CQUFtQiwyREFBdUIsR0FBRywrQ0FBVztBQUN6RjtBQUNBLG1CQUFtQixzREFBa0IsUUFBUSwrQ0FBVztBQUN4RCxvQkFBb0IsbURBQWlCO0FBQ3JDO0FBQ0EsV0FBVywrQ0FBVyxLQUFLLDhEQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDRDQUE0QyxpRUFBNkI7QUFDekU7QUFDQSxXQUFXLG1EQUFlO0FBQzFCO0FBQ0EsU0FBUyxtREFBZSxXQUFXLGtEQUFjLGdCQUFnQixlQUFlO0FBQ2hGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDhEQUE0QjtBQUM5RSw0QkFBNEIsZ0RBQWM7QUFDMUM7QUFDQSw0Q0FBNEMsS0FBSztBQUNqRDtBQUNBLDREQUE0RCw2REFBMEIsVUFBVSw0REFBc0I7QUFDdEgsV0FBVyw4Q0FBVSxDQUFDLHlEQUFxQjtBQUMzQztBQUNBLDhCQUE4QixnREFBYztBQUM1QztBQUNBLCtDQUErQyxLQUFLO0FBQ3BEO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDLElBQUksa0RBQWM7QUFDWjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxlQUFlLDJEQUF1QjtBQUN4QztBQUNPLCtCQUErQixxREFBSTtBQUMxQztBQUNBLGtCQUFrQixrREFBYyxpQ0FBaUMsa0RBQWM7QUFDL0UsQ0FBQztBQUNEO0FBQ08sa0NBQWtDLHFEQUFJLHlDQUF5QyxrREFBYyxDQUFDLGlFQUE2QjtBQUNsSTtBQUNPLHVEQUF1RCxrREFBYyxDQUFDLG1FQUErQjtBQUM1RztBQUNPLHVDQUF1QyxxREFBSTtBQUNsRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ08sOEJBQThCLHFEQUFJLDhDQUE4QyxtREFBZTtBQUN0RztBQUNPLCtCQUErQixxREFBSSw2Q0FBNkMsb0RBQWdCO0FBQ3ZHO0FBQ08sOEJBQThCLHFEQUFJLHlDQUF5QyxtREFBZTtBQUNqRztBQUNPLGtDQUFrQyxxREFBSSxpREFBaUQsdURBQW1CO0FBQ2pIO0FBQ08sa0NBQWtDLHFEQUFJLHFEQUFxRCx1REFBbUI7QUFDckg7QUFDTyxnQ0FBZ0MscURBQUk7QUFDM0M7QUFDQSxpREFBaUQsOENBQVU7QUFDM0QsQ0FBQztBQUNEO0FBQ08sc0NBQXNDLHFEQUFJO0FBQ2pEO0FBQ0EsaURBQWlELGtEQUFjO0FBQy9ELENBQUM7QUFDRDtBQUNPLHFDQUFxQyxxREFBSTtBQUNoRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ08sMkNBQTJDLHFEQUFJO0FBQ3REO0FBQ0EsaURBQWlELGtEQUFjO0FBQy9ELENBQUM7QUFDRDtBQUNPLDJCQUEyQixxREFBSSw4Q0FBOEMsZ0RBQVk7QUFDaEc7QUFDTyxvQ0FBb0MscURBQUksK0NBQStDLGdEQUFZO0FBQzFHLFNBQVMsNERBQXVCLGdFQUFnRSxnREFBWTtBQUM1RyxZQUFZLDREQUF1QjtBQUNuQyxTQUFTLDREQUF1QjtBQUNoQyxDQUFDO0FBQ0Qsa0NBQWtDLHlEQUFxQixRQUFRLGlFQUE0QjtBQUMzRixzQ0FBc0MsbUVBQXVCO0FBQzdEO0FBQ08seUJBQXlCLHFEQUFJLHlDQUF5Qyw4Q0FBVTtBQUN2RjtBQUNPLDhCQUE4QixxREFBSSx5Q0FBeUMsbURBQWU7QUFDakc7QUFDTyxnQ0FBZ0MscURBQUk7QUFDM0M7QUFDQSxpREFBaUQsOENBQVU7QUFDM0QsQ0FBQztBQUNEO0FBQ08sb0NBQW9DLHFEQUFJO0FBQy9DO0FBQ0EsNkJBQTZCLDhDQUFVLDBDQUEwQywrQ0FBVSxpQkFBaUIsK0NBQWEsMENBQTBDLGtEQUFjLHdDQUF3Qyw4Q0FBVSxDQUFDLDRDQUFPLGtCQUFrQixpREFBZSxzQkFBc0IsNERBQXlCLG9CQUFvQix3REFBc0I7QUFDclcsQ0FBQztBQUNEO0FBQ08scUNBQXFDLHFEQUFJO0FBQ2hEO0FBQ0E7QUFDQSx5Q0FBeUMsa0RBQWMsb0JBQW9CLGtEQUFjLGdKQUFnSix5REFBc0Isc0ZBQXNGLGtEQUFjO0FBQ25XLFdBQVcsa0RBQWM7QUFDekIsR0FBRztBQUNILENBQUM7QUFDRDtBQUNPLHFDQUFxQyxpREFBWSxNQUFNLGtEQUFjLENBQUMsa0RBQWMsZUFBZSw4Q0FBVSw2Q0FBNkMsMERBQXNCLFVBQVUsaURBQWE7QUFDOU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cENsaWVudC5qcz81M2ZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENhdXNlIGZyb20gXCJlZmZlY3QvQ2F1c2VcIjtcbmltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIEZpYmVyUmVmIGZyb20gXCJlZmZlY3QvRmliZXJSZWZcIjtcbmltcG9ydCB7IGNvbnN0RmFsc2UsIGR1YWwgfSBmcm9tIFwiZWZmZWN0L0Z1bmN0aW9uXCI7XG5pbXBvcnQgeyBnbG9iYWxWYWx1ZSB9IGZyb20gXCJlZmZlY3QvR2xvYmFsVmFsdWVcIjtcbmltcG9ydCAqIGFzIEluc3BlY3RhYmxlIGZyb20gXCJlZmZlY3QvSW5zcGVjdGFibGVcIjtcbmltcG9ydCAqIGFzIExheWVyIGZyb20gXCJlZmZlY3QvTGF5ZXJcIjtcbmltcG9ydCB7IHBpcGVBcmd1bWVudHMgfSBmcm9tIFwiZWZmZWN0L1BpcGVhYmxlXCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIFJlZiBmcm9tIFwiZWZmZWN0L1JlZlwiO1xuaW1wb3J0ICogYXMgU2NoZWR1bGUgZnJvbSBcImVmZmVjdC9TY2hlZHVsZVwiO1xuaW1wb3J0ICogYXMgU2NvcGUgZnJvbSBcImVmZmVjdC9TY29wZVwiO1xuaW1wb3J0ICogYXMgQ29va2llcyBmcm9tIFwiLi4vQ29va2llcy5qc1wiO1xuaW1wb3J0ICogYXMgSGVhZGVycyBmcm9tIFwiLi4vSGVhZGVycy5qc1wiO1xuaW1wb3J0ICogYXMgRXJyb3IgZnJvbSBcIi4uL0h0dHBDbGllbnRFcnJvci5qc1wiO1xuaW1wb3J0ICogYXMgVHJhY2VDb250ZXh0IGZyb20gXCIuLi9IdHRwVHJhY2VDb250ZXh0LmpzXCI7XG5pbXBvcnQgKiBhcyBVcmxQYXJhbXMgZnJvbSBcIi4uL1VybFBhcmFtcy5qc1wiO1xuaW1wb3J0ICogYXMgaW50ZXJuYWxSZXF1ZXN0IGZyb20gXCIuL2h0dHBDbGllbnRSZXF1ZXN0LmpzXCI7XG5pbXBvcnQgKiBhcyBpbnRlcm5hbFJlc3BvbnNlIGZyb20gXCIuL2h0dHBDbGllbnRSZXNwb25zZS5qc1wiO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQ2xpZW50XCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHRhZyA9IC8qI19fUFVSRV9fKi9Db250ZXh0LkdlbmVyaWNUYWcoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBDbGllbnRcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgY3VycmVudFRyYWNlckRpc2FibGVkV2hlbiA9IC8qI19fUFVSRV9fKi9nbG9iYWxWYWx1ZSggLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBDbGllbnQvdHJhY2VyRGlzYWJsZWRXaGVuXCIpLCAoKSA9PiBGaWJlclJlZi51bnNhZmVNYWtlKGNvbnN0RmFsc2UpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB3aXRoVHJhY2VyRGlzYWJsZWRXaGVuID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIHByZWQpID0+IEVmZmVjdC5sb2NhbGx5KHNlbGYsIGN1cnJlbnRUcmFjZXJEaXNhYmxlZFdoZW4sIHByZWQpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjdXJyZW50VHJhY2VyUHJvcGFnYXRpb24gPSAvKiNfX1BVUkVfXyovZ2xvYmFsVmFsdWUoIC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQ2xpZW50L2N1cnJlbnRUcmFjZXJQcm9wYWdhdGlvblwiKSwgKCkgPT4gRmliZXJSZWYudW5zYWZlTWFrZSh0cnVlKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgd2l0aFRyYWNlclByb3BhZ2F0aW9uID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGVuYWJsZWQpID0+IEVmZmVjdC5sb2NhbGx5KHNlbGYsIGN1cnJlbnRUcmFjZXJQcm9wYWdhdGlvbiwgZW5hYmxlZCkpO1xuY29uc3QgQ2xpZW50UHJvdG8gPSB7XG4gIFtUeXBlSWRdOiBUeXBlSWQsXG4gIHBpcGUoKSB7XG4gICAgcmV0dXJuIHBpcGVBcmd1bWVudHModGhpcywgYXJndW1lbnRzKTtcbiAgfSxcbiAgLi4uSW5zcGVjdGFibGUuQmFzZVByb3RvLFxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9pZDogXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBDbGllbnRcIlxuICAgIH07XG4gIH0sXG4gIGdldCh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKGludGVybmFsUmVxdWVzdC5nZXQodXJsLCBvcHRpb25zKSk7XG4gIH0sXG4gIGhlYWQodXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZShpbnRlcm5hbFJlcXVlc3QuaGVhZCh1cmwsIG9wdGlvbnMpKTtcbiAgfSxcbiAgcG9zdCh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKGludGVybmFsUmVxdWVzdC5wb3N0KHVybCwgb3B0aW9ucykpO1xuICB9LFxuICBwdXQodXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZShpbnRlcm5hbFJlcXVlc3QucHV0KHVybCwgb3B0aW9ucykpO1xuICB9LFxuICBwYXRjaCh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKGludGVybmFsUmVxdWVzdC5wYXRjaCh1cmwsIG9wdGlvbnMpKTtcbiAgfSxcbiAgZGVsKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmV4ZWN1dGUoaW50ZXJuYWxSZXF1ZXN0LmRlbCh1cmwsIG9wdGlvbnMpKTtcbiAgfSxcbiAgb3B0aW9ucyh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKGludGVybmFsUmVxdWVzdC5vcHRpb25zKHVybCwgb3B0aW9ucykpO1xuICB9XG59O1xuY29uc3QgaXNDbGllbnQgPSB1ID0+IFByZWRpY2F0ZS5oYXNQcm9wZXJ0eSh1LCBUeXBlSWQpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1ha2VXaXRoID0gKHBvc3Rwcm9jZXNzLCBwcmVwcm9jZXNzKSA9PiB7XG4gIGNvbnN0IHNlbGYgPSBPYmplY3QuY3JlYXRlKENsaWVudFByb3RvKTtcbiAgc2VsZi5wcmVwcm9jZXNzID0gcHJlcHJvY2VzcztcbiAgc2VsZi5wb3N0cHJvY2VzcyA9IHBvc3Rwcm9jZXNzO1xuICBzZWxmLmV4ZWN1dGUgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgIHJldHVybiBwb3N0cHJvY2VzcyhwcmVwcm9jZXNzKHJlcXVlc3QpKTtcbiAgfTtcbiAgcmV0dXJuIHNlbGY7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBmID0+IG1ha2VXaXRoKGVmZmVjdCA9PiBFZmZlY3QuZmxhdE1hcChlZmZlY3QsIHJlcXVlc3QgPT4gRWZmZWN0LndpdGhGaWJlclJ1bnRpbWUoZmliZXIgPT4ge1xuICBjb25zdCBzY29wZSA9IENvbnRleHQudW5zYWZlR2V0KGZpYmVyLmdldEZpYmVyUmVmKEZpYmVyUmVmLmN1cnJlbnRDb250ZXh0KSwgU2NvcGUuU2NvcGUpO1xuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBjb25zdCBhZGRBYm9ydCA9IFNjb3BlLmFkZEZpbmFsaXplcihzY29wZSwgRWZmZWN0LnN5bmMoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpKSk7XG4gIGNvbnN0IHVybFJlc3VsdCA9IFVybFBhcmFtcy5tYWtlVXJsKHJlcXVlc3QudXJsLCByZXF1ZXN0LnVybFBhcmFtcywgcmVxdWVzdC5oYXNoKTtcbiAgaWYgKHVybFJlc3VsdC5fdGFnID09PSBcIkxlZnRcIikge1xuICAgIHJldHVybiBFZmZlY3QuZmFpbChuZXcgRXJyb3IuUmVxdWVzdEVycm9yKHtcbiAgICAgIHJlcXVlc3QsXG4gICAgICByZWFzb246IFwiSW52YWxpZFVybFwiLFxuICAgICAgY2F1c2U6IHVybFJlc3VsdC5sZWZ0XG4gICAgfSkpO1xuICB9XG4gIGNvbnN0IHVybCA9IHVybFJlc3VsdC5yaWdodDtcbiAgY29uc3QgdHJhY2VyRGlzYWJsZWQgPSAhZmliZXIuZ2V0RmliZXJSZWYoRmliZXJSZWYuY3VycmVudFRyYWNlckVuYWJsZWQpIHx8IGZpYmVyLmdldEZpYmVyUmVmKGN1cnJlbnRUcmFjZXJEaXNhYmxlZFdoZW4pKHJlcXVlc3QpO1xuICBpZiAodHJhY2VyRGlzYWJsZWQpIHtcbiAgICByZXR1cm4gRWZmZWN0LnppcFJpZ2h0KGFkZEFib3J0LCBmKHJlcXVlc3QsIHVybCwgY29udHJvbGxlci5zaWduYWwsIGZpYmVyKSk7XG4gIH1cbiAgcmV0dXJuIEVmZmVjdC56aXBSaWdodChhZGRBYm9ydCwgRWZmZWN0LnVzZVNwYW4oYGh0dHAuY2xpZW50ICR7cmVxdWVzdC5tZXRob2R9YCwge1xuICAgIGtpbmQ6IFwiY2xpZW50XCIsXG4gICAgY2FwdHVyZVN0YWNrVHJhY2U6IGZhbHNlXG4gIH0sIHNwYW4gPT4ge1xuICAgIHNwYW4uYXR0cmlidXRlKFwiaHR0cC5yZXF1ZXN0Lm1ldGhvZFwiLCByZXF1ZXN0Lm1ldGhvZCk7XG4gICAgc3Bhbi5hdHRyaWJ1dGUoXCJzZXJ2ZXIuYWRkcmVzc1wiLCB1cmwub3JpZ2luKTtcbiAgICBpZiAodXJsLnBvcnQgIT09IFwiXCIpIHtcbiAgICAgIHNwYW4uYXR0cmlidXRlKFwic2VydmVyLnBvcnRcIiwgK3VybC5wb3J0KTtcbiAgICB9XG4gICAgc3Bhbi5hdHRyaWJ1dGUoXCJ1cmwuZnVsbFwiLCB1cmwudG9TdHJpbmcoKSk7XG4gICAgc3Bhbi5hdHRyaWJ1dGUoXCJ1cmwucGF0aFwiLCB1cmwucGF0aG5hbWUpO1xuICAgIHNwYW4uYXR0cmlidXRlKFwidXJsLnNjaGVtZVwiLCB1cmwucHJvdG9jb2wuc2xpY2UoMCwgLTEpKTtcbiAgICBjb25zdCBxdWVyeSA9IHVybC5zZWFyY2guc2xpY2UoMSk7XG4gICAgaWYgKHF1ZXJ5ICE9PSBcIlwiKSB7XG4gICAgICBzcGFuLmF0dHJpYnV0ZShcInVybC5xdWVyeVwiLCBxdWVyeSk7XG4gICAgfVxuICAgIGNvbnN0IHJlZGFjdGVkSGVhZGVyTmFtZXMgPSBmaWJlci5nZXRGaWJlclJlZihIZWFkZXJzLmN1cnJlbnRSZWRhY3RlZE5hbWVzKTtcbiAgICBjb25zdCByZWRhY3RlZEhlYWRlcnMgPSBIZWFkZXJzLnJlZGFjdChyZXF1ZXN0LmhlYWRlcnMsIHJlZGFjdGVkSGVhZGVyTmFtZXMpO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiByZWRhY3RlZEhlYWRlcnMpIHtcbiAgICAgIHNwYW4uYXR0cmlidXRlKGBodHRwLnJlcXVlc3QuaGVhZGVyLiR7bmFtZX1gLCBTdHJpbmcocmVkYWN0ZWRIZWFkZXJzW25hbWVdKSk7XG4gICAgfVxuICAgIHJlcXVlc3QgPSBmaWJlci5nZXRGaWJlclJlZihjdXJyZW50VHJhY2VyUHJvcGFnYXRpb24pID8gaW50ZXJuYWxSZXF1ZXN0LnNldEhlYWRlcnMocmVxdWVzdCwgVHJhY2VDb250ZXh0LnRvSGVhZGVycyhzcGFuKSkgOiByZXF1ZXN0O1xuICAgIHJldHVybiBFZmZlY3QudGFwKEVmZmVjdC53aXRoUGFyZW50U3BhbihmKHJlcXVlc3QsIHVybCwgY29udHJvbGxlci5zaWduYWwsIGZpYmVyKSwgc3BhbiksIHJlc3BvbnNlID0+IHtcbiAgICAgIHNwYW4uYXR0cmlidXRlKFwiaHR0cC5yZXNwb25zZS5zdGF0dXNfY29kZVwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgY29uc3QgcmVkYWN0ZWRIZWFkZXJzID0gSGVhZGVycy5yZWRhY3QocmVzcG9uc2UuaGVhZGVycywgcmVkYWN0ZWRIZWFkZXJOYW1lcyk7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gcmVkYWN0ZWRIZWFkZXJzKSB7XG4gICAgICAgIHNwYW4uYXR0cmlidXRlKGBodHRwLnJlc3BvbnNlLmhlYWRlci4ke25hbWV9YCwgU3RyaW5nKHJlZGFjdGVkSGVhZGVyc1tuYW1lXSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KSk7XG59KSksIEVmZmVjdC5zdWNjZWVkKTtcbmV4cG9ydCBjb25zdCB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZGVsLFxuICAvKiogQGludGVybmFsICovXG4gIGV4ZWN1dGUsXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0LFxuICAvKiogQGludGVybmFsICovXG4gIGhlYWQsXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgb3B0aW9ucyxcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwYXRjaCxcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwb3N0LFxuICAvKiogQGludGVybmFsICovXG4gIHB1dFxufSA9IC8qI19fUFVSRV9fKi9FZmZlY3Quc2VydmljZUZ1bmN0aW9ucyh0YWcpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBmKSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IHNlbGY7XG4gIHJldHVybiBtYWtlV2l0aChFZmZlY3QuZmxhdE1hcChyZXF1ZXN0ID0+IGYoY2xpZW50LnBvc3Rwcm9jZXNzKEVmZmVjdC5zdWNjZWVkKHJlcXVlc3QpKSwgcmVxdWVzdCkpLCBjbGllbnQucHJlcHJvY2Vzcyk7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmaWx0ZXJTdGF0dXMgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZikgPT4gdHJhbnNmb3JtUmVzcG9uc2Uoc2VsZiwgRWZmZWN0LmZsYXRNYXAoaW50ZXJuYWxSZXNwb25zZS5maWx0ZXJTdGF0dXMoZikpKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZmlsdGVyU3RhdHVzT2sgPSBzZWxmID0+IHRyYW5zZm9ybVJlc3BvbnNlKHNlbGYsIEVmZmVjdC5mbGF0TWFwKGludGVybmFsUmVzcG9uc2UuZmlsdGVyU3RhdHVzT2spKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1SZXNwb25zZSA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBmKSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IHNlbGY7XG4gIHJldHVybiBtYWtlV2l0aChyZXF1ZXN0ID0+IGYoY2xpZW50LnBvc3Rwcm9jZXNzKHJlcXVlc3QpKSwgY2xpZW50LnByZXByb2Nlc3MpO1xufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgY2F0Y2hUYWcgPSAvKiNfX1BVUkVfXyovZHVhbCgzLCAoc2VsZiwgdGFnLCBmKSA9PiB0cmFuc2Zvcm1SZXNwb25zZShzZWxmLCBFZmZlY3QuY2F0Y2hUYWcodGFnLCBmKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNhdGNoVGFncyA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBjYXNlcykgPT4gdHJhbnNmb3JtUmVzcG9uc2Uoc2VsZiwgRWZmZWN0LmNhdGNoVGFncyhjYXNlcykpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjYXRjaEFsbCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBmKSA9PiB0cmFuc2Zvcm1SZXNwb25zZShzZWxmLCBFZmZlY3QuY2F0Y2hBbGwoZikpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmaWx0ZXJPckVsc2UgPSAvKiNfX1BVUkVfXyovZHVhbCgzLCAoc2VsZiwgZiwgb3JFbHNlKSA9PiB0cmFuc2Zvcm1SZXNwb25zZShzZWxmLCBFZmZlY3QuZmlsdGVyT3JFbHNlKGYsIG9yRWxzZSkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmaWx0ZXJPckZhaWwgPSAvKiNfX1BVUkVfXyovZHVhbCgzLCAoc2VsZiwgZiwgb3JGYWlsV2l0aCkgPT4gdHJhbnNmb3JtUmVzcG9uc2Uoc2VsZiwgRWZmZWN0LmZpbHRlck9yRmFpbChmLCBvckZhaWxXaXRoKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1hcFJlcXVlc3QgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZikgPT4ge1xuICBjb25zdCBjbGllbnQgPSBzZWxmO1xuICByZXR1cm4gbWFrZVdpdGgoY2xpZW50LnBvc3Rwcm9jZXNzLCByZXF1ZXN0ID0+IEVmZmVjdC5tYXAoY2xpZW50LnByZXByb2Nlc3MocmVxdWVzdCksIGYpKTtcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1hcFJlcXVlc3RFZmZlY3QgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZikgPT4ge1xuICBjb25zdCBjbGllbnQgPSBzZWxmO1xuICByZXR1cm4gbWFrZVdpdGgoY2xpZW50LnBvc3Rwcm9jZXNzLCByZXF1ZXN0ID0+IEVmZmVjdC5mbGF0TWFwKGNsaWVudC5wcmVwcm9jZXNzKHJlcXVlc3QpLCBmKSk7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBtYXBSZXF1ZXN0SW5wdXQgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZikgPT4ge1xuICBjb25zdCBjbGllbnQgPSBzZWxmO1xuICByZXR1cm4gbWFrZVdpdGgoY2xpZW50LnBvc3Rwcm9jZXNzLCByZXF1ZXN0ID0+IGNsaWVudC5wcmVwcm9jZXNzKGYocmVxdWVzdCkpKTtcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1hcFJlcXVlc3RJbnB1dEVmZmVjdCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBmKSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IHNlbGY7XG4gIHJldHVybiBtYWtlV2l0aChjbGllbnQucG9zdHByb2Nlc3MsIHJlcXVlc3QgPT4gRWZmZWN0LmZsYXRNYXAoZihyZXF1ZXN0KSwgY2xpZW50LnByZXByb2Nlc3MpKTtcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHJldHJ5ID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIHBvbGljeSkgPT4gdHJhbnNmb3JtUmVzcG9uc2Uoc2VsZiwgRWZmZWN0LnJldHJ5KHBvbGljeSkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCByZXRyeVRyYW5zaWVudCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBvcHRpb25zKSA9PiB0cmFuc2Zvcm1SZXNwb25zZShzZWxmLCBFZmZlY3QucmV0cnkoe1xuICB3aGlsZTogU2NoZWR1bGUuU2NoZWR1bGVUeXBlSWQgaW4gb3B0aW9ucyB8fCBvcHRpb25zLndoaWxlID09PSB1bmRlZmluZWQgPyBpc1RyYW5zaWVudEVycm9yIDogUHJlZGljYXRlLm9yKGlzVHJhbnNpZW50RXJyb3IsIG9wdGlvbnMud2hpbGUpLFxuICBzY2hlZHVsZTogU2NoZWR1bGUuU2NoZWR1bGVUeXBlSWQgaW4gb3B0aW9ucyA/IG9wdGlvbnMgOiBvcHRpb25zLnNjaGVkdWxlLFxuICB0aW1lczogU2NoZWR1bGUuU2NoZWR1bGVUeXBlSWQgaW4gb3B0aW9ucyA/IHVuZGVmaW5lZCA6IG9wdGlvbnMudGltZXNcbn0pKSk7XG5jb25zdCBpc1RyYW5zaWVudEVycm9yID0gZXJyb3IgPT4gUHJlZGljYXRlLmhhc1Byb3BlcnR5KGVycm9yLCBDYXVzZS5UaW1lb3V0RXhjZXB0aW9uVHlwZUlkKSB8fCBpc1RyYW5zaWVudEh0dHBFcnJvcihlcnJvcik7XG5jb25zdCBpc1RyYW5zaWVudEh0dHBFcnJvciA9IGVycm9yID0+IEVycm9yLmlzSHR0cENsaWVudEVycm9yKGVycm9yKSAmJiAoZXJyb3IuX3RhZyA9PT0gXCJSZXF1ZXN0RXJyb3JcIiAmJiBlcnJvci5yZWFzb24gPT09IFwiVHJhbnNwb3J0XCIgfHwgZXJyb3IuX3RhZyA9PT0gXCJSZXNwb25zZUVycm9yXCIgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID49IDQyOSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdGFwID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGYpID0+IHRyYW5zZm9ybVJlc3BvbnNlKHNlbGYsIEVmZmVjdC50YXAoZikpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB0YXBFcnJvciA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBmKSA9PiB0cmFuc2Zvcm1SZXNwb25zZShzZWxmLCBFZmZlY3QudGFwRXJyb3IoZikpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB0YXBSZXF1ZXN0ID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGYpID0+IHtcbiAgY29uc3QgY2xpZW50ID0gc2VsZjtcbiAgcmV0dXJuIG1ha2VXaXRoKGNsaWVudC5wb3N0cHJvY2VzcywgcmVxdWVzdCA9PiBFZmZlY3QudGFwKGNsaWVudC5wcmVwcm9jZXNzKHJlcXVlc3QpLCBmKSk7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB3aXRoQ29va2llc1JlZiA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCByZWYpID0+IHtcbiAgY29uc3QgY2xpZW50ID0gc2VsZjtcbiAgcmV0dXJuIG1ha2VXaXRoKHJlcXVlc3QgPT4gRWZmZWN0LnRhcChjbGllbnQucG9zdHByb2Nlc3MocmVxdWVzdCksIHJlc3BvbnNlID0+IFJlZi51cGRhdGUocmVmLCBjb29raWVzID0+IENvb2tpZXMubWVyZ2UoY29va2llcywgcmVzcG9uc2UuY29va2llcykpKSwgcmVxdWVzdCA9PiBFZmZlY3QuZmxhdE1hcChjbGllbnQucHJlcHJvY2VzcyhyZXF1ZXN0KSwgcmVxdWVzdCA9PiBFZmZlY3QubWFwKFJlZi5nZXQocmVmKSwgY29va2llcyA9PiBDb29raWVzLmlzRW1wdHkoY29va2llcykgPyByZXF1ZXN0IDogaW50ZXJuYWxSZXF1ZXN0LnNldEhlYWRlcihyZXF1ZXN0LCBcImNvb2tpZVwiLCBDb29raWVzLnRvQ29va2llSGVhZGVyKGNvb2tpZXMpKSkpKTtcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGZvbGxvd1JlZGlyZWN0cyA9IC8qI19fUFVSRV9fKi9kdWFsKGFyZ3MgPT4gaXNDbGllbnQoYXJnc1swXSksIChzZWxmLCBtYXhSZWRpcmVjdHMpID0+IHtcbiAgY29uc3QgY2xpZW50ID0gc2VsZjtcbiAgcmV0dXJuIG1ha2VXaXRoKHJlcXVlc3QgPT4ge1xuICAgIGNvbnN0IGxvb3AgPSAocmVxdWVzdCwgcmVkaXJlY3RzKSA9PiBFZmZlY3QuZmxhdE1hcChjbGllbnQucG9zdHByb2Nlc3MoRWZmZWN0LnN1Y2NlZWQocmVxdWVzdCkpLCByZXNwb25zZSA9PiByZXNwb25zZS5zdGF0dXMgPj0gMzAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCAmJiByZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uICYmIHJlZGlyZWN0cyA8IChtYXhSZWRpcmVjdHMgPz8gMTApID8gbG9vcChpbnRlcm5hbFJlcXVlc3Quc2V0VXJsKHJlcXVlc3QsIG5ldyBVUkwocmVzcG9uc2UuaGVhZGVycy5sb2NhdGlvbiwgcmVzcG9uc2UucmVxdWVzdC51cmwpKSwgcmVkaXJlY3RzICsgMSkgOiBFZmZlY3Quc3VjY2VlZChyZXNwb25zZSkpO1xuICAgIHJldHVybiBFZmZlY3QuZmxhdE1hcChyZXF1ZXN0LCByZXF1ZXN0ID0+IGxvb3AocmVxdWVzdCwgMCkpO1xuICB9LCBjbGllbnQucHJlcHJvY2Vzcyk7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBsYXllck1lcmdlZENvbnRleHQgPSBlZmZlY3QgPT4gTGF5ZXIuZWZmZWN0KHRhZywgRWZmZWN0LmZsYXRNYXAoRWZmZWN0LmNvbnRleHQoKSwgY29udGV4dCA9PiBFZmZlY3QubWFwKGVmZmVjdCwgY2xpZW50ID0+IHRyYW5zZm9ybVJlc3BvbnNlKGNsaWVudCwgRWZmZWN0Lm1hcElucHV0Q29udGV4dChpbnB1dCA9PiBDb250ZXh0Lm1lcmdlKGNvbnRleHQsIGlucHV0KSkpKSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cENsaWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClient.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientError.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpClientError.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId)\n/* harmony export */ });\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpClientError\");\n//# sourceMappingURL=httpClientError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cENsaWVudEVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNPO0FBQ1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cENsaWVudEVycm9yLmpzPzJhYTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQ2xpZW50RXJyb3JcIik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwQ2xpZW50RXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientError.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientRequest.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpClientRequest.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   accept: () => (/* binding */ accept),\n/* harmony export */   acceptJson: () => (/* binding */ acceptJson),\n/* harmony export */   appendUrl: () => (/* binding */ appendUrl),\n/* harmony export */   appendUrlParam: () => (/* binding */ appendUrlParam),\n/* harmony export */   appendUrlParams: () => (/* binding */ appendUrlParams),\n/* harmony export */   basicAuth: () => (/* binding */ basicAuth),\n/* harmony export */   bearerToken: () => (/* binding */ bearerToken),\n/* harmony export */   bodyFile: () => (/* binding */ bodyFile),\n/* harmony export */   bodyFileWeb: () => (/* binding */ bodyFileWeb),\n/* harmony export */   bodyFormData: () => (/* binding */ bodyFormData),\n/* harmony export */   bodyJson: () => (/* binding */ bodyJson),\n/* harmony export */   bodyStream: () => (/* binding */ bodyStream),\n/* harmony export */   bodyText: () => (/* binding */ bodyText),\n/* harmony export */   bodyUint8Array: () => (/* binding */ bodyUint8Array),\n/* harmony export */   bodyUnsafeJson: () => (/* binding */ bodyUnsafeJson),\n/* harmony export */   bodyUrlParams: () => (/* binding */ bodyUrlParams),\n/* harmony export */   del: () => (/* binding */ del),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   head: () => (/* binding */ head),\n/* harmony export */   isClientRequest: () => (/* binding */ isClientRequest),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   modify: () => (/* binding */ modify),\n/* harmony export */   options: () => (/* binding */ options),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   prependUrl: () => (/* binding */ prependUrl),\n/* harmony export */   put: () => (/* binding */ put),\n/* harmony export */   removeHash: () => (/* binding */ removeHash),\n/* harmony export */   schemaBodyJson: () => (/* binding */ schemaBodyJson),\n/* harmony export */   setBody: () => (/* binding */ setBody),\n/* harmony export */   setHash: () => (/* binding */ setHash),\n/* harmony export */   setHeader: () => (/* binding */ setHeader),\n/* harmony export */   setHeaders: () => (/* binding */ setHeaders),\n/* harmony export */   setMethod: () => (/* binding */ setMethod),\n/* harmony export */   setUrl: () => (/* binding */ setUrl),\n/* harmony export */   setUrlParam: () => (/* binding */ setUrlParam),\n/* harmony export */   setUrlParams: () => (/* binding */ setUrlParams),\n/* harmony export */   updateUrl: () => (/* binding */ updateUrl)\n/* harmony export */ });\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Pipeable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Pipeable */ \"(rsc)/../../node_modules/effect/dist/esm/Pipeable.js\");\n/* harmony import */ var effect_Redacted__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Redacted */ \"(rsc)/../../node_modules/effect/dist/esm/Redacted.js\");\n/* harmony import */ var _Headers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Headers.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js\");\n/* harmony import */ var _UrlParams_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../UrlParams.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js\");\n/* harmony import */ var _httpBody_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./httpBody.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpBody.js\");\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpClientRequest\");\nconst Proto = {\n  [TypeId]: TypeId,\n  ...effect_Inspectable__WEBPACK_IMPORTED_MODULE_0__.BaseProto,\n  toJSON() {\n    return {\n      _id: \"@effect/platform/HttpClientRequest\",\n      method: this.method,\n      url: this.url,\n      urlParams: this.urlParams,\n      hash: this.hash,\n      headers: effect_Inspectable__WEBPACK_IMPORTED_MODULE_0__.redact(this.headers),\n      body: this.body.toJSON()\n    };\n  },\n  pipe() {\n    return (0,effect_Pipeable__WEBPACK_IMPORTED_MODULE_1__.pipeArguments)(this, arguments);\n  }\n};\nfunction makeInternal(method, url, urlParams, hash, headers, body) {\n  const self = Object.create(Proto);\n  self.method = method;\n  self.url = url;\n  self.urlParams = urlParams;\n  self.hash = hash;\n  self.headers = headers;\n  self.body = body;\n  return self;\n}\n/** @internal */\nconst isClientRequest = u => typeof u === \"object\" && u !== null && TypeId in u;\n/** @internal */\nconst empty = /*#__PURE__*/makeInternal(\"GET\", \"\", _UrlParams_js__WEBPACK_IMPORTED_MODULE_2__.empty, /*#__PURE__*/effect_Option__WEBPACK_IMPORTED_MODULE_3__.none(), _Headers_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.empty);\n/** @internal */\nconst make = method => (url, options) => modify(empty, {\n  method,\n  url,\n  ...(options ?? undefined)\n});\n/** @internal */\nconst get = /*#__PURE__*/make(\"GET\");\n/** @internal */\nconst post = /*#__PURE__*/make(\"POST\");\n/** @internal */\nconst put = /*#__PURE__*/make(\"PUT\");\n/** @internal */\nconst patch = /*#__PURE__*/make(\"PATCH\");\n/** @internal */\nconst del = /*#__PURE__*/make(\"DELETE\");\n/** @internal */\nconst head = /*#__PURE__*/make(\"HEAD\");\n/** @internal */\nconst options = /*#__PURE__*/make(\"OPTIONS\");\n/** @internal */\nconst modify = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, options) => {\n  let result = self;\n  if (options.method) {\n    result = setMethod(result, options.method);\n  }\n  if (options.url) {\n    result = setUrl(result, options.url);\n  }\n  if (options.headers) {\n    result = setHeaders(result, options.headers);\n  }\n  if (options.urlParams) {\n    result = setUrlParams(result, options.urlParams);\n  }\n  if (options.hash) {\n    result = setHash(result, options.hash);\n  }\n  if (options.body) {\n    result = setBody(result, options.body);\n  }\n  if (options.accept) {\n    result = accept(result, options.accept);\n  }\n  if (options.acceptJson) {\n    result = acceptJson(result);\n  }\n  return result;\n});\n/** @internal */\nconst setHeader = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(3, (self, key, value) => makeInternal(self.method, self.url, self.urlParams, self.hash, _Headers_js__WEBPACK_IMPORTED_MODULE_4__.set(self.headers, key, value), self.body));\n/** @internal */\nconst setHeaders = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, input) => makeInternal(self.method, self.url, self.urlParams, self.hash, _Headers_js__WEBPACK_IMPORTED_MODULE_4__.setAll(self.headers, input), self.body));\nconst stringOrRedacted = value => typeof value === \"string\" ? value : effect_Redacted__WEBPACK_IMPORTED_MODULE_7__.value(value);\n/** @internal */\nconst basicAuth = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(3, (self, username, password) => setHeader(self, \"Authorization\", `Basic ${btoa(`${stringOrRedacted(username)}:${stringOrRedacted(password)}`)}`));\n/** @internal */\nconst bearerToken = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, token) => setHeader(self, \"Authorization\", `Bearer ${stringOrRedacted(token)}`));\n/** @internal */\nconst accept = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, mediaType) => setHeader(self, \"Accept\", mediaType));\n/** @internal */\nconst acceptJson = /*#__PURE__*/accept(\"application/json\");\n/** @internal */\nconst setMethod = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, method) => makeInternal(method, self.url, self.urlParams, self.hash, self.headers, self.body));\n/** @internal */\nconst setUrl = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, url) => {\n  if (typeof url === \"string\") {\n    return makeInternal(self.method, url, self.urlParams, self.hash, self.headers, self.body);\n  }\n  const clone = new URL(url.toString());\n  const urlParams = _UrlParams_js__WEBPACK_IMPORTED_MODULE_2__.fromInput(clone.searchParams);\n  const hash = clone.hash ? effect_Option__WEBPACK_IMPORTED_MODULE_3__.some(clone.hash.slice(1)) : effect_Option__WEBPACK_IMPORTED_MODULE_3__.none();\n  clone.search = \"\";\n  clone.hash = \"\";\n  return makeInternal(self.method, clone.toString(), urlParams, hash, self.headers, self.body);\n});\n/** @internal */\nconst appendUrl = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, url) => makeInternal(self.method, self.url.endsWith(\"/\") && url.startsWith(\"/\") ? self.url + url.slice(1) : self.url + url, self.urlParams, self.hash, self.headers, self.body));\n/** @internal */\nconst prependUrl = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, url) => makeInternal(self.method, url.endsWith(\"/\") && self.url.startsWith(\"/\") ? url + self.url.slice(1) : url + self.url, self.urlParams, self.hash, self.headers, self.body));\n/** @internal */\nconst updateUrl = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, f) => makeInternal(self.method, f(self.url), self.urlParams, self.hash, self.headers, self.body));\n/** @internal */\nconst appendUrlParam = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(3, (self, key, value) => makeInternal(self.method, self.url, _UrlParams_js__WEBPACK_IMPORTED_MODULE_2__.append(self.urlParams, key, value), self.hash, self.headers, self.body));\n/** @internal */\nconst appendUrlParams = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, input) => makeInternal(self.method, self.url, _UrlParams_js__WEBPACK_IMPORTED_MODULE_2__.appendAll(self.urlParams, input), self.hash, self.headers, self.body));\n/** @internal */\nconst setUrlParam = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(3, (self, key, value) => makeInternal(self.method, self.url, _UrlParams_js__WEBPACK_IMPORTED_MODULE_2__.set(self.urlParams, key, value), self.hash, self.headers, self.body));\n/** @internal */\nconst setUrlParams = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, input) => makeInternal(self.method, self.url, _UrlParams_js__WEBPACK_IMPORTED_MODULE_2__.setAll(self.urlParams, input), self.hash, self.headers, self.body));\n/** @internal */\nconst setHash = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, hash) => makeInternal(self.method, self.url, self.urlParams, effect_Option__WEBPACK_IMPORTED_MODULE_3__.some(hash), self.headers, self.body));\n/** @internal */\nconst removeHash = self => makeInternal(self.method, self.url, self.urlParams, effect_Option__WEBPACK_IMPORTED_MODULE_3__.none(), self.headers, self.body);\n/** @internal */\nconst setBody = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, body) => {\n  let headers = self.headers;\n  if (body._tag === \"Empty\") {\n    headers = _Headers_js__WEBPACK_IMPORTED_MODULE_4__.remove(_Headers_js__WEBPACK_IMPORTED_MODULE_4__.remove(headers, \"Content-Type\"), \"Content-length\");\n  } else {\n    const contentType = body.contentType;\n    if (contentType) {\n      headers = _Headers_js__WEBPACK_IMPORTED_MODULE_4__.set(headers, \"content-type\", contentType);\n    }\n    const contentLength = body.contentLength;\n    if (contentLength) {\n      headers = _Headers_js__WEBPACK_IMPORTED_MODULE_4__.set(headers, \"content-length\", contentLength.toString());\n    }\n  }\n  return makeInternal(self.method, self.url, self.urlParams, self.hash, headers, body);\n});\n/** @internal */\nconst bodyUint8Array = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(args => isClientRequest(args[0]), (self, body, contentType = \"application/octet-stream\") => setBody(self, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.uint8Array(body, contentType)));\n/** @internal */\nconst bodyText = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(args => isClientRequest(args[0]), (self, body, contentType = \"text/plain\") => setBody(self, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.text(body, contentType)));\n/** @internal */\nconst bodyJson = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, body) => effect_Effect__WEBPACK_IMPORTED_MODULE_8__.map(_httpBody_js__WEBPACK_IMPORTED_MODULE_5__.json(body), body => setBody(self, body)));\n/** @internal */\nconst bodyUnsafeJson = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, body) => setBody(self, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.unsafeJson(body)));\n/** @internal */\nconst bodyFile = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(args => isClientRequest(args[0]), (self, path, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_8__.map(_httpBody_js__WEBPACK_IMPORTED_MODULE_5__.file(path, options), body => setBody(self, body)));\n/** @internal */\nconst bodyFileWeb = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, file) => setBody(self, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.fileWeb(file)));\n/** @internal */\nconst schemaBodyJson = (schema, options) => {\n  const encode = _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.jsonSchema(schema, options);\n  return (0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, body) => effect_Effect__WEBPACK_IMPORTED_MODULE_8__.map(encode(body), body => setBody(self, body)));\n};\n/** @internal */\nconst bodyUrlParams = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, body) => setBody(self, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.text(_UrlParams_js__WEBPACK_IMPORTED_MODULE_2__.toString(_UrlParams_js__WEBPACK_IMPORTED_MODULE_2__.fromInput(body)), \"application/x-www-form-urlencoded\")));\n/** @internal */\nconst bodyFormData = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(2, (self, body) => setBody(self, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.formData(body)));\n/** @internal */\nconst bodyStream = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.dual)(args => isClientRequest(args[0]), (self, body, {\n  contentLength,\n  contentType = \"application/octet-stream\"\n} = {}) => setBody(self, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.stream(body, contentType, contentLength)));\n//# sourceMappingURL=httpClientRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cENsaWVudFJlcXVlc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QztBQUNEO0FBQ1c7QUFDVjtBQUNRO0FBQ0o7QUFDSDtBQUNJO0FBQ0M7QUFDOUM7QUFDTztBQUNQO0FBQ0E7QUFDQSxLQUFLLHlEQUFxQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0RBQWtCO0FBQ2pDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLDhEQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNPLG1EQUFtRCxnREFBZSxlQUFlLCtDQUFXLElBQUksOENBQWEsRUFBRSwrQ0FBa0I7QUFDeEk7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTyw0QkFBNEIscURBQUk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPLCtCQUErQixxREFBSSx5RkFBeUYsNENBQVc7QUFDOUk7QUFDTyxnQ0FBZ0MscURBQUksb0ZBQW9GLCtDQUFjO0FBQzdJLHNFQUFzRSxrREFBYztBQUNwRjtBQUNPLCtCQUErQixxREFBSSw0RUFBNEUsUUFBUSwyQkFBMkIsR0FBRywyQkFBMkIsR0FBRztBQUMxTDtBQUNPLGlDQUFpQyxxREFBSSxnRUFBZ0Usd0JBQXdCO0FBQ3BJO0FBQ08sNEJBQTRCLHFEQUFJO0FBQ3ZDO0FBQ087QUFDUDtBQUNPLCtCQUErQixxREFBSTtBQUMxQztBQUNPLDRCQUE0QixxREFBSTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvREFBbUI7QUFDdkMsNEJBQTRCLCtDQUFXLHdCQUF3QiwrQ0FBVztBQUMxRTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTywrQkFBK0IscURBQUk7QUFDMUM7QUFDTyxnQ0FBZ0MscURBQUk7QUFDM0M7QUFDTywrQkFBK0IscURBQUk7QUFDMUM7QUFDTyxvQ0FBb0MscURBQUksOERBQThELGlEQUFnQjtBQUM3SDtBQUNPLHFDQUFxQyxxREFBSSx5REFBeUQsb0RBQW1CO0FBQzVIO0FBQ08saUNBQWlDLHFEQUFJLDhEQUE4RCw4Q0FBYTtBQUN2SDtBQUNPLGtDQUFrQyxxREFBSSx5REFBeUQsaURBQWdCO0FBQ3RIO0FBQ08sNkJBQTZCLHFEQUFJLHdFQUF3RSwrQ0FBVztBQUMzSDtBQUNPLCtFQUErRSwrQ0FBVztBQUNqRztBQUNPLDZCQUE2QixxREFBSTtBQUN4QztBQUNBO0FBQ0EsY0FBYywrQ0FBYyxDQUFDLCtDQUFjO0FBQzNDLElBQUk7QUFDSjtBQUNBO0FBQ0EsZ0JBQWdCLDRDQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0Q0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTyxvQ0FBb0MscURBQUksMkdBQTJHLG9EQUF1QjtBQUNqTDtBQUNPLDhCQUE4QixxREFBSSw2RkFBNkYsOENBQWlCO0FBQ3ZKO0FBQ08sOEJBQThCLHFEQUFJLG9CQUFvQiw4Q0FBVSxDQUFDLDhDQUFpQjtBQUN6RjtBQUNPLG9DQUFvQyxxREFBSSxrQ0FBa0Msb0RBQXVCO0FBQ3hHO0FBQ08sOEJBQThCLHFEQUFJLDREQUE0RCw4Q0FBVSxDQUFDLDhDQUFpQjtBQUNqSTtBQUNPLGlDQUFpQyxxREFBSSxrQ0FBa0MsaURBQW9CO0FBQ2xHO0FBQ087QUFDUCxpQkFBaUIsb0RBQXVCO0FBQ3hDLFNBQVMscURBQUksb0JBQW9CLDhDQUFVO0FBQzNDO0FBQ0E7QUFDTyxtQ0FBbUMscURBQUksa0NBQWtDLDhDQUFpQixDQUFDLG1EQUFrQixDQUFDLG9EQUFtQjtBQUN4STtBQUNPLGtDQUFrQyxxREFBSSxrQ0FBa0Msa0RBQXFCO0FBQ3BHO0FBQ08sZ0NBQWdDLHFEQUFJO0FBQzNDO0FBQ0E7QUFDQSxFQUFFLElBQUksbUJBQW1CLGdEQUFtQjtBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9pbnRlcm5hbC9odHRwQ2xpZW50UmVxdWVzdC5qcz83NjRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0IHsgZHVhbCB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIjtcbmltcG9ydCAqIGFzIEluc3BlY3RhYmxlIGZyb20gXCJlZmZlY3QvSW5zcGVjdGFibGVcIjtcbmltcG9ydCAqIGFzIE9wdGlvbiBmcm9tIFwiZWZmZWN0L09wdGlvblwiO1xuaW1wb3J0IHsgcGlwZUFyZ3VtZW50cyB9IGZyb20gXCJlZmZlY3QvUGlwZWFibGVcIjtcbmltcG9ydCAqIGFzIFJlZGFjdGVkIGZyb20gXCJlZmZlY3QvUmVkYWN0ZWRcIjtcbmltcG9ydCAqIGFzIEhlYWRlcnMgZnJvbSBcIi4uL0hlYWRlcnMuanNcIjtcbmltcG9ydCAqIGFzIFVybFBhcmFtcyBmcm9tIFwiLi4vVXJsUGFyYW1zLmpzXCI7XG5pbXBvcnQgKiBhcyBpbnRlcm5hbEJvZHkgZnJvbSBcIi4vaHR0cEJvZHkuanNcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cENsaWVudFJlcXVlc3RcIik7XG5jb25zdCBQcm90byA9IHtcbiAgW1R5cGVJZF06IFR5cGVJZCxcbiAgLi4uSW5zcGVjdGFibGUuQmFzZVByb3RvLFxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9pZDogXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBDbGllbnRSZXF1ZXN0XCIsXG4gICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgIHVybFBhcmFtczogdGhpcy51cmxQYXJhbXMsXG4gICAgICBoYXNoOiB0aGlzLmhhc2gsXG4gICAgICBoZWFkZXJzOiBJbnNwZWN0YWJsZS5yZWRhY3QodGhpcy5oZWFkZXJzKSxcbiAgICAgIGJvZHk6IHRoaXMuYm9keS50b0pTT04oKVxuICAgIH07XG4gIH0sXG4gIHBpcGUoKSB7XG4gICAgcmV0dXJuIHBpcGVBcmd1bWVudHModGhpcywgYXJndW1lbnRzKTtcbiAgfVxufTtcbmZ1bmN0aW9uIG1ha2VJbnRlcm5hbChtZXRob2QsIHVybCwgdXJsUGFyYW1zLCBoYXNoLCBoZWFkZXJzLCBib2R5KSB7XG4gIGNvbnN0IHNlbGYgPSBPYmplY3QuY3JlYXRlKFByb3RvKTtcbiAgc2VsZi5tZXRob2QgPSBtZXRob2Q7XG4gIHNlbGYudXJsID0gdXJsO1xuICBzZWxmLnVybFBhcmFtcyA9IHVybFBhcmFtcztcbiAgc2VsZi5oYXNoID0gaGFzaDtcbiAgc2VsZi5oZWFkZXJzID0gaGVhZGVycztcbiAgc2VsZi5ib2R5ID0gYm9keTtcbiAgcmV0dXJuIHNlbGY7XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNDbGllbnRSZXF1ZXN0ID0gdSA9PiB0eXBlb2YgdSA9PT0gXCJvYmplY3RcIiAmJiB1ICE9PSBudWxsICYmIFR5cGVJZCBpbiB1O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGVtcHR5ID0gLyojX19QVVJFX18qL21ha2VJbnRlcm5hbChcIkdFVFwiLCBcIlwiLCBVcmxQYXJhbXMuZW1wdHksIC8qI19fUFVSRV9fKi9PcHRpb24ubm9uZSgpLCBIZWFkZXJzLmVtcHR5LCBpbnRlcm5hbEJvZHkuZW1wdHkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBtZXRob2QgPT4gKHVybCwgb3B0aW9ucykgPT4gbW9kaWZ5KGVtcHR5LCB7XG4gIG1ldGhvZCxcbiAgdXJsLFxuICAuLi4ob3B0aW9ucyA/PyB1bmRlZmluZWQpXG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXQgPSAvKiNfX1BVUkVfXyovbWFrZShcIkdFVFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBwb3N0ID0gLyojX19QVVJFX18qL21ha2UoXCJQT1NUXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHB1dCA9IC8qI19fUFVSRV9fKi9tYWtlKFwiUFVUXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHBhdGNoID0gLyojX19QVVJFX18qL21ha2UoXCJQQVRDSFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBkZWwgPSAvKiNfX1BVUkVfXyovbWFrZShcIkRFTEVURVwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBoZWFkID0gLyojX19QVVJFX18qL21ha2UoXCJIRUFEXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG9wdGlvbnMgPSAvKiNfX1BVUkVfXyovbWFrZShcIk9QVElPTlNcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbW9kaWZ5ID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIG9wdGlvbnMpID0+IHtcbiAgbGV0IHJlc3VsdCA9IHNlbGY7XG4gIGlmIChvcHRpb25zLm1ldGhvZCkge1xuICAgIHJlc3VsdCA9IHNldE1ldGhvZChyZXN1bHQsIG9wdGlvbnMubWV0aG9kKTtcbiAgfVxuICBpZiAob3B0aW9ucy51cmwpIHtcbiAgICByZXN1bHQgPSBzZXRVcmwocmVzdWx0LCBvcHRpb25zLnVybCk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgIHJlc3VsdCA9IHNldEhlYWRlcnMocmVzdWx0LCBvcHRpb25zLmhlYWRlcnMpO1xuICB9XG4gIGlmIChvcHRpb25zLnVybFBhcmFtcykge1xuICAgIHJlc3VsdCA9IHNldFVybFBhcmFtcyhyZXN1bHQsIG9wdGlvbnMudXJsUGFyYW1zKTtcbiAgfVxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgcmVzdWx0ID0gc2V0SGFzaChyZXN1bHQsIG9wdGlvbnMuaGFzaCk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgIHJlc3VsdCA9IHNldEJvZHkocmVzdWx0LCBvcHRpb25zLmJvZHkpO1xuICB9XG4gIGlmIChvcHRpb25zLmFjY2VwdCkge1xuICAgIHJlc3VsdCA9IGFjY2VwdChyZXN1bHQsIG9wdGlvbnMuYWNjZXB0KTtcbiAgfVxuICBpZiAob3B0aW9ucy5hY2NlcHRKc29uKSB7XG4gICAgcmVzdWx0ID0gYWNjZXB0SnNvbihyZXN1bHQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXRIZWFkZXIgPSAvKiNfX1BVUkVfXyovZHVhbCgzLCAoc2VsZiwga2V5LCB2YWx1ZSkgPT4gbWFrZUludGVybmFsKHNlbGYubWV0aG9kLCBzZWxmLnVybCwgc2VsZi51cmxQYXJhbXMsIHNlbGYuaGFzaCwgSGVhZGVycy5zZXQoc2VsZi5oZWFkZXJzLCBrZXksIHZhbHVlKSwgc2VsZi5ib2R5KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc2V0SGVhZGVycyA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBpbnB1dCkgPT4gbWFrZUludGVybmFsKHNlbGYubWV0aG9kLCBzZWxmLnVybCwgc2VsZi51cmxQYXJhbXMsIHNlbGYuaGFzaCwgSGVhZGVycy5zZXRBbGwoc2VsZi5oZWFkZXJzLCBpbnB1dCksIHNlbGYuYm9keSkpO1xuY29uc3Qgc3RyaW5nT3JSZWRhY3RlZCA9IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogUmVkYWN0ZWQudmFsdWUodmFsdWUpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGJhc2ljQXV0aCA9IC8qI19fUFVSRV9fKi9kdWFsKDMsIChzZWxmLCB1c2VybmFtZSwgcGFzc3dvcmQpID0+IHNldEhlYWRlcihzZWxmLCBcIkF1dGhvcml6YXRpb25cIiwgYEJhc2ljICR7YnRvYShgJHtzdHJpbmdPclJlZGFjdGVkKHVzZXJuYW1lKX06JHtzdHJpbmdPclJlZGFjdGVkKHBhc3N3b3JkKX1gKX1gKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgYmVhcmVyVG9rZW4gPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgdG9rZW4pID0+IHNldEhlYWRlcihzZWxmLCBcIkF1dGhvcml6YXRpb25cIiwgYEJlYXJlciAke3N0cmluZ09yUmVkYWN0ZWQodG9rZW4pfWApKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBhY2NlcHQgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgbWVkaWFUeXBlKSA9PiBzZXRIZWFkZXIoc2VsZiwgXCJBY2NlcHRcIiwgbWVkaWFUeXBlKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgYWNjZXB0SnNvbiA9IC8qI19fUFVSRV9fKi9hY2NlcHQoXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNldE1ldGhvZCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBtZXRob2QpID0+IG1ha2VJbnRlcm5hbChtZXRob2QsIHNlbGYudXJsLCBzZWxmLnVybFBhcmFtcywgc2VsZi5oYXNoLCBzZWxmLmhlYWRlcnMsIHNlbGYuYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNldFVybCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCB1cmwpID0+IHtcbiAgaWYgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gbWFrZUludGVybmFsKHNlbGYubWV0aG9kLCB1cmwsIHNlbGYudXJsUGFyYW1zLCBzZWxmLmhhc2gsIHNlbGYuaGVhZGVycywgc2VsZi5ib2R5KTtcbiAgfVxuICBjb25zdCBjbG9uZSA9IG5ldyBVUkwodXJsLnRvU3RyaW5nKCkpO1xuICBjb25zdCB1cmxQYXJhbXMgPSBVcmxQYXJhbXMuZnJvbUlucHV0KGNsb25lLnNlYXJjaFBhcmFtcyk7XG4gIGNvbnN0IGhhc2ggPSBjbG9uZS5oYXNoID8gT3B0aW9uLnNvbWUoY2xvbmUuaGFzaC5zbGljZSgxKSkgOiBPcHRpb24ubm9uZSgpO1xuICBjbG9uZS5zZWFyY2ggPSBcIlwiO1xuICBjbG9uZS5oYXNoID0gXCJcIjtcbiAgcmV0dXJuIG1ha2VJbnRlcm5hbChzZWxmLm1ldGhvZCwgY2xvbmUudG9TdHJpbmcoKSwgdXJsUGFyYW1zLCBoYXNoLCBzZWxmLmhlYWRlcnMsIHNlbGYuYm9keSk7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBhcHBlbmRVcmwgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgdXJsKSA9PiBtYWtlSW50ZXJuYWwoc2VsZi5tZXRob2QsIHNlbGYudXJsLmVuZHNXaXRoKFwiL1wiKSAmJiB1cmwuc3RhcnRzV2l0aChcIi9cIikgPyBzZWxmLnVybCArIHVybC5zbGljZSgxKSA6IHNlbGYudXJsICsgdXJsLCBzZWxmLnVybFBhcmFtcywgc2VsZi5oYXNoLCBzZWxmLmhlYWRlcnMsIHNlbGYuYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHByZXBlbmRVcmwgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgdXJsKSA9PiBtYWtlSW50ZXJuYWwoc2VsZi5tZXRob2QsIHVybC5lbmRzV2l0aChcIi9cIikgJiYgc2VsZi51cmwuc3RhcnRzV2l0aChcIi9cIikgPyB1cmwgKyBzZWxmLnVybC5zbGljZSgxKSA6IHVybCArIHNlbGYudXJsLCBzZWxmLnVybFBhcmFtcywgc2VsZi5oYXNoLCBzZWxmLmhlYWRlcnMsIHNlbGYuYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVVybCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBmKSA9PiBtYWtlSW50ZXJuYWwoc2VsZi5tZXRob2QsIGYoc2VsZi51cmwpLCBzZWxmLnVybFBhcmFtcywgc2VsZi5oYXNoLCBzZWxmLmhlYWRlcnMsIHNlbGYuYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGFwcGVuZFVybFBhcmFtID0gLyojX19QVVJFX18qL2R1YWwoMywgKHNlbGYsIGtleSwgdmFsdWUpID0+IG1ha2VJbnRlcm5hbChzZWxmLm1ldGhvZCwgc2VsZi51cmwsIFVybFBhcmFtcy5hcHBlbmQoc2VsZi51cmxQYXJhbXMsIGtleSwgdmFsdWUpLCBzZWxmLmhhc2gsIHNlbGYuaGVhZGVycywgc2VsZi5ib2R5KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgYXBwZW5kVXJsUGFyYW1zID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGlucHV0KSA9PiBtYWtlSW50ZXJuYWwoc2VsZi5tZXRob2QsIHNlbGYudXJsLCBVcmxQYXJhbXMuYXBwZW5kQWxsKHNlbGYudXJsUGFyYW1zLCBpbnB1dCksIHNlbGYuaGFzaCwgc2VsZi5oZWFkZXJzLCBzZWxmLmJvZHkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXRVcmxQYXJhbSA9IC8qI19fUFVSRV9fKi9kdWFsKDMsIChzZWxmLCBrZXksIHZhbHVlKSA9PiBtYWtlSW50ZXJuYWwoc2VsZi5tZXRob2QsIHNlbGYudXJsLCBVcmxQYXJhbXMuc2V0KHNlbGYudXJsUGFyYW1zLCBrZXksIHZhbHVlKSwgc2VsZi5oYXNoLCBzZWxmLmhlYWRlcnMsIHNlbGYuYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNldFVybFBhcmFtcyA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBpbnB1dCkgPT4gbWFrZUludGVybmFsKHNlbGYubWV0aG9kLCBzZWxmLnVybCwgVXJsUGFyYW1zLnNldEFsbChzZWxmLnVybFBhcmFtcywgaW5wdXQpLCBzZWxmLmhhc2gsIHNlbGYuaGVhZGVycywgc2VsZi5ib2R5KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc2V0SGFzaCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBoYXNoKSA9PiBtYWtlSW50ZXJuYWwoc2VsZi5tZXRob2QsIHNlbGYudXJsLCBzZWxmLnVybFBhcmFtcywgT3B0aW9uLnNvbWUoaGFzaCksIHNlbGYuaGVhZGVycywgc2VsZi5ib2R5KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcmVtb3ZlSGFzaCA9IHNlbGYgPT4gbWFrZUludGVybmFsKHNlbGYubWV0aG9kLCBzZWxmLnVybCwgc2VsZi51cmxQYXJhbXMsIE9wdGlvbi5ub25lKCksIHNlbGYuaGVhZGVycywgc2VsZi5ib2R5KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXRCb2R5ID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGJvZHkpID0+IHtcbiAgbGV0IGhlYWRlcnMgPSBzZWxmLmhlYWRlcnM7XG4gIGlmIChib2R5Ll90YWcgPT09IFwiRW1wdHlcIikge1xuICAgIGhlYWRlcnMgPSBIZWFkZXJzLnJlbW92ZShIZWFkZXJzLnJlbW92ZShoZWFkZXJzLCBcIkNvbnRlbnQtVHlwZVwiKSwgXCJDb250ZW50LWxlbmd0aFwiKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGJvZHkuY29udGVudFR5cGU7XG4gICAgaWYgKGNvbnRlbnRUeXBlKSB7XG4gICAgICBoZWFkZXJzID0gSGVhZGVycy5zZXQoaGVhZGVycywgXCJjb250ZW50LXR5cGVcIiwgY29udGVudFR5cGUpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gYm9keS5jb250ZW50TGVuZ3RoO1xuICAgIGlmIChjb250ZW50TGVuZ3RoKSB7XG4gICAgICBoZWFkZXJzID0gSGVhZGVycy5zZXQoaGVhZGVycywgXCJjb250ZW50LWxlbmd0aFwiLCBjb250ZW50TGVuZ3RoLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWFrZUludGVybmFsKHNlbGYubWV0aG9kLCBzZWxmLnVybCwgc2VsZi51cmxQYXJhbXMsIHNlbGYuaGFzaCwgaGVhZGVycywgYm9keSk7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBib2R5VWludDhBcnJheSA9IC8qI19fUFVSRV9fKi9kdWFsKGFyZ3MgPT4gaXNDbGllbnRSZXF1ZXN0KGFyZ3NbMF0pLCAoc2VsZiwgYm9keSwgY29udGVudFR5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKSA9PiBzZXRCb2R5KHNlbGYsIGludGVybmFsQm9keS51aW50OEFycmF5KGJvZHksIGNvbnRlbnRUeXBlKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGJvZHlUZXh0ID0gLyojX19QVVJFX18qL2R1YWwoYXJncyA9PiBpc0NsaWVudFJlcXVlc3QoYXJnc1swXSksIChzZWxmLCBib2R5LCBjb250ZW50VHlwZSA9IFwidGV4dC9wbGFpblwiKSA9PiBzZXRCb2R5KHNlbGYsIGludGVybmFsQm9keS50ZXh0KGJvZHksIGNvbnRlbnRUeXBlKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGJvZHlKc29uID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGJvZHkpID0+IEVmZmVjdC5tYXAoaW50ZXJuYWxCb2R5Lmpzb24oYm9keSksIGJvZHkgPT4gc2V0Qm9keShzZWxmLCBib2R5KSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGJvZHlVbnNhZmVKc29uID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGJvZHkpID0+IHNldEJvZHkoc2VsZiwgaW50ZXJuYWxCb2R5LnVuc2FmZUpzb24oYm9keSkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBib2R5RmlsZSA9IC8qI19fUFVSRV9fKi9kdWFsKGFyZ3MgPT4gaXNDbGllbnRSZXF1ZXN0KGFyZ3NbMF0pLCAoc2VsZiwgcGF0aCwgb3B0aW9ucykgPT4gRWZmZWN0Lm1hcChpbnRlcm5hbEJvZHkuZmlsZShwYXRoLCBvcHRpb25zKSwgYm9keSA9PiBzZXRCb2R5KHNlbGYsIGJvZHkpKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgYm9keUZpbGVXZWIgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZmlsZSkgPT4gc2V0Qm9keShzZWxmLCBpbnRlcm5hbEJvZHkuZmlsZVdlYihmaWxlKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUJvZHlKc29uID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBlbmNvZGUgPSBpbnRlcm5hbEJvZHkuanNvblNjaGVtYShzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gZHVhbCgyLCAoc2VsZiwgYm9keSkgPT4gRWZmZWN0Lm1hcChlbmNvZGUoYm9keSksIGJvZHkgPT4gc2V0Qm9keShzZWxmLCBib2R5KSkpO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBib2R5VXJsUGFyYW1zID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGJvZHkpID0+IHNldEJvZHkoc2VsZiwgaW50ZXJuYWxCb2R5LnRleHQoVXJsUGFyYW1zLnRvU3RyaW5nKFVybFBhcmFtcy5mcm9tSW5wdXQoYm9keSkpLCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGJvZHlGb3JtRGF0YSA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBib2R5KSA9PiBzZXRCb2R5KHNlbGYsIGludGVybmFsQm9keS5mb3JtRGF0YShib2R5KSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGJvZHlTdHJlYW0gPSAvKiNfX1BVUkVfXyovZHVhbChhcmdzID0+IGlzQ2xpZW50UmVxdWVzdChhcmdzWzBdKSwgKHNlbGYsIGJvZHksIHtcbiAgY29udGVudExlbmd0aCxcbiAgY29udGVudFR5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXG59ID0ge30pID0+IHNldEJvZHkoc2VsZiwgaW50ZXJuYWxCb2R5LnN0cmVhbShib2R5LCBjb250ZW50VHlwZSwgY29udGVudExlbmd0aCkpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBDbGllbnRSZXF1ZXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientRequest.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientResponse.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpClientResponse.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   filterStatus: () => (/* binding */ filterStatus),\n/* harmony export */   filterStatusOk: () => (/* binding */ filterStatusOk),\n/* harmony export */   fromWeb: () => (/* binding */ fromWeb),\n/* harmony export */   matchStatus: () => (/* binding */ matchStatus),\n/* harmony export */   schemaJson: () => (/* binding */ schemaJson),\n/* harmony export */   schemaNoBody: () => (/* binding */ schemaNoBody),\n/* harmony export */   stream: () => (/* binding */ stream)\n/* harmony export */ });\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var _Cookies_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Cookies.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Cookies.js\");\n/* harmony import */ var _Headers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Headers.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js\");\n/* harmony import */ var _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../HttpClientError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClientError.js\");\n/* harmony import */ var _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../HttpIncomingMessage.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpIncomingMessage.js\");\n/* harmony import */ var _UrlParams_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../UrlParams.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js\");\n\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpClientResponse\");\n/** @internal */\nconst fromWeb = (request, source) => new ClientResponseImpl(request, source);\nclass ClientResponseImpl extends effect_Inspectable__WEBPACK_IMPORTED_MODULE_0__.Class {\n  request;\n  source;\n  [_HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_1__.TypeId];\n  [TypeId];\n  constructor(request, source) {\n    super();\n    this.request = request;\n    this.source = source;\n    this[_HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_1__.TypeId] = _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_1__.TypeId;\n    this[TypeId] = TypeId;\n  }\n  toJSON() {\n    return _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_1__.inspect(this, {\n      _id: \"@effect/platform/HttpClientResponse\",\n      request: this.request.toJSON(),\n      status: this.status\n    });\n  }\n  get status() {\n    return this.source.status;\n  }\n  get headers() {\n    return _Headers_js__WEBPACK_IMPORTED_MODULE_2__.fromInput(this.source.headers);\n  }\n  cachedCookies;\n  get cookies() {\n    if (this.cachedCookies) {\n      return this.cachedCookies;\n    }\n    return this.cachedCookies = _Cookies_js__WEBPACK_IMPORTED_MODULE_3__.fromSetCookie(this.source.headers.getSetCookie());\n  }\n  get remoteAddress() {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_4__.none();\n  }\n  get stream() {\n    return this.source.body ? effect_Stream__WEBPACK_IMPORTED_MODULE_5__.fromReadableStream(() => this.source.body, cause => new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__.ResponseError({\n      request: this.request,\n      response: this,\n      reason: \"Decode\",\n      cause\n    })) : effect_Stream__WEBPACK_IMPORTED_MODULE_5__.fail(new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__.ResponseError({\n      request: this.request,\n      response: this,\n      reason: \"EmptyBody\",\n      description: \"can not create stream from empty body\"\n    }));\n  }\n  get json() {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_7__.tryMap(this.text, {\n      try: text => text === \"\" ? null : JSON.parse(text),\n      catch: cause => new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__.ResponseError({\n        request: this.request,\n        response: this,\n        reason: \"Decode\",\n        cause\n      })\n    });\n  }\n  textBody;\n  get text() {\n    return this.textBody ??= effect_Effect__WEBPACK_IMPORTED_MODULE_7__.tryPromise({\n      try: () => this.source.text(),\n      catch: cause => new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__.ResponseError({\n        request: this.request,\n        response: this,\n        reason: \"Decode\",\n        cause\n      })\n    }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_7__.cached, effect_Effect__WEBPACK_IMPORTED_MODULE_7__.runSync);\n  }\n  get urlParamsBody() {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_7__.flatMap(this.text, _ => effect_Effect__WEBPACK_IMPORTED_MODULE_7__[\"try\"]({\n      try: () => _UrlParams_js__WEBPACK_IMPORTED_MODULE_8__.fromInput(new URLSearchParams(_)),\n      catch: cause => new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__.ResponseError({\n        request: this.request,\n        response: this,\n        reason: \"Decode\",\n        cause\n      })\n    }));\n  }\n  formDataBody;\n  get formData() {\n    return this.formDataBody ??= effect_Effect__WEBPACK_IMPORTED_MODULE_7__.tryPromise({\n      try: () => this.source.formData(),\n      catch: cause => new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__.ResponseError({\n        request: this.request,\n        response: this,\n        reason: \"Decode\",\n        cause\n      })\n    }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_7__.cached, effect_Effect__WEBPACK_IMPORTED_MODULE_7__.runSync);\n  }\n  arrayBufferBody;\n  get arrayBuffer() {\n    return this.arrayBufferBody ??= effect_Effect__WEBPACK_IMPORTED_MODULE_7__.tryPromise({\n      try: () => this.source.arrayBuffer(),\n      catch: cause => new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__.ResponseError({\n        request: this.request,\n        response: this,\n        reason: \"Decode\",\n        cause\n      })\n    }).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_7__.cached, effect_Effect__WEBPACK_IMPORTED_MODULE_7__.runSync);\n  }\n}\n/** @internal */\nconst schemaJson = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_9__.decodeUnknown(schema, options);\n  return self => effect_Effect__WEBPACK_IMPORTED_MODULE_7__.flatMap(self.json, body => parse({\n    status: self.status,\n    headers: self.headers,\n    body\n  }));\n};\n/** @internal */\nconst schemaNoBody = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_9__.decodeUnknown(schema, options);\n  return self => parse({\n    status: self.status,\n    headers: self.headers\n  });\n};\n/** @internal */\nconst stream = effect => effect_Stream__WEBPACK_IMPORTED_MODULE_5__.unwrapScoped(effect_Effect__WEBPACK_IMPORTED_MODULE_7__.map(effect, _ => _.stream));\n/** @internal */\nconst matchStatus = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, cases) => {\n  const status = self.status;\n  if (cases[status]) {\n    return cases[status](self);\n  } else if (status >= 200 && status < 300 && cases[\"2xx\"]) {\n    return cases[\"2xx\"](self);\n  } else if (status >= 300 && status < 400 && cases[\"3xx\"]) {\n    return cases[\"3xx\"](self);\n  } else if (status >= 400 && status < 500 && cases[\"4xx\"]) {\n    return cases[\"4xx\"](self);\n  } else if (status >= 500 && status < 600 && cases[\"5xx\"]) {\n    return cases[\"5xx\"](self);\n  }\n  return cases.orElse(self);\n});\n/** @internal */\nconst filterStatus = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, f) => effect_Effect__WEBPACK_IMPORTED_MODULE_7__.suspend(() => f(self.status) ? effect_Effect__WEBPACK_IMPORTED_MODULE_7__.succeed(self) : effect_Effect__WEBPACK_IMPORTED_MODULE_7__.fail(new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__.ResponseError({\n  response: self,\n  request: self.request,\n  reason: \"StatusCode\",\n  description: \"invalid status code\"\n}))));\n/** @internal */\nconst filterStatusOk = self => self.status >= 200 && self.status < 300 ? effect_Effect__WEBPACK_IMPORTED_MODULE_7__.succeed(self) : effect_Effect__WEBPACK_IMPORTED_MODULE_7__.fail(new _HttpClientError_js__WEBPACK_IMPORTED_MODULE_6__.ResponseError({\n  response: self,\n  request: self.request,\n  reason: \"StatusCode\",\n  description: \"non 2xx status code\"\n}));\n//# sourceMappingURL=httpClientResponse.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cENsaWVudFJlc3BvbnNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0M7QUFDRDtBQUNXO0FBQ1Y7QUFDQTtBQUNBO0FBQ0M7QUFDQTtBQUNNO0FBQ2M7QUFDaEI7QUFDN0M7QUFDTztBQUNQO0FBQ087QUFDUCxpQ0FBaUMscURBQWlCO0FBQ2xEO0FBQ0E7QUFDQSxHQUFHLDJEQUFzQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywyREFBc0IsSUFBSSwyREFBc0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyw0REFBdUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGtEQUFpQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQXFCO0FBQ3JEO0FBQ0E7QUFDQSxXQUFXLCtDQUFXO0FBQ3RCO0FBQ0E7QUFDQSw4QkFBOEIsNkRBQXlCLHNDQUFzQyw4REFBbUI7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUssK0NBQVcsS0FBSyw4REFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFdBQVcsaURBQWE7QUFDeEI7QUFDQSwwQkFBMEIsOERBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQWlCO0FBQzlDO0FBQ0EsMEJBQTBCLDhEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLE9BQU8saURBQWEsRUFBRSxrREFBYztBQUN6QztBQUNBO0FBQ0EsV0FBVyxrREFBYyxpQkFBaUIsaURBQVU7QUFDcEQsaUJBQWlCLG9EQUFtQjtBQUNwQywwQkFBMEIsOERBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscURBQWlCO0FBQ2xEO0FBQ0EsMEJBQTBCLDhEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLE9BQU8saURBQWEsRUFBRSxrREFBYztBQUN6QztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MscURBQWlCO0FBQ3JEO0FBQ0EsMEJBQTBCLDhEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLE9BQU8saURBQWEsRUFBRSxrREFBYztBQUN6QztBQUNBO0FBQ0E7QUFDTztBQUNQLGdCQUFnQix3REFBb0I7QUFDcEMsaUJBQWlCLGtEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ087QUFDUCxnQkFBZ0Isd0RBQW9CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ08seUJBQXlCLHVEQUFtQixDQUFDLDhDQUFVO0FBQzlEO0FBQ08saUNBQWlDLHNEQUFJO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTyxrQ0FBa0Msc0RBQUksaUJBQWlCLGtEQUFjLHdCQUF3QixrREFBYyxTQUFTLCtDQUFXLEtBQUssOERBQW1CO0FBQzlKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ08seUVBQXlFLGtEQUFjLFNBQVMsK0NBQVcsS0FBSyw4REFBbUI7QUFDMUk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cENsaWVudFJlc3BvbnNlLmpzPzlhN2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgeyBkdWFsIH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0ICogYXMgSW5zcGVjdGFibGUgZnJvbSBcImVmZmVjdC9JbnNwZWN0YWJsZVwiO1xuaW1wb3J0ICogYXMgT3B0aW9uIGZyb20gXCJlZmZlY3QvT3B0aW9uXCI7XG5pbXBvcnQgKiBhcyBTY2hlbWEgZnJvbSBcImVmZmVjdC9TY2hlbWFcIjtcbmltcG9ydCAqIGFzIFN0cmVhbSBmcm9tIFwiZWZmZWN0L1N0cmVhbVwiO1xuaW1wb3J0ICogYXMgQ29va2llcyBmcm9tIFwiLi4vQ29va2llcy5qc1wiO1xuaW1wb3J0ICogYXMgSGVhZGVycyBmcm9tIFwiLi4vSGVhZGVycy5qc1wiO1xuaW1wb3J0ICogYXMgRXJyb3IgZnJvbSBcIi4uL0h0dHBDbGllbnRFcnJvci5qc1wiO1xuaW1wb3J0ICogYXMgSW5jb21pbmdNZXNzYWdlIGZyb20gXCIuLi9IdHRwSW5jb21pbmdNZXNzYWdlLmpzXCI7XG5pbXBvcnQgKiBhcyBVcmxQYXJhbXMgZnJvbSBcIi4uL1VybFBhcmFtcy5qc1wiO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwQ2xpZW50UmVzcG9uc2VcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZnJvbVdlYiA9IChyZXF1ZXN0LCBzb3VyY2UpID0+IG5ldyBDbGllbnRSZXNwb25zZUltcGwocmVxdWVzdCwgc291cmNlKTtcbmNsYXNzIENsaWVudFJlc3BvbnNlSW1wbCBleHRlbmRzIEluc3BlY3RhYmxlLkNsYXNzIHtcbiAgcmVxdWVzdDtcbiAgc291cmNlO1xuICBbSW5jb21pbmdNZXNzYWdlLlR5cGVJZF07XG4gIFtUeXBlSWRdO1xuICBjb25zdHJ1Y3RvcihyZXF1ZXN0LCBzb3VyY2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgdGhpc1tJbmNvbWluZ01lc3NhZ2UuVHlwZUlkXSA9IEluY29taW5nTWVzc2FnZS5UeXBlSWQ7XG4gICAgdGhpc1tUeXBlSWRdID0gVHlwZUlkO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gSW5jb21pbmdNZXNzYWdlLmluc3BlY3QodGhpcywge1xuICAgICAgX2lkOiBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cENsaWVudFJlc3BvbnNlXCIsXG4gICAgICByZXF1ZXN0OiB0aGlzLnJlcXVlc3QudG9KU09OKCksXG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzXG4gICAgfSk7XG4gIH1cbiAgZ2V0IHN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc3RhdHVzO1xuICB9XG4gIGdldCBoZWFkZXJzKCkge1xuICAgIHJldHVybiBIZWFkZXJzLmZyb21JbnB1dCh0aGlzLnNvdXJjZS5oZWFkZXJzKTtcbiAgfVxuICBjYWNoZWRDb29raWVzO1xuICBnZXQgY29va2llcygpIHtcbiAgICBpZiAodGhpcy5jYWNoZWRDb29raWVzKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZWRDb29raWVzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWNoZWRDb29raWVzID0gQ29va2llcy5mcm9tU2V0Q29va2llKHRoaXMuc291cmNlLmhlYWRlcnMuZ2V0U2V0Q29va2llKCkpO1xuICB9XG4gIGdldCByZW1vdGVBZGRyZXNzKCkge1xuICAgIHJldHVybiBPcHRpb24ubm9uZSgpO1xuICB9XG4gIGdldCBzdHJlYW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlLmJvZHkgPyBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKCgpID0+IHRoaXMuc291cmNlLmJvZHksIGNhdXNlID0+IG5ldyBFcnJvci5SZXNwb25zZUVycm9yKHtcbiAgICAgIHJlcXVlc3Q6IHRoaXMucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlOiB0aGlzLFxuICAgICAgcmVhc29uOiBcIkRlY29kZVwiLFxuICAgICAgY2F1c2VcbiAgICB9KSkgOiBTdHJlYW0uZmFpbChuZXcgRXJyb3IuUmVzcG9uc2VFcnJvcih7XG4gICAgICByZXF1ZXN0OiB0aGlzLnJlcXVlc3QsXG4gICAgICByZXNwb25zZTogdGhpcyxcbiAgICAgIHJlYXNvbjogXCJFbXB0eUJvZHlcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcImNhbiBub3QgY3JlYXRlIHN0cmVhbSBmcm9tIGVtcHR5IGJvZHlcIlxuICAgIH0pKTtcbiAgfVxuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4gRWZmZWN0LnRyeU1hcCh0aGlzLnRleHQsIHtcbiAgICAgIHRyeTogdGV4dCA9PiB0ZXh0ID09PSBcIlwiID8gbnVsbCA6IEpTT04ucGFyc2UodGV4dCksXG4gICAgICBjYXRjaDogY2F1c2UgPT4gbmV3IEVycm9yLlJlc3BvbnNlRXJyb3Ioe1xuICAgICAgICByZXF1ZXN0OiB0aGlzLnJlcXVlc3QsXG4gICAgICAgIHJlc3BvbnNlOiB0aGlzLFxuICAgICAgICByZWFzb246IFwiRGVjb2RlXCIsXG4gICAgICAgIGNhdXNlXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIHRleHRCb2R5O1xuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0Qm9keSA/Pz0gRWZmZWN0LnRyeVByb21pc2Uoe1xuICAgICAgdHJ5OiAoKSA9PiB0aGlzLnNvdXJjZS50ZXh0KCksXG4gICAgICBjYXRjaDogY2F1c2UgPT4gbmV3IEVycm9yLlJlc3BvbnNlRXJyb3Ioe1xuICAgICAgICByZXF1ZXN0OiB0aGlzLnJlcXVlc3QsXG4gICAgICAgIHJlc3BvbnNlOiB0aGlzLFxuICAgICAgICByZWFzb246IFwiRGVjb2RlXCIsXG4gICAgICAgIGNhdXNlXG4gICAgICB9KVxuICAgIH0pLnBpcGUoRWZmZWN0LmNhY2hlZCwgRWZmZWN0LnJ1blN5bmMpO1xuICB9XG4gIGdldCB1cmxQYXJhbXNCb2R5KCkge1xuICAgIHJldHVybiBFZmZlY3QuZmxhdE1hcCh0aGlzLnRleHQsIF8gPT4gRWZmZWN0LnRyeSh7XG4gICAgICB0cnk6ICgpID0+IFVybFBhcmFtcy5mcm9tSW5wdXQobmV3IFVSTFNlYXJjaFBhcmFtcyhfKSksXG4gICAgICBjYXRjaDogY2F1c2UgPT4gbmV3IEVycm9yLlJlc3BvbnNlRXJyb3Ioe1xuICAgICAgICByZXF1ZXN0OiB0aGlzLnJlcXVlc3QsXG4gICAgICAgIHJlc3BvbnNlOiB0aGlzLFxuICAgICAgICByZWFzb246IFwiRGVjb2RlXCIsXG4gICAgICAgIGNhdXNlXG4gICAgICB9KVxuICAgIH0pKTtcbiAgfVxuICBmb3JtRGF0YUJvZHk7XG4gIGdldCBmb3JtRGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtRGF0YUJvZHkgPz89IEVmZmVjdC50cnlQcm9taXNlKHtcbiAgICAgIHRyeTogKCkgPT4gdGhpcy5zb3VyY2UuZm9ybURhdGEoKSxcbiAgICAgIGNhdGNoOiBjYXVzZSA9PiBuZXcgRXJyb3IuUmVzcG9uc2VFcnJvcih7XG4gICAgICAgIHJlcXVlc3Q6IHRoaXMucmVxdWVzdCxcbiAgICAgICAgcmVzcG9uc2U6IHRoaXMsXG4gICAgICAgIHJlYXNvbjogXCJEZWNvZGVcIixcbiAgICAgICAgY2F1c2VcbiAgICAgIH0pXG4gICAgfSkucGlwZShFZmZlY3QuY2FjaGVkLCBFZmZlY3QucnVuU3luYyk7XG4gIH1cbiAgYXJyYXlCdWZmZXJCb2R5O1xuICBnZXQgYXJyYXlCdWZmZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJyYXlCdWZmZXJCb2R5ID8/PSBFZmZlY3QudHJ5UHJvbWlzZSh7XG4gICAgICB0cnk6ICgpID0+IHRoaXMuc291cmNlLmFycmF5QnVmZmVyKCksXG4gICAgICBjYXRjaDogY2F1c2UgPT4gbmV3IEVycm9yLlJlc3BvbnNlRXJyb3Ioe1xuICAgICAgICByZXF1ZXN0OiB0aGlzLnJlcXVlc3QsXG4gICAgICAgIHJlc3BvbnNlOiB0aGlzLFxuICAgICAgICByZWFzb246IFwiRGVjb2RlXCIsXG4gICAgICAgIGNhdXNlXG4gICAgICB9KVxuICAgIH0pLnBpcGUoRWZmZWN0LmNhY2hlZCwgRWZmZWN0LnJ1blN5bmMpO1xuICB9XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc2NoZW1hSnNvbiA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2UgPSBTY2hlbWEuZGVjb2RlVW5rbm93bihzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gc2VsZiA9PiBFZmZlY3QuZmxhdE1hcChzZWxmLmpzb24sIGJvZHkgPT4gcGFyc2Uoe1xuICAgIHN0YXR1czogc2VsZi5zdGF0dXMsXG4gICAgaGVhZGVyczogc2VsZi5oZWFkZXJzLFxuICAgIGJvZHlcbiAgfSkpO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFOb0JvZHkgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlID0gU2NoZW1hLmRlY29kZVVua25vd24oc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIHNlbGYgPT4gcGFyc2Uoe1xuICAgIHN0YXR1czogc2VsZi5zdGF0dXMsXG4gICAgaGVhZGVyczogc2VsZi5oZWFkZXJzXG4gIH0pO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzdHJlYW0gPSBlZmZlY3QgPT4gU3RyZWFtLnVud3JhcFNjb3BlZChFZmZlY3QubWFwKGVmZmVjdCwgXyA9PiBfLnN0cmVhbSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1hdGNoU3RhdHVzID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGNhc2VzKSA9PiB7XG4gIGNvbnN0IHN0YXR1cyA9IHNlbGYuc3RhdHVzO1xuICBpZiAoY2FzZXNbc3RhdHVzXSkge1xuICAgIHJldHVybiBjYXNlc1tzdGF0dXNdKHNlbGYpO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwICYmIGNhc2VzW1wiMnh4XCJdKSB7XG4gICAgcmV0dXJuIGNhc2VzW1wiMnh4XCJdKHNlbGYpO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA+PSAzMDAgJiYgc3RhdHVzIDwgNDAwICYmIGNhc2VzW1wiM3h4XCJdKSB7XG4gICAgcmV0dXJuIGNhc2VzW1wiM3h4XCJdKHNlbGYpO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA+PSA0MDAgJiYgc3RhdHVzIDwgNTAwICYmIGNhc2VzW1wiNHh4XCJdKSB7XG4gICAgcmV0dXJuIGNhc2VzW1wiNHh4XCJdKHNlbGYpO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA+PSA1MDAgJiYgc3RhdHVzIDwgNjAwICYmIGNhc2VzW1wiNXh4XCJdKSB7XG4gICAgcmV0dXJuIGNhc2VzW1wiNXh4XCJdKHNlbGYpO1xuICB9XG4gIHJldHVybiBjYXNlcy5vckVsc2Uoc2VsZik7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmaWx0ZXJTdGF0dXMgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZikgPT4gRWZmZWN0LnN1c3BlbmQoKCkgPT4gZihzZWxmLnN0YXR1cykgPyBFZmZlY3Quc3VjY2VlZChzZWxmKSA6IEVmZmVjdC5mYWlsKG5ldyBFcnJvci5SZXNwb25zZUVycm9yKHtcbiAgcmVzcG9uc2U6IHNlbGYsXG4gIHJlcXVlc3Q6IHNlbGYucmVxdWVzdCxcbiAgcmVhc29uOiBcIlN0YXR1c0NvZGVcIixcbiAgZGVzY3JpcHRpb246IFwiaW52YWxpZCBzdGF0dXMgY29kZVwiXG59KSkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmaWx0ZXJTdGF0dXNPayA9IHNlbGYgPT4gc2VsZi5zdGF0dXMgPj0gMjAwICYmIHNlbGYuc3RhdHVzIDwgMzAwID8gRWZmZWN0LnN1Y2NlZWQoc2VsZikgOiBFZmZlY3QuZmFpbChuZXcgRXJyb3IuUmVzcG9uc2VFcnJvcih7XG4gIHJlc3BvbnNlOiBzZWxmLFxuICByZXF1ZXN0OiBzZWxmLnJlcXVlc3QsXG4gIHJlYXNvbjogXCJTdGF0dXNDb2RlXCIsXG4gIGRlc2NyaXB0aW9uOiBcIm5vbiAyeHggc3RhdHVzIGNvZGVcIlxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cENsaWVudFJlc3BvbnNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpClientResponse.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpMiddleware.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpMiddleware.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cors: () => (/* binding */ cors),\n/* harmony export */   currentTracerDisabledWhen: () => (/* binding */ currentTracerDisabledWhen),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   loggerDisabled: () => (/* binding */ loggerDisabled),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   searchParamsParser: () => (/* binding */ searchParamsParser),\n/* harmony export */   tracer: () => (/* binding */ tracer),\n/* harmony export */   withLoggerDisabled: () => (/* binding */ withLoggerDisabled),\n/* harmony export */   withTracerDisabledForUrls: () => (/* binding */ withTracerDisabledForUrls),\n/* harmony export */   withTracerDisabledWhen: () => (/* binding */ withTracerDisabledWhen),\n/* harmony export */   withTracerDisabledWhenEffect: () => (/* binding */ withTracerDisabledWhenEffect),\n/* harmony export */   xForwardedHeaders: () => (/* binding */ xForwardedHeaders)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var _Headers_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Headers.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js\");\n/* harmony import */ var _HttpServerError_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../HttpServerError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerError.js\");\n/* harmony import */ var _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../HttpServerRequest.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRequest.js\");\n/* harmony import */ var _HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../HttpServerResponse.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerResponse.js\");\n/* harmony import */ var _HttpTraceContext_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../HttpTraceContext.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpTraceContext.js\");\n/* harmony import */ var _httpApp_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./httpApp.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpApp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst make = middleware => middleware;\n/** @internal */\nconst loggerDisabled = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_0__.globalValue)( /*#__PURE__*/Symbol.for(\"@effect/platform/HttpMiddleware/loggerDisabled\"), () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_1__.unsafeMake(false));\n/** @internal */\nconst withLoggerDisabled = self => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.zipRight(effect_FiberRef__WEBPACK_IMPORTED_MODULE_1__.set(loggerDisabled, true), self);\n/** @internal */\nconst currentTracerDisabledWhen = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_0__.globalValue)( /*#__PURE__*/Symbol.for(\"@effect/platform/HttpMiddleware/tracerDisabledWhen\"), () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_1__.unsafeMake(effect_Function__WEBPACK_IMPORTED_MODULE_3__.constFalse));\n/** @internal */\nconst withTracerDisabledWhen = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, pred) => effect_Layer__WEBPACK_IMPORTED_MODULE_4__.locally(self, currentTracerDisabledWhen, pred));\n/** @internal */\nconst withTracerDisabledWhenEffect = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, pred) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.locally(self, currentTracerDisabledWhen, pred));\n/** @internal */\nconst withTracerDisabledForUrls = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_3__.dual)(2, (self, urls) => effect_Layer__WEBPACK_IMPORTED_MODULE_4__.locally(self, currentTracerDisabledWhen, req => urls.includes(req.url)));\n/** @internal */\nconst logger = /*#__PURE__*/make(httpApp => {\n  let counter = 0;\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.withFiberRuntime(fiber => {\n    const request = effect_Context__WEBPACK_IMPORTED_MODULE_5__.unsafeGet(fiber.currentContext, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_6__.HttpServerRequest);\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.withLogSpan(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.exit(httpApp), exit => {\n      if (fiber.getFiberRef(loggerDisabled)) {\n        return exit;\n      } else if (exit._tag === \"Failure\") {\n        const [response, cause] = _HttpServerError_js__WEBPACK_IMPORTED_MODULE_7__.causeResponseStripped(exit.cause);\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.zipRight(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.annotateLogs(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.log(cause._tag === \"Some\" ? cause.value : \"Sent HTTP Response\"), {\n          \"http.method\": request.method,\n          \"http.url\": request.url,\n          \"http.status\": response.status\n        }), exit);\n      }\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.zipRight(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.annotateLogs(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.log(\"Sent HTTP response\"), {\n        \"http.method\": request.method,\n        \"http.url\": request.url,\n        \"http.status\": exit.value.status\n      }), exit);\n    }), `http.span.${++counter}`);\n  });\n});\n/** @internal */\nconst tracer = /*#__PURE__*/make(httpApp => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.withFiberRuntime(fiber => {\n  const request = effect_Context__WEBPACK_IMPORTED_MODULE_5__.unsafeGet(fiber.currentContext, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_6__.HttpServerRequest);\n  const disabled = fiber.getFiberRef(currentTracerDisabledWhen)(request);\n  if (disabled) {\n    return httpApp;\n  }\n  const url = effect_Option__WEBPACK_IMPORTED_MODULE_8__.getOrUndefined(_HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_6__.toURL(request));\n  if (url !== undefined && (url.username !== \"\" || url.password !== \"\")) {\n    url.username = \"REDACTED\";\n    url.password = \"REDACTED\";\n  }\n  const redactedHeaderNames = fiber.getFiberRef(_Headers_js__WEBPACK_IMPORTED_MODULE_9__.currentRedactedNames);\n  const redactedHeaders = _Headers_js__WEBPACK_IMPORTED_MODULE_9__.redact(request.headers, redactedHeaderNames);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.useSpan(`http.server ${request.method}`, {\n    parent: effect_Option__WEBPACK_IMPORTED_MODULE_8__.getOrUndefined(_HttpTraceContext_js__WEBPACK_IMPORTED_MODULE_10__.fromHeaders(request.headers)),\n    kind: \"server\",\n    captureStackTrace: false\n  }, span => {\n    span.attribute(\"http.request.method\", request.method);\n    if (url !== undefined) {\n      span.attribute(\"url.full\", url.toString());\n      span.attribute(\"url.path\", url.pathname);\n      const query = url.search.slice(1);\n      if (query !== \"\") {\n        span.attribute(\"url.query\", url.search.slice(1));\n      }\n      span.attribute(\"url.scheme\", url.protocol.slice(0, -1));\n    }\n    if (request.headers[\"user-agent\"] !== undefined) {\n      span.attribute(\"user_agent.original\", request.headers[\"user-agent\"]);\n    }\n    for (const name in redactedHeaders) {\n      span.attribute(`http.request.header.${name}`, String(redactedHeaders[name]));\n    }\n    if (request.remoteAddress._tag === \"Some\") {\n      span.attribute(\"client.address\", request.remoteAddress.value);\n    }\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.exit(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.withParentSpan(httpApp, span)), exit => {\n      const response = _HttpServerError_js__WEBPACK_IMPORTED_MODULE_7__.exitResponse(exit);\n      span.attribute(\"http.response.status_code\", response.status);\n      const redactedHeaders = _Headers_js__WEBPACK_IMPORTED_MODULE_9__.redact(response.headers, redactedHeaderNames);\n      for (const name in redactedHeaders) {\n        span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));\n      }\n      return exit;\n    });\n  });\n}));\n/** @internal */\nconst xForwardedHeaders = /*#__PURE__*/make(httpApp => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.updateService(httpApp, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_6__.HttpServerRequest, request => request.headers[\"x-forwarded-host\"] ? request.modify({\n  headers: _Headers_js__WEBPACK_IMPORTED_MODULE_9__.set(request.headers, \"host\", request.headers[\"x-forwarded-host\"]),\n  remoteAddress: request.headers[\"x-forwarded-for\"]?.split(\",\")[0].trim()\n}) : request));\n/** @internal */\nconst searchParamsParser = httpApp => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.withFiberRuntime(fiber => {\n  const context = fiber.currentContext;\n  const request = effect_Context__WEBPACK_IMPORTED_MODULE_5__.unsafeGet(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_6__.HttpServerRequest);\n  const params = _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_6__.searchParamsFromURL(new URL(request.originalUrl));\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.locally(httpApp, effect_FiberRef__WEBPACK_IMPORTED_MODULE_1__.currentContext, effect_Context__WEBPACK_IMPORTED_MODULE_5__.add(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_6__.ParsedSearchParams, params));\n});\n/** @internal */\nconst cors = options => {\n  const opts = {\n    allowedOrigins: [\"*\"],\n    allowedMethods: [\"GET\", \"HEAD\", \"PUT\", \"PATCH\", \"POST\", \"DELETE\"],\n    allowedHeaders: [],\n    exposedHeaders: [],\n    credentials: false,\n    ...options\n  };\n  const isAllowedOrigin = origin => opts.allowedOrigins.includes(origin);\n  const allowOrigin = originHeader => {\n    if (opts.allowedOrigins.length === 0) {\n      return {\n        \"access-control-allow-origin\": \"*\"\n      };\n    }\n    if (opts.allowedOrigins.length === 1) {\n      return {\n        \"access-control-allow-origin\": opts.allowedOrigins[0],\n        vary: \"Origin\"\n      };\n    }\n    if (isAllowedOrigin(originHeader)) {\n      return {\n        \"access-control-allow-origin\": originHeader,\n        vary: \"Origin\"\n      };\n    }\n    return undefined;\n  };\n  const allowMethods = opts.allowedMethods.length > 0 ? {\n    \"access-control-allow-methods\": opts.allowedMethods.join(\", \")\n  } : undefined;\n  const allowCredentials = opts.credentials ? {\n    \"access-control-allow-credentials\": \"true\"\n  } : undefined;\n  const allowHeaders = accessControlRequestHeaders => {\n    if (opts.allowedHeaders.length === 0 && accessControlRequestHeaders) {\n      return {\n        vary: \"Access-Control-Request-Headers\",\n        \"access-control-allow-headers\": accessControlRequestHeaders\n      };\n    }\n    if (opts.allowedHeaders) {\n      return {\n        \"access-control-allow-headers\": opts.allowedHeaders.join(\",\")\n      };\n    }\n    return undefined;\n  };\n  const exposeHeaders = opts.exposedHeaders.length > 0 ? {\n    \"access-control-expose-headers\": opts.exposedHeaders.join(\",\")\n  } : undefined;\n  const maxAge = opts.maxAge ? {\n    \"access-control-max-age\": opts.maxAge.toString()\n  } : undefined;\n  const headersFromRequest = request => {\n    const origin = request.headers[\"origin\"];\n    return _Headers_js__WEBPACK_IMPORTED_MODULE_9__.unsafeFromRecord({\n      ...allowOrigin(origin),\n      ...allowCredentials,\n      ...exposeHeaders\n    });\n  };\n  const headersFromRequestOptions = request => {\n    const origin = request.headers[\"origin\"];\n    const accessControlRequestHeaders = request.headers[\"access-control-request-headers\"];\n    return _Headers_js__WEBPACK_IMPORTED_MODULE_9__.unsafeFromRecord({\n      ...allowOrigin(origin),\n      ...allowCredentials,\n      ...exposeHeaders,\n      ...allowMethods,\n      ...allowHeaders(accessControlRequestHeaders),\n      ...maxAge\n    });\n  };\n  const preResponseHandler = (request, response) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_11__.setHeaders(response, headersFromRequest(request)));\n  return httpApp => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.withFiberRuntime(fiber => {\n    const request = effect_Context__WEBPACK_IMPORTED_MODULE_5__.unsafeGet(fiber.currentContext, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_6__.HttpServerRequest);\n    if (request.method === \"OPTIONS\") {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(_HttpServerResponse_js__WEBPACK_IMPORTED_MODULE_11__.empty({\n        status: 204,\n        headers: headersFromRequestOptions(request)\n      }));\n    }\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.zipRight(_httpApp_js__WEBPACK_IMPORTED_MODULE_12__.appendPreResponseHandler(preResponseHandler), httpApp);\n  });\n};\n//# sourceMappingURL=httpMiddleware.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cE1pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNGO0FBQ0k7QUFDTztBQUNGO0FBQ1g7QUFDRTtBQUNDO0FBQ1k7QUFDSTtBQUNFO0FBQ0o7QUFDUDtBQUNoRDtBQUNPO0FBQ1A7QUFDTyxvQ0FBb0MsK0RBQVcsbUZBQW1GLHVEQUFtQjtBQUM1SjtBQUNPLG1DQUFtQyxtREFBZSxDQUFDLGdEQUFZO0FBQ3RFO0FBQ08sK0NBQStDLCtEQUFXLHVGQUF1Rix1REFBbUIsQ0FBQyx1REFBVTtBQUN0TDtBQUNPLDRDQUE0QyxxREFBSSxvQkFBb0IsaURBQWE7QUFDeEY7QUFDTyxrREFBa0QscURBQUksb0JBQW9CLGtEQUFjO0FBQy9GO0FBQ08sK0NBQStDLHFEQUFJLG9CQUFvQixpREFBYTtBQUMzRjtBQUNPO0FBQ1A7QUFDQSxTQUFTLDJEQUF1QjtBQUNoQyxvQkFBb0IscURBQWlCLHVCQUF1QixvRUFBK0I7QUFDM0YsV0FBVyxzREFBa0IsQ0FBQyxrREFBYyxDQUFDLCtDQUFXO0FBQ3hEO0FBQ0E7QUFDQSxRQUFRO0FBQ1Isa0NBQWtDLHNFQUFpQztBQUNuRSxlQUFlLG1EQUFlLENBQUMsdURBQW1CLENBQUMsOENBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsYUFBYSxtREFBZSxDQUFDLHVEQUFtQixDQUFDLDhDQUFVO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLGdCQUFnQixVQUFVO0FBQy9CLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDTyw0Q0FBNEMsMkRBQXVCO0FBQzFFLGtCQUFrQixxREFBaUIsdUJBQXVCLG9FQUErQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMseURBQXFCLENBQUMsd0RBQW1CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELDZEQUE0QjtBQUM1RSwwQkFBMEIsK0NBQWM7QUFDeEMsU0FBUyxrREFBYyxnQkFBZ0IsZUFBZTtBQUN0RCxZQUFZLHlEQUFxQixDQUFDLDhEQUF3QjtBQUMxRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsS0FBSztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0RBQWMsQ0FBQywrQ0FBVyxDQUFDLHlEQUFxQjtBQUMzRCx1QkFBdUIsNkRBQXdCO0FBQy9DO0FBQ0EsOEJBQThCLCtDQUFjO0FBQzVDO0FBQ0EsK0NBQStDLEtBQUs7QUFDcEQ7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ08sdURBQXVELHdEQUFvQixVQUFVLG9FQUErQjtBQUMzSCxXQUFXLDRDQUFXO0FBQ3RCO0FBQ0EsQ0FBQztBQUNEO0FBQ08sc0NBQXNDLDJEQUF1QjtBQUNwRTtBQUNBLGtCQUFrQixxREFBaUIsVUFBVSxvRUFBK0I7QUFDNUUsaUJBQWlCLHNFQUFpQztBQUNsRCxTQUFTLGtEQUFjLFVBQVUsMkRBQXVCLEVBQUUsK0NBQVcsVUFBVSxxRUFBZ0M7QUFDL0csQ0FBQztBQUNEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFdBQVcseURBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseURBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9EQUFvRCxrREFBYyxDQUFDLCtEQUF5QjtBQUM1RixvQkFBb0IsMkRBQXVCO0FBQzNDLG9CQUFvQixxREFBaUIsdUJBQXVCLG9FQUErQjtBQUMzRjtBQUNBLGFBQWEsa0RBQWMsQ0FBQywwREFBb0I7QUFDaEQ7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLFdBQVcsbURBQWUsQ0FBQyxrRUFBd0M7QUFDbkUsR0FBRztBQUNIO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cE1pZGRsZXdhcmUuanM/MjVjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb250ZXh0IGZyb20gXCJlZmZlY3QvQ29udGV4dFwiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgKiBhcyBGaWJlclJlZiBmcm9tIFwiZWZmZWN0L0ZpYmVyUmVmXCI7XG5pbXBvcnQgeyBjb25zdEZhbHNlLCBkdWFsIH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0IHsgZ2xvYmFsVmFsdWUgfSBmcm9tIFwiZWZmZWN0L0dsb2JhbFZhbHVlXCI7XG5pbXBvcnQgKiBhcyBMYXllciBmcm9tIFwiZWZmZWN0L0xheWVyXCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCAqIGFzIEhlYWRlcnMgZnJvbSBcIi4uL0hlYWRlcnMuanNcIjtcbmltcG9ydCAqIGFzIFNlcnZlckVycm9yIGZyb20gXCIuLi9IdHRwU2VydmVyRXJyb3IuanNcIjtcbmltcG9ydCAqIGFzIFNlcnZlclJlcXVlc3QgZnJvbSBcIi4uL0h0dHBTZXJ2ZXJSZXF1ZXN0LmpzXCI7XG5pbXBvcnQgKiBhcyBTZXJ2ZXJSZXNwb25zZSBmcm9tIFwiLi4vSHR0cFNlcnZlclJlc3BvbnNlLmpzXCI7XG5pbXBvcnQgKiBhcyBUcmFjZUNvbnRleHQgZnJvbSBcIi4uL0h0dHBUcmFjZUNvbnRleHQuanNcIjtcbmltcG9ydCAqIGFzIGludGVybmFsSHR0cEFwcCBmcm9tIFwiLi9odHRwQXBwLmpzXCI7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbWFrZSA9IG1pZGRsZXdhcmUgPT4gbWlkZGxld2FyZTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBsb2dnZXJEaXNhYmxlZCA9IC8qI19fUFVSRV9fKi9nbG9iYWxWYWx1ZSggLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBNaWRkbGV3YXJlL2xvZ2dlckRpc2FibGVkXCIpLCAoKSA9PiBGaWJlclJlZi51bnNhZmVNYWtlKGZhbHNlKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgd2l0aExvZ2dlckRpc2FibGVkID0gc2VsZiA9PiBFZmZlY3QuemlwUmlnaHQoRmliZXJSZWYuc2V0KGxvZ2dlckRpc2FibGVkLCB0cnVlKSwgc2VsZik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgY3VycmVudFRyYWNlckRpc2FibGVkV2hlbiA9IC8qI19fUFVSRV9fKi9nbG9iYWxWYWx1ZSggLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBNaWRkbGV3YXJlL3RyYWNlckRpc2FibGVkV2hlblwiKSwgKCkgPT4gRmliZXJSZWYudW5zYWZlTWFrZShjb25zdEZhbHNlKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgd2l0aFRyYWNlckRpc2FibGVkV2hlbiA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBwcmVkKSA9PiBMYXllci5sb2NhbGx5KHNlbGYsIGN1cnJlbnRUcmFjZXJEaXNhYmxlZFdoZW4sIHByZWQpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB3aXRoVHJhY2VyRGlzYWJsZWRXaGVuRWZmZWN0ID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIHByZWQpID0+IEVmZmVjdC5sb2NhbGx5KHNlbGYsIGN1cnJlbnRUcmFjZXJEaXNhYmxlZFdoZW4sIHByZWQpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB3aXRoVHJhY2VyRGlzYWJsZWRGb3JVcmxzID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIHVybHMpID0+IExheWVyLmxvY2FsbHkoc2VsZiwgY3VycmVudFRyYWNlckRpc2FibGVkV2hlbiwgcmVxID0+IHVybHMuaW5jbHVkZXMocmVxLnVybCkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSAvKiNfX1BVUkVfXyovbWFrZShodHRwQXBwID0+IHtcbiAgbGV0IGNvdW50ZXIgPSAwO1xuICByZXR1cm4gRWZmZWN0LndpdGhGaWJlclJ1bnRpbWUoZmliZXIgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBDb250ZXh0LnVuc2FmZUdldChmaWJlci5jdXJyZW50Q29udGV4dCwgU2VydmVyUmVxdWVzdC5IdHRwU2VydmVyUmVxdWVzdCk7XG4gICAgcmV0dXJuIEVmZmVjdC53aXRoTG9nU3BhbihFZmZlY3QuZmxhdE1hcChFZmZlY3QuZXhpdChodHRwQXBwKSwgZXhpdCA9PiB7XG4gICAgICBpZiAoZmliZXIuZ2V0RmliZXJSZWYobG9nZ2VyRGlzYWJsZWQpKSB7XG4gICAgICAgIHJldHVybiBleGl0O1xuICAgICAgfSBlbHNlIGlmIChleGl0Ll90YWcgPT09IFwiRmFpbHVyZVwiKSB7XG4gICAgICAgIGNvbnN0IFtyZXNwb25zZSwgY2F1c2VdID0gU2VydmVyRXJyb3IuY2F1c2VSZXNwb25zZVN0cmlwcGVkKGV4aXQuY2F1c2UpO1xuICAgICAgICByZXR1cm4gRWZmZWN0LnppcFJpZ2h0KEVmZmVjdC5hbm5vdGF0ZUxvZ3MoRWZmZWN0LmxvZyhjYXVzZS5fdGFnID09PSBcIlNvbWVcIiA/IGNhdXNlLnZhbHVlIDogXCJTZW50IEhUVFAgUmVzcG9uc2VcIiksIHtcbiAgICAgICAgICBcImh0dHAubWV0aG9kXCI6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgIFwiaHR0cC51cmxcIjogcmVxdWVzdC51cmwsXG4gICAgICAgICAgXCJodHRwLnN0YXR1c1wiOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfSksIGV4aXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEVmZmVjdC56aXBSaWdodChFZmZlY3QuYW5ub3RhdGVMb2dzKEVmZmVjdC5sb2coXCJTZW50IEhUVFAgcmVzcG9uc2VcIiksIHtcbiAgICAgICAgXCJodHRwLm1ldGhvZFwiOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgXCJodHRwLnVybFwiOiByZXF1ZXN0LnVybCxcbiAgICAgICAgXCJodHRwLnN0YXR1c1wiOiBleGl0LnZhbHVlLnN0YXR1c1xuICAgICAgfSksIGV4aXQpO1xuICAgIH0pLCBgaHR0cC5zcGFuLiR7Kytjb3VudGVyfWApO1xuICB9KTtcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHRyYWNlciA9IC8qI19fUFVSRV9fKi9tYWtlKGh0dHBBcHAgPT4gRWZmZWN0LndpdGhGaWJlclJ1bnRpbWUoZmliZXIgPT4ge1xuICBjb25zdCByZXF1ZXN0ID0gQ29udGV4dC51bnNhZmVHZXQoZmliZXIuY3VycmVudENvbnRleHQsIFNlcnZlclJlcXVlc3QuSHR0cFNlcnZlclJlcXVlc3QpO1xuICBjb25zdCBkaXNhYmxlZCA9IGZpYmVyLmdldEZpYmVyUmVmKGN1cnJlbnRUcmFjZXJEaXNhYmxlZFdoZW4pKHJlcXVlc3QpO1xuICBpZiAoZGlzYWJsZWQpIHtcbiAgICByZXR1cm4gaHR0cEFwcDtcbiAgfVxuICBjb25zdCB1cmwgPSBPcHRpb24uZ2V0T3JVbmRlZmluZWQoU2VydmVyUmVxdWVzdC50b1VSTChyZXF1ZXN0KSk7XG4gIGlmICh1cmwgIT09IHVuZGVmaW5lZCAmJiAodXJsLnVzZXJuYW1lICE9PSBcIlwiIHx8IHVybC5wYXNzd29yZCAhPT0gXCJcIikpIHtcbiAgICB1cmwudXNlcm5hbWUgPSBcIlJFREFDVEVEXCI7XG4gICAgdXJsLnBhc3N3b3JkID0gXCJSRURBQ1RFRFwiO1xuICB9XG4gIGNvbnN0IHJlZGFjdGVkSGVhZGVyTmFtZXMgPSBmaWJlci5nZXRGaWJlclJlZihIZWFkZXJzLmN1cnJlbnRSZWRhY3RlZE5hbWVzKTtcbiAgY29uc3QgcmVkYWN0ZWRIZWFkZXJzID0gSGVhZGVycy5yZWRhY3QocmVxdWVzdC5oZWFkZXJzLCByZWRhY3RlZEhlYWRlck5hbWVzKTtcbiAgcmV0dXJuIEVmZmVjdC51c2VTcGFuKGBodHRwLnNlcnZlciAke3JlcXVlc3QubWV0aG9kfWAsIHtcbiAgICBwYXJlbnQ6IE9wdGlvbi5nZXRPclVuZGVmaW5lZChUcmFjZUNvbnRleHQuZnJvbUhlYWRlcnMocmVxdWVzdC5oZWFkZXJzKSksXG4gICAga2luZDogXCJzZXJ2ZXJcIixcbiAgICBjYXB0dXJlU3RhY2tUcmFjZTogZmFsc2VcbiAgfSwgc3BhbiA9PiB7XG4gICAgc3Bhbi5hdHRyaWJ1dGUoXCJodHRwLnJlcXVlc3QubWV0aG9kXCIsIHJlcXVlc3QubWV0aG9kKTtcbiAgICBpZiAodXJsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNwYW4uYXR0cmlidXRlKFwidXJsLmZ1bGxcIiwgdXJsLnRvU3RyaW5nKCkpO1xuICAgICAgc3Bhbi5hdHRyaWJ1dGUoXCJ1cmwucGF0aFwiLCB1cmwucGF0aG5hbWUpO1xuICAgICAgY29uc3QgcXVlcnkgPSB1cmwuc2VhcmNoLnNsaWNlKDEpO1xuICAgICAgaWYgKHF1ZXJ5ICE9PSBcIlwiKSB7XG4gICAgICAgIHNwYW4uYXR0cmlidXRlKFwidXJsLnF1ZXJ5XCIsIHVybC5zZWFyY2guc2xpY2UoMSkpO1xuICAgICAgfVxuICAgICAgc3Bhbi5hdHRyaWJ1dGUoXCJ1cmwuc2NoZW1lXCIsIHVybC5wcm90b2NvbC5zbGljZSgwLCAtMSkpO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdC5oZWFkZXJzW1widXNlci1hZ2VudFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzcGFuLmF0dHJpYnV0ZShcInVzZXJfYWdlbnQub3JpZ2luYWxcIiwgcmVxdWVzdC5oZWFkZXJzW1widXNlci1hZ2VudFwiXSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbmFtZSBpbiByZWRhY3RlZEhlYWRlcnMpIHtcbiAgICAgIHNwYW4uYXR0cmlidXRlKGBodHRwLnJlcXVlc3QuaGVhZGVyLiR7bmFtZX1gLCBTdHJpbmcocmVkYWN0ZWRIZWFkZXJzW25hbWVdKSk7XG4gICAgfVxuICAgIGlmIChyZXF1ZXN0LnJlbW90ZUFkZHJlc3MuX3RhZyA9PT0gXCJTb21lXCIpIHtcbiAgICAgIHNwYW4uYXR0cmlidXRlKFwiY2xpZW50LmFkZHJlc3NcIiwgcmVxdWVzdC5yZW1vdGVBZGRyZXNzLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKEVmZmVjdC5leGl0KEVmZmVjdC53aXRoUGFyZW50U3BhbihodHRwQXBwLCBzcGFuKSksIGV4aXQgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBTZXJ2ZXJFcnJvci5leGl0UmVzcG9uc2UoZXhpdCk7XG4gICAgICBzcGFuLmF0dHJpYnV0ZShcImh0dHAucmVzcG9uc2Uuc3RhdHVzX2NvZGVcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgIGNvbnN0IHJlZGFjdGVkSGVhZGVycyA9IEhlYWRlcnMucmVkYWN0KHJlc3BvbnNlLmhlYWRlcnMsIHJlZGFjdGVkSGVhZGVyTmFtZXMpO1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIHJlZGFjdGVkSGVhZGVycykge1xuICAgICAgICBzcGFuLmF0dHJpYnV0ZShgaHR0cC5yZXNwb25zZS5oZWFkZXIuJHtuYW1lfWAsIFN0cmluZyhyZWRhY3RlZEhlYWRlcnNbbmFtZV0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBleGl0O1xuICAgIH0pO1xuICB9KTtcbn0pKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB4Rm9yd2FyZGVkSGVhZGVycyA9IC8qI19fUFVSRV9fKi9tYWtlKGh0dHBBcHAgPT4gRWZmZWN0LnVwZGF0ZVNlcnZpY2UoaHR0cEFwcCwgU2VydmVyUmVxdWVzdC5IdHRwU2VydmVyUmVxdWVzdCwgcmVxdWVzdCA9PiByZXF1ZXN0LmhlYWRlcnNbXCJ4LWZvcndhcmRlZC1ob3N0XCJdID8gcmVxdWVzdC5tb2RpZnkoe1xuICBoZWFkZXJzOiBIZWFkZXJzLnNldChyZXF1ZXN0LmhlYWRlcnMsIFwiaG9zdFwiLCByZXF1ZXN0LmhlYWRlcnNbXCJ4LWZvcndhcmRlZC1ob3N0XCJdKSxcbiAgcmVtb3RlQWRkcmVzczogcmVxdWVzdC5oZWFkZXJzW1wieC1mb3J3YXJkZWQtZm9yXCJdPy5zcGxpdChcIixcIilbMF0udHJpbSgpXG59KSA6IHJlcXVlc3QpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZWFyY2hQYXJhbXNQYXJzZXIgPSBodHRwQXBwID0+IEVmZmVjdC53aXRoRmliZXJSdW50aW1lKGZpYmVyID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGZpYmVyLmN1cnJlbnRDb250ZXh0O1xuICBjb25zdCByZXF1ZXN0ID0gQ29udGV4dC51bnNhZmVHZXQoY29udGV4dCwgU2VydmVyUmVxdWVzdC5IdHRwU2VydmVyUmVxdWVzdCk7XG4gIGNvbnN0IHBhcmFtcyA9IFNlcnZlclJlcXVlc3Quc2VhcmNoUGFyYW1zRnJvbVVSTChuZXcgVVJMKHJlcXVlc3Qub3JpZ2luYWxVcmwpKTtcbiAgcmV0dXJuIEVmZmVjdC5sb2NhbGx5KGh0dHBBcHAsIEZpYmVyUmVmLmN1cnJlbnRDb250ZXh0LCBDb250ZXh0LmFkZChjb250ZXh0LCBTZXJ2ZXJSZXF1ZXN0LlBhcnNlZFNlYXJjaFBhcmFtcywgcGFyYW1zKSk7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjb3JzID0gb3B0aW9ucyA9PiB7XG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgYWxsb3dlZE9yaWdpbnM6IFtcIipcIl0sXG4gICAgYWxsb3dlZE1ldGhvZHM6IFtcIkdFVFwiLCBcIkhFQURcIiwgXCJQVVRcIiwgXCJQQVRDSFwiLCBcIlBPU1RcIiwgXCJERUxFVEVcIl0sXG4gICAgYWxsb3dlZEhlYWRlcnM6IFtdLFxuICAgIGV4cG9zZWRIZWFkZXJzOiBbXSxcbiAgICBjcmVkZW50aWFsczogZmFsc2UsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xuICBjb25zdCBpc0FsbG93ZWRPcmlnaW4gPSBvcmlnaW4gPT4gb3B0cy5hbGxvd2VkT3JpZ2lucy5pbmNsdWRlcyhvcmlnaW4pO1xuICBjb25zdCBhbGxvd09yaWdpbiA9IG9yaWdpbkhlYWRlciA9PiB7XG4gICAgaWYgKG9wdHMuYWxsb3dlZE9yaWdpbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBcImFjY2Vzcy1jb250cm9sLWFsbG93LW9yaWdpblwiOiBcIipcIlxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9wdHMuYWxsb3dlZE9yaWdpbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBcImFjY2Vzcy1jb250cm9sLWFsbG93LW9yaWdpblwiOiBvcHRzLmFsbG93ZWRPcmlnaW5zWzBdLFxuICAgICAgICB2YXJ5OiBcIk9yaWdpblwiXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNBbGxvd2VkT3JpZ2luKG9yaWdpbkhlYWRlcikpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFwiYWNjZXNzLWNvbnRyb2wtYWxsb3ctb3JpZ2luXCI6IG9yaWdpbkhlYWRlcixcbiAgICAgICAgdmFyeTogXCJPcmlnaW5cIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcbiAgY29uc3QgYWxsb3dNZXRob2RzID0gb3B0cy5hbGxvd2VkTWV0aG9kcy5sZW5ndGggPiAwID8ge1xuICAgIFwiYWNjZXNzLWNvbnRyb2wtYWxsb3ctbWV0aG9kc1wiOiBvcHRzLmFsbG93ZWRNZXRob2RzLmpvaW4oXCIsIFwiKVxuICB9IDogdW5kZWZpbmVkO1xuICBjb25zdCBhbGxvd0NyZWRlbnRpYWxzID0gb3B0cy5jcmVkZW50aWFscyA/IHtcbiAgICBcImFjY2Vzcy1jb250cm9sLWFsbG93LWNyZWRlbnRpYWxzXCI6IFwidHJ1ZVwiXG4gIH0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGFsbG93SGVhZGVycyA9IGFjY2Vzc0NvbnRyb2xSZXF1ZXN0SGVhZGVycyA9PiB7XG4gICAgaWYgKG9wdHMuYWxsb3dlZEhlYWRlcnMubGVuZ3RoID09PSAwICYmIGFjY2Vzc0NvbnRyb2xSZXF1ZXN0SGVhZGVycykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFyeTogXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIixcbiAgICAgICAgXCJhY2Nlc3MtY29udHJvbC1hbGxvdy1oZWFkZXJzXCI6IGFjY2Vzc0NvbnRyb2xSZXF1ZXN0SGVhZGVyc1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9wdHMuYWxsb3dlZEhlYWRlcnMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFwiYWNjZXNzLWNvbnRyb2wtYWxsb3ctaGVhZGVyc1wiOiBvcHRzLmFsbG93ZWRIZWFkZXJzLmpvaW4oXCIsXCIpXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuICBjb25zdCBleHBvc2VIZWFkZXJzID0gb3B0cy5leHBvc2VkSGVhZGVycy5sZW5ndGggPiAwID8ge1xuICAgIFwiYWNjZXNzLWNvbnRyb2wtZXhwb3NlLWhlYWRlcnNcIjogb3B0cy5leHBvc2VkSGVhZGVycy5qb2luKFwiLFwiKVxuICB9IDogdW5kZWZpbmVkO1xuICBjb25zdCBtYXhBZ2UgPSBvcHRzLm1heEFnZSA/IHtcbiAgICBcImFjY2Vzcy1jb250cm9sLW1heC1hZ2VcIjogb3B0cy5tYXhBZ2UudG9TdHJpbmcoKVxuICB9IDogdW5kZWZpbmVkO1xuICBjb25zdCBoZWFkZXJzRnJvbVJlcXVlc3QgPSByZXF1ZXN0ID0+IHtcbiAgICBjb25zdCBvcmlnaW4gPSByZXF1ZXN0LmhlYWRlcnNbXCJvcmlnaW5cIl07XG4gICAgcmV0dXJuIEhlYWRlcnMudW5zYWZlRnJvbVJlY29yZCh7XG4gICAgICAuLi5hbGxvd09yaWdpbihvcmlnaW4pLFxuICAgICAgLi4uYWxsb3dDcmVkZW50aWFscyxcbiAgICAgIC4uLmV4cG9zZUhlYWRlcnNcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGVhZGVyc0Zyb21SZXF1ZXN0T3B0aW9ucyA9IHJlcXVlc3QgPT4ge1xuICAgIGNvbnN0IG9yaWdpbiA9IHJlcXVlc3QuaGVhZGVyc1tcIm9yaWdpblwiXTtcbiAgICBjb25zdCBhY2Nlc3NDb250cm9sUmVxdWVzdEhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnNbXCJhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LWhlYWRlcnNcIl07XG4gICAgcmV0dXJuIEhlYWRlcnMudW5zYWZlRnJvbVJlY29yZCh7XG4gICAgICAuLi5hbGxvd09yaWdpbihvcmlnaW4pLFxuICAgICAgLi4uYWxsb3dDcmVkZW50aWFscyxcbiAgICAgIC4uLmV4cG9zZUhlYWRlcnMsXG4gICAgICAuLi5hbGxvd01ldGhvZHMsXG4gICAgICAuLi5hbGxvd0hlYWRlcnMoYWNjZXNzQ29udHJvbFJlcXVlc3RIZWFkZXJzKSxcbiAgICAgIC4uLm1heEFnZVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBwcmVSZXNwb25zZUhhbmRsZXIgPSAocmVxdWVzdCwgcmVzcG9uc2UpID0+IEVmZmVjdC5zdWNjZWVkKFNlcnZlclJlc3BvbnNlLnNldEhlYWRlcnMocmVzcG9uc2UsIGhlYWRlcnNGcm9tUmVxdWVzdChyZXF1ZXN0KSkpO1xuICByZXR1cm4gaHR0cEFwcCA9PiBFZmZlY3Qud2l0aEZpYmVyUnVudGltZShmaWJlciA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IENvbnRleHQudW5zYWZlR2V0KGZpYmVyLmN1cnJlbnRDb250ZXh0LCBTZXJ2ZXJSZXF1ZXN0Lkh0dHBTZXJ2ZXJSZXF1ZXN0KTtcbiAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFwiT1BUSU9OU1wiKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQoU2VydmVyUmVzcG9uc2UuZW1wdHkoe1xuICAgICAgICBzdGF0dXM6IDIwNCxcbiAgICAgICAgaGVhZGVyczogaGVhZGVyc0Zyb21SZXF1ZXN0T3B0aW9ucyhyZXF1ZXN0KVxuICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gRWZmZWN0LnppcFJpZ2h0KGludGVybmFsSHR0cEFwcC5hcHBlbmRQcmVSZXNwb25zZUhhbmRsZXIocHJlUmVzcG9uc2VIYW5kbGVyKSwgaHR0cEFwcCk7XG4gIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBNaWRkbGV3YXJlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpMiddleware.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpPlatform.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpPlatform.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   layer: () => (/* binding */ layer),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   tag: () => (/* binding */ tag)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var _Etag_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Etag.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Etag.js\");\n/* harmony import */ var _FileSystem_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../FileSystem.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/FileSystem.js\");\n/* harmony import */ var _Headers_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Headers.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js\");\n/* harmony import */ var _httpServerResponse_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./httpServerResponse.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerResponse.js\");\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpPlatform\");\n/** @internal */\nconst tag = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@effect/platform/HttpPlatform\");\n/** @internal */\nconst make = impl => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.gen(function* () {\n  const fs = yield* _FileSystem_js__WEBPACK_IMPORTED_MODULE_2__.FileSystem;\n  const etagGen = yield* _Etag_js__WEBPACK_IMPORTED_MODULE_3__.Generator;\n  return tag.of({\n    [TypeId]: TypeId,\n    fileResponse(path, options) {\n      return (0,effect_Function__WEBPACK_IMPORTED_MODULE_4__.pipe)(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.bindTo(fs.stat(path), \"info\"), effect_Effect__WEBPACK_IMPORTED_MODULE_1__.bind(\"etag\", ({\n        info\n      }) => etagGen.fromFileInfo(info)), effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(({\n        etag,\n        info\n      }) => {\n        const start = Number(options?.offset ?? 0);\n        const end = options?.bytesToRead !== undefined ? start + Number(options.bytesToRead) : undefined;\n        const headers = _Headers_js__WEBPACK_IMPORTED_MODULE_5__.set(options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_5__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_5__.empty, \"etag\", _Etag_js__WEBPACK_IMPORTED_MODULE_3__.toString(etag));\n        if (info.mtime._tag === \"Some\") {\n          ;\n          headers[\"last-modified\"] = info.mtime.value.toUTCString();\n        }\n        const contentLength = end !== undefined ? end - start : Number(info.size) - start;\n        return impl.fileResponse(path, options?.status ?? 200, options?.statusText, headers, start, end, contentLength);\n      }));\n    },\n    fileWebResponse(file, options) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(etagGen.fromFileWeb(file), etag => {\n        const headers = _Headers_js__WEBPACK_IMPORTED_MODULE_5__.merge(options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_5__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_5__.empty, _Headers_js__WEBPACK_IMPORTED_MODULE_5__.unsafeFromRecord({\n          etag: _Etag_js__WEBPACK_IMPORTED_MODULE_3__.toString(etag),\n          \"last-modified\": new Date(file.lastModified).toUTCString()\n        }));\n        return impl.fileWebResponse(file, options?.status ?? 200, options?.statusText, headers, options);\n      });\n    }\n  });\n});\n/** @internal */\nconst layer = /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_6__.effect(tag, effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(_FileSystem_js__WEBPACK_IMPORTED_MODULE_2__.FileSystem, fs => make({\n  fileResponse(path, status, statusText, headers, start, end, contentLength) {\n    return _httpServerResponse_js__WEBPACK_IMPORTED_MODULE_7__.stream(fs.stream(path, {\n      offset: start,\n      bytesToRead: end !== undefined ? end - start : undefined\n    }), {\n      contentLength,\n      headers,\n      status,\n      statusText\n    });\n  },\n  fileWebResponse(file, status, statusText, headers, _options) {\n    return _httpServerResponse_js__WEBPACK_IMPORTED_MODULE_7__.stream(effect_Stream__WEBPACK_IMPORTED_MODULE_8__.fromReadableStream(() => file.stream(), effect_Function__WEBPACK_IMPORTED_MODULE_4__.identity), {\n      headers,\n      status,\n      statusText\n    });\n  }\n}))).pipe( /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_6__.provide(_Etag_js__WEBPACK_IMPORTED_MODULE_3__.layerWeak));\n//# sourceMappingURL=httpPlatform.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cFBsYXRmb3JtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEM7QUFDRjtBQUNTO0FBQ1g7QUFDRTtBQUNMO0FBQ1k7QUFDTjtBQUNpQjtBQUMxRDtBQUNPO0FBQ1A7QUFDTyx5QkFBeUIsc0RBQWtCO0FBQ2xEO0FBQ08scUJBQXFCLDhDQUFVO0FBQ3RDLG9CQUFvQixzREFBcUI7QUFDekMseUJBQXlCLCtDQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGFBQWEscURBQUksQ0FBQyxpREFBYSx5QkFBeUIsK0NBQVc7QUFDbkU7QUFDQSxPQUFPLGtDQUFrQyw4Q0FBVTtBQUNuRDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSx3QkFBd0IsNENBQVcsb0JBQW9CLGtEQUFpQixvQkFBb0IsOENBQWEsVUFBVSw4Q0FBYTtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsYUFBYSw4Q0FBVTtBQUN2Qix3QkFBd0IsOENBQWEsb0JBQW9CLGtEQUFpQixvQkFBb0IsOENBQWEsRUFBRSx5REFBd0I7QUFDckksZ0JBQWdCLDhDQUFhO0FBQzdCO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNPLDJCQUEyQixnREFBWSxNQUFNLGtEQUFjLENBQUMsc0RBQXFCO0FBQ3hGO0FBQ0EsV0FBVywwREFBcUI7QUFDaEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxXQUFXLDBEQUFxQixDQUFDLDZEQUF5QixzQkFBc0IscURBQVE7QUFDeEY7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyx1QkFBdUIsaURBQWEsQ0FBQywrQ0FBYztBQUNwRCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9pbnRlcm5hbC9odHRwUGxhdGZvcm0uanM/MjE3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb250ZXh0IGZyb20gXCJlZmZlY3QvQ29udGV4dFwiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgeyBpZGVudGl0eSwgcGlwZSB9IGZyb20gXCJlZmZlY3QvRnVuY3Rpb25cIjtcbmltcG9ydCAqIGFzIExheWVyIGZyb20gXCJlZmZlY3QvTGF5ZXJcIjtcbmltcG9ydCAqIGFzIFN0cmVhbSBmcm9tIFwiZWZmZWN0L1N0cmVhbVwiO1xuaW1wb3J0ICogYXMgRXRhZyBmcm9tIFwiLi4vRXRhZy5qc1wiO1xuaW1wb3J0ICogYXMgRmlsZVN5c3RlbSBmcm9tIFwiLi4vRmlsZVN5c3RlbS5qc1wiO1xuaW1wb3J0ICogYXMgSGVhZGVycyBmcm9tIFwiLi4vSGVhZGVycy5qc1wiO1xuaW1wb3J0ICogYXMgc2VydmVyUmVzcG9uc2UgZnJvbSBcIi4vaHR0cFNlcnZlclJlc3BvbnNlLmpzXCI7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBQbGF0Zm9ybVwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB0YWcgPSAvKiNfX1BVUkVfXyovQ29udGV4dC5HZW5lcmljVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwUGxhdGZvcm1cIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbWFrZSA9IGltcGwgPT4gRWZmZWN0LmdlbihmdW5jdGlvbiogKCkge1xuICBjb25zdCBmcyA9IHlpZWxkKiBGaWxlU3lzdGVtLkZpbGVTeXN0ZW07XG4gIGNvbnN0IGV0YWdHZW4gPSB5aWVsZCogRXRhZy5HZW5lcmF0b3I7XG4gIHJldHVybiB0YWcub2Yoe1xuICAgIFtUeXBlSWRdOiBUeXBlSWQsXG4gICAgZmlsZVJlc3BvbnNlKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBwaXBlKEVmZmVjdC5iaW5kVG8oZnMuc3RhdChwYXRoKSwgXCJpbmZvXCIpLCBFZmZlY3QuYmluZChcImV0YWdcIiwgKHtcbiAgICAgICAgaW5mb1xuICAgICAgfSkgPT4gZXRhZ0dlbi5mcm9tRmlsZUluZm8oaW5mbykpLCBFZmZlY3QubWFwKCh7XG4gICAgICAgIGV0YWcsXG4gICAgICAgIGluZm9cbiAgICAgIH0pID0+IHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIob3B0aW9ucz8ub2Zmc2V0ID8/IDApO1xuICAgICAgICBjb25zdCBlbmQgPSBvcHRpb25zPy5ieXRlc1RvUmVhZCAhPT0gdW5kZWZpbmVkID8gc3RhcnQgKyBOdW1iZXIob3B0aW9ucy5ieXRlc1RvUmVhZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBIZWFkZXJzLnNldChvcHRpb25zPy5oZWFkZXJzID8gSGVhZGVycy5mcm9tSW5wdXQob3B0aW9ucy5oZWFkZXJzKSA6IEhlYWRlcnMuZW1wdHksIFwiZXRhZ1wiLCBFdGFnLnRvU3RyaW5nKGV0YWcpKTtcbiAgICAgICAgaWYgKGluZm8ubXRpbWUuX3RhZyA9PT0gXCJTb21lXCIpIHtcbiAgICAgICAgICA7XG4gICAgICAgICAgaGVhZGVyc1tcImxhc3QtbW9kaWZpZWRcIl0gPSBpbmZvLm10aW1lLnZhbHVlLnRvVVRDU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudExlbmd0aCA9IGVuZCAhPT0gdW5kZWZpbmVkID8gZW5kIC0gc3RhcnQgOiBOdW1iZXIoaW5mby5zaXplKSAtIHN0YXJ0O1xuICAgICAgICByZXR1cm4gaW1wbC5maWxlUmVzcG9uc2UocGF0aCwgb3B0aW9ucz8uc3RhdHVzID8/IDIwMCwgb3B0aW9ucz8uc3RhdHVzVGV4dCwgaGVhZGVycywgc3RhcnQsIGVuZCwgY29udGVudExlbmd0aCk7XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBmaWxlV2ViUmVzcG9uc2UoZmlsZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIEVmZmVjdC5tYXAoZXRhZ0dlbi5mcm9tRmlsZVdlYihmaWxlKSwgZXRhZyA9PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBIZWFkZXJzLm1lcmdlKG9wdGlvbnM/LmhlYWRlcnMgPyBIZWFkZXJzLmZyb21JbnB1dChvcHRpb25zLmhlYWRlcnMpIDogSGVhZGVycy5lbXB0eSwgSGVhZGVycy51bnNhZmVGcm9tUmVjb3JkKHtcbiAgICAgICAgICBldGFnOiBFdGFnLnRvU3RyaW5nKGV0YWcpLFxuICAgICAgICAgIFwibGFzdC1tb2RpZmllZFwiOiBuZXcgRGF0ZShmaWxlLmxhc3RNb2RpZmllZCkudG9VVENTdHJpbmcoKVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBpbXBsLmZpbGVXZWJSZXNwb25zZShmaWxlLCBvcHRpb25zPy5zdGF0dXMgPz8gMjAwLCBvcHRpb25zPy5zdGF0dXNUZXh0LCBoZWFkZXJzLCBvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBsYXllciA9IC8qI19fUFVSRV9fKi9MYXllci5lZmZlY3QodGFnLCBFZmZlY3QuZmxhdE1hcChGaWxlU3lzdGVtLkZpbGVTeXN0ZW0sIGZzID0+IG1ha2Uoe1xuICBmaWxlUmVzcG9uc2UocGF0aCwgc3RhdHVzLCBzdGF0dXNUZXh0LCBoZWFkZXJzLCBzdGFydCwgZW5kLCBjb250ZW50TGVuZ3RoKSB7XG4gICAgcmV0dXJuIHNlcnZlclJlc3BvbnNlLnN0cmVhbShmcy5zdHJlYW0ocGF0aCwge1xuICAgICAgb2Zmc2V0OiBzdGFydCxcbiAgICAgIGJ5dGVzVG9SZWFkOiBlbmQgIT09IHVuZGVmaW5lZCA/IGVuZCAtIHN0YXJ0IDogdW5kZWZpbmVkXG4gICAgfSksIHtcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBoZWFkZXJzLFxuICAgICAgc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dFxuICAgIH0pO1xuICB9LFxuICBmaWxlV2ViUmVzcG9uc2UoZmlsZSwgc3RhdHVzLCBzdGF0dXNUZXh0LCBoZWFkZXJzLCBfb3B0aW9ucykge1xuICAgIHJldHVybiBzZXJ2ZXJSZXNwb25zZS5zdHJlYW0oU3RyZWFtLmZyb21SZWFkYWJsZVN0cmVhbSgoKSA9PiBmaWxlLnN0cmVhbSgpLCBpZGVudGl0eSksIHtcbiAgICAgIGhlYWRlcnMsXG4gICAgICBzdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0XG4gICAgfSk7XG4gIH1cbn0pKSkucGlwZSggLyojX19QVVJFX18qL0xheWVyLnByb3ZpZGUoRXRhZy5sYXllcldlYWspKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBQbGF0Zm9ybS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpPlatform.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpRouter.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpRouter.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouteContext: () => (/* binding */ RouteContext),\n/* harmony export */   RouteContextTypeId: () => (/* binding */ RouteContextTypeId),\n/* harmony export */   RouteTypeId: () => (/* binding */ RouteTypeId),\n/* harmony export */   Tag: () => (/* binding */ Tag),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   all: () => (/* binding */ all),\n/* harmony export */   append: () => (/* binding */ append),\n/* harmony export */   catchAll: () => (/* binding */ catchAll),\n/* harmony export */   catchAllCause: () => (/* binding */ catchAllCause),\n/* harmony export */   catchTag: () => (/* binding */ catchTag),\n/* harmony export */   catchTags: () => (/* binding */ catchTags),\n/* harmony export */   concat: () => (/* binding */ concat),\n/* harmony export */   concatAll: () => (/* binding */ concatAll),\n/* harmony export */   currentRouterConfig: () => (/* binding */ currentRouterConfig),\n/* harmony export */   del: () => (/* binding */ del),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   fromIterable: () => (/* binding */ fromIterable),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   head: () => (/* binding */ head),\n/* harmony export */   makeRoute: () => (/* binding */ makeRoute),\n/* harmony export */   mount: () => (/* binding */ mount),\n/* harmony export */   mountApp: () => (/* binding */ mountApp),\n/* harmony export */   options: () => (/* binding */ options),\n/* harmony export */   params: () => (/* binding */ params),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   prefixAll: () => (/* binding */ prefixAll),\n/* harmony export */   prefixPath: () => (/* binding */ prefixPath),\n/* harmony export */   provideService: () => (/* binding */ provideService),\n/* harmony export */   provideServiceEffect: () => (/* binding */ provideServiceEffect),\n/* harmony export */   put: () => (/* binding */ put),\n/* harmony export */   route: () => (/* binding */ route),\n/* harmony export */   schemaJson: () => (/* binding */ schemaJson),\n/* harmony export */   schemaNoBody: () => (/* binding */ schemaNoBody),\n/* harmony export */   schemaParams: () => (/* binding */ schemaParams),\n/* harmony export */   schemaPathParams: () => (/* binding */ schemaPathParams),\n/* harmony export */   setRouterConfig: () => (/* binding */ setRouterConfig),\n/* harmony export */   transform: () => (/* binding */ transform),\n/* harmony export */   use: () => (/* binding */ use),\n/* harmony export */   withRouterConfig: () => (/* binding */ withRouterConfig)\n/* harmony export */ });\n/* harmony import */ var effect_Chunk__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! effect/Chunk */ \"(rsc)/../../node_modules/effect/dist/esm/Chunk.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Effectable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Effectable */ \"(rsc)/../../node_modules/effect/dist/esm/Effectable.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_Tracer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effect/Tracer */ \"(rsc)/../../node_modules/effect/dist/esm/Tracer.js\");\n/* harmony import */ var find_my_way_ts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! find-my-way-ts */ \"(rsc)/../../node_modules/find-my-way-ts/dist/esm/index.js\");\n/* harmony import */ var _HttpServerError_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../HttpServerError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerError.js\");\n/* harmony import */ var _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../HttpServerRequest.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRequest.js\");\n/* harmony import */ var _HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../HttpServerRespondable.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRespondable.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpRouter\");\n/** @internal */\nconst RouteTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpRouter/Route\");\n/** @internal */\nconst RouteContextTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpRouter/RouteContext\");\n/** @internal */\nconst RouteContext = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@effect/platform/HttpRouter/RouteContext\");\nconst isRouter = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_1__.hasProperty(u, TypeId);\n/** @internal */\nconst params = /*#__PURE__*/effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(RouteContext, _ => _.params);\n/** @internal */\nconst schemaJson = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_3__.decodeUnknown(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.context(), context => {\n    const request = effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__.HttpServerRequest);\n    const searchParams = effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__.ParsedSearchParams);\n    const routeContext = effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(context, RouteContext);\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(request.json, body => parse({\n      method: request.method,\n      url: request.url,\n      headers: request.headers,\n      cookies: request.cookies,\n      pathParams: routeContext.params,\n      searchParams,\n      body\n    }));\n  });\n};\n/** @internal */\nconst schemaNoBody = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_3__.decodeUnknown(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.context(), context => {\n    const request = effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__.HttpServerRequest);\n    const searchParams = effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__.ParsedSearchParams);\n    const routeContext = effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(context, RouteContext);\n    return parse({\n      method: request.method,\n      url: request.url,\n      headers: request.headers,\n      cookies: request.cookies,\n      pathParams: routeContext.params,\n      searchParams\n    });\n  });\n};\n/** @internal */\nconst schemaParams = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_3__.decodeUnknown(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.context(), context => {\n    const searchParams = effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__.ParsedSearchParams);\n    const routeContext = effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(context, RouteContext);\n    return parse({\n      ...searchParams,\n      ...routeContext.params\n    });\n  });\n};\n/** @internal */\nconst schemaPathParams = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_3__.decodeUnknown(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(RouteContext, _ => parse(_.params));\n};\n/** @internal */\nconst currentRouterConfig = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_5__.globalValue)(\"@effect/platform/HttpRouter/currentRouterConfig\", () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_6__.unsafeMake({}));\n/** @internal */\nconst withRouterConfig = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (effect, config) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.locally(effect, currentRouterConfig, config));\n/** @internal */\nconst setRouterConfig = config => effect_Layer__WEBPACK_IMPORTED_MODULE_8__.locallyScoped(currentRouterConfig, config);\nclass RouterImpl extends effect_Effectable__WEBPACK_IMPORTED_MODULE_9__.StructuralClass {\n  routes;\n  mounts;\n  [TypeId];\n  constructor(routes, mounts) {\n    super();\n    this.routes = routes;\n    this.mounts = mounts;\n    this[TypeId] = TypeId;\n    this.httpApp = effect_FiberRef__WEBPACK_IMPORTED_MODULE_6__.get(currentRouterConfig).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(config => this.httpApp = toHttpApp(this, config)));\n  }\n  httpApp;\n  commit() {\n    return this.httpApp;\n  }\n  toJSON() {\n    return {\n      _id: \"Router\",\n      routes: this.routes.toJSON(),\n      mounts: this.mounts.toJSON()\n    };\n  }\n  toString() {\n    return effect_Inspectable__WEBPACK_IMPORTED_MODULE_10__.format(this);\n  }\n  [effect_Inspectable__WEBPACK_IMPORTED_MODULE_10__.NodeInspectSymbol]() {\n    return this.toJSON();\n  }\n}\nconst toHttpApp = (self, config) => {\n  const router = find_my_way_ts__WEBPACK_IMPORTED_MODULE_11__.make(config);\n  const mounts = effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.toReadonlyArray(self.mounts).map(([path, app, options]) => [path, new RouteContextImpl(new RouteImpl(\"*\", options?.includePrefix ? `${path}/*` : \"/*\", app, options?.includePrefix ? effect_Option__WEBPACK_IMPORTED_MODULE_13__.none() : effect_Option__WEBPACK_IMPORTED_MODULE_13__.some(path), false), {}), options]);\n  const mountsLen = mounts.length;\n  effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.forEach(self.routes, route => {\n    if (route.method === \"*\") {\n      router.all(route.path, route);\n    } else {\n      router.on(route.method, route.path, route);\n    }\n  });\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.withFiberRuntime(fiber => {\n    const context = effect_Context__WEBPACK_IMPORTED_MODULE_0__.unsafeMake(new Map(fiber.getFiberRef(effect_FiberRef__WEBPACK_IMPORTED_MODULE_6__.currentContext).unsafeMap));\n    const request = effect_Context__WEBPACK_IMPORTED_MODULE_0__.unsafeGet(context, _HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__.HttpServerRequest);\n    if (mountsLen > 0) {\n      for (let i = 0; i < mountsLen; i++) {\n        const [path, routeContext, options] = mounts[i];\n        if (request.url.startsWith(path)) {\n          context.unsafeMap.set(RouteContext.key, routeContext);\n          if (options?.includePrefix !== true) {\n            context.unsafeMap.set(_HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__.HttpServerRequest.key, sliceRequestUrl(request, path));\n          }\n          return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.locally(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(routeContext.route.handler, _HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_14__.toResponse), effect_FiberRef__WEBPACK_IMPORTED_MODULE_6__.currentContext, context);\n        }\n      }\n    }\n    let result = router.find(request.method, request.url);\n    if (result === undefined && request.method === \"HEAD\") {\n      result = router.find(\"GET\", request.url);\n    }\n    if (result === undefined) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.fail(new _HttpServerError_js__WEBPACK_IMPORTED_MODULE_15__.RouteNotFound({\n        request\n      }));\n    }\n    const route = result.handler;\n    if (route.prefix._tag === \"Some\") {\n      context.unsafeMap.set(_HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__.HttpServerRequest.key, sliceRequestUrl(request, route.prefix.value));\n    }\n    context.unsafeMap.set(_HttpServerRequest_js__WEBPACK_IMPORTED_MODULE_4__.ParsedSearchParams.key, result.searchParams);\n    context.unsafeMap.set(RouteContext.key, new RouteContextImpl(route, result.params));\n    const span = effect_Context__WEBPACK_IMPORTED_MODULE_0__.getOption(context, effect_Tracer__WEBPACK_IMPORTED_MODULE_16__.ParentSpan);\n    if (span._tag === \"Some\" && span.value._tag === \"Span\") {\n      span.value.attribute(\"http.route\", route.path);\n    }\n    const handlerResponse = effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(route.handler, _HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_14__.toResponse);\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.locally(route.uninterruptible ? handlerResponse : effect_Effect__WEBPACK_IMPORTED_MODULE_2__.interruptible(handlerResponse), effect_FiberRef__WEBPACK_IMPORTED_MODULE_6__.currentContext, context);\n  });\n};\nfunction sliceRequestUrl(request, prefix) {\n  const prefexLen = prefix.length;\n  return request.modify({\n    url: request.url.length <= prefexLen ? \"/\" : request.url.slice(prefexLen)\n  });\n}\nclass RouteImpl extends effect_Inspectable__WEBPACK_IMPORTED_MODULE_10__.Class {\n  method;\n  path;\n  handler;\n  prefix;\n  uninterruptible;\n  [RouteTypeId];\n  constructor(method, path, handler, prefix = effect_Option__WEBPACK_IMPORTED_MODULE_13__.none(), uninterruptible = false) {\n    super();\n    this.method = method;\n    this.path = path;\n    this.handler = handler;\n    this.prefix = prefix;\n    this.uninterruptible = uninterruptible;\n    this[RouteTypeId] = RouteTypeId;\n  }\n  toJSON() {\n    return {\n      _id: \"@effect/platform/HttpRouter/Route\",\n      method: this.method,\n      path: this.path,\n      prefix: this.prefix.toJSON()\n    };\n  }\n}\nclass RouteContextImpl {\n  route;\n  params;\n  [RouteContextTypeId];\n  constructor(route, params) {\n    this.route = route;\n    this.params = params;\n    this[RouteContextTypeId] = RouteContextTypeId;\n  }\n}\n/** @internal */\nconst empty = /*#__PURE__*/new RouterImpl( /*#__PURE__*/effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.empty(), /*#__PURE__*/effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.empty());\n/** @internal */\nconst fromIterable = routes => new RouterImpl(effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.fromIterable(routes), effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.empty());\n/** @internal */\nconst makeRoute = (method, path, handler, options) => new RouteImpl(method, path, handler, options?.prefix ? effect_Option__WEBPACK_IMPORTED_MODULE_13__.some(options.prefix) : effect_Option__WEBPACK_IMPORTED_MODULE_13__.none(), options?.uninterruptible ?? false);\n/** @internal */\nconst append = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (self, route) => new RouterImpl(effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.append(self.routes, route), self.mounts));\n/** @internal */\nconst concat = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (self, that) => concatAll(self, that));\n/** @internal */\nconst concatAll = (...routers) => new RouterImpl(routers.reduce((cur, acc) => effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.appendAll(cur, acc.routes), effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.empty()), routers.reduce((cur, acc) => effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.appendAll(cur, acc.mounts), effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.empty()));\nconst removeTrailingSlash = path => path.endsWith(\"/\") ? path.slice(0, -1) : path;\n/** @internal */\nconst prefixPath = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (self, prefix) => {\n  prefix = removeTrailingSlash(prefix);\n  return self === \"/\" ? prefix : prefix + self;\n});\n/** @internal */\nconst prefixAll = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (self, prefix) => {\n  prefix = removeTrailingSlash(prefix);\n  return new RouterImpl(effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.map(self.routes, route => new RouteImpl(route.method, route.path === \"/\" ? prefix : prefix + route.path, route.handler, effect_Option__WEBPACK_IMPORTED_MODULE_13__.orElse(effect_Option__WEBPACK_IMPORTED_MODULE_13__.map(route.prefix, _ => prefix + _), () => effect_Option__WEBPACK_IMPORTED_MODULE_13__.some(prefix)), route.uninterruptible)), effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.map(self.mounts, ([path, app]) => [path === \"/\" ? prefix : prefix + path, app]));\n});\n/** @internal */\nconst mount = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(3, (self, path, that) => concat(self, prefixAll(that, path)));\n/** @internal */\nconst mountApp = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(args => effect_Predicate__WEBPACK_IMPORTED_MODULE_1__.hasProperty(args[0], TypeId), (self, path, that, options) => new RouterImpl(self.routes, effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.append(self.mounts, [removeTrailingSlash(path), that, options])));\n/** @internal */\nconst route = method => (0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(args => isRouter(args[0]), (self, path, handler, options) => new RouterImpl(effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.append(self.routes, new RouteImpl(method, path, handler, effect_Option__WEBPACK_IMPORTED_MODULE_13__.none(), options?.uninterruptible ?? false)), self.mounts));\n/** @internal */\nconst all = /*#__PURE__*/route(\"*\");\n/** @internal */\nconst get = /*#__PURE__*/route(\"GET\");\n/** @internal */\nconst post = /*#__PURE__*/route(\"POST\");\n/** @internal */\nconst put = /*#__PURE__*/route(\"PUT\");\n/** @internal */\nconst patch = /*#__PURE__*/route(\"PATCH\");\n/** @internal */\nconst del = /*#__PURE__*/route(\"DELETE\");\n/** @internal */\nconst head = /*#__PURE__*/route(\"HEAD\");\n/** @internal */\nconst options = /*#__PURE__*/route(\"OPTIONS\");\n/** @internal */\nconst use = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (self, f) => new RouterImpl(effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.map(self.routes, route => new RouteImpl(route.method, route.path, f(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(route.handler, _HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_14__.toResponse)), route.prefix, route.uninterruptible)), effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.map(self.mounts, ([path, app]) => [path, f(app)])));\n/** @internal */\nconst transform = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (self, f) => new RouterImpl(effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.map(self.routes, route => new RouteImpl(route.method, route.path, f(route.handler), route.prefix, route.uninterruptible)), effect_Chunk__WEBPACK_IMPORTED_MODULE_12__.map(self.mounts, ([path, app]) => [path, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(f(app), _HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_14__.toResponse)])));\n/** @internal */\nconst catchAll = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (self, f) => transform(self, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchAll(f)));\n/** @internal */\nconst catchAllCause = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (self, f) => transform(self, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchAllCause(f)));\n/** @internal */\nconst catchTag = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(3, (self, k, f) => transform(self, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchTag(k, f)));\n/** @internal */\nconst catchTags = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(2, (self, cases) => use(self, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchTags(cases)));\nconst provideService = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(3, (self, tag, service) => use(self, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.provideService(tag, service)));\n/* @internal */\nconst provideServiceEffect = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_7__.dual)(3, (self, tag, effect) => use(self, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.provideServiceEffect(tag, effect)));\nconst makeService = () => {\n  let router = empty;\n  return {\n    addRoute(route) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = append(router, route);\n      });\n    },\n    all(path, handler, options) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = all(router, path, handler, options);\n      });\n    },\n    get(path, handler, options) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = get(router, path, handler, options);\n      });\n    },\n    post(path, handler, options) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = post(router, path, handler, options);\n      });\n    },\n    put(path, handler, options) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = put(router, path, handler, options);\n      });\n    },\n    patch(path, handler, options) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = patch(router, path, handler, options);\n      });\n    },\n    del(path, handler, options) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = del(router, path, handler, options);\n      });\n    },\n    head(path, handler, options) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = head(router, path, handler, options);\n      });\n    },\n    options(path, handler, opts) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = options(router, path, handler, opts);\n      });\n    },\n    router: effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => router),\n    mount(path, that) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = mount(router, path, that);\n      });\n    },\n    mountApp(path, app, options) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = mountApp(router, path, app, options);\n      });\n    },\n    concat(that) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        router = concat(router, that);\n      });\n    }\n  };\n};\n/* @internal */\nconst Tag = id => () => {\n  const Err = globalThis.Error;\n  const limit = Err.stackTraceLimit;\n  Err.stackTraceLimit = 2;\n  const creationError = new Err();\n  Err.stackTraceLimit = limit;\n  function TagClass() {}\n  const TagClass_ = TagClass;\n  Object.setPrototypeOf(TagClass, Object.getPrototypeOf(effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(id)));\n  TagClass.key = id;\n  Object.defineProperty(TagClass, \"stack\", {\n    get() {\n      return creationError.stack;\n    }\n  });\n  TagClass_.Live = effect_Layer__WEBPACK_IMPORTED_MODULE_8__.sync(TagClass_, makeService);\n  TagClass_.router = effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(TagClass_, _ => _.router);\n  TagClass_.use = f => TagClass_.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(f), effect_Layer__WEBPACK_IMPORTED_MODULE_8__.scopedDiscard, effect_Layer__WEBPACK_IMPORTED_MODULE_8__.provide(TagClass_.Live));\n  TagClass_.unwrap = f => TagClass_.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(_ => _.router), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(f), effect_Layer__WEBPACK_IMPORTED_MODULE_8__.unwrapEffect, effect_Layer__WEBPACK_IMPORTED_MODULE_8__.provide(TagClass_.Live));\n  return TagClass;\n};\n//# sourceMappingURL=httpRouter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cFJvdXRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFDSTtBQUNGO0FBQ1E7QUFDSjtBQUNMO0FBQ1U7QUFDQztBQUNaO0FBQ0U7QUFDTTtBQUNOO0FBQ0E7QUFDSTtBQUNHO0FBQ1U7QUFDRTtBQUMzRDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPLGtDQUFrQyxzREFBa0I7QUFDM0Qsc0JBQXNCLHlEQUFxQjtBQUMzQztBQUNPLDRCQUE0Qiw4Q0FBVTtBQUM3QztBQUNPO0FBQ1AsZ0JBQWdCLHdEQUFvQjtBQUNwQyxTQUFTLGtEQUFjLENBQUMsa0RBQWM7QUFDdEMsb0JBQW9CLCtDQUFXLFVBQVUsb0VBQStCO0FBQ3hFLHlCQUF5QiwrQ0FBVyxVQUFVLHFFQUFnQztBQUM5RSx5QkFBeUIsK0NBQVc7QUFDcEMsV0FBVyxrREFBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLHdEQUFvQjtBQUNwQyxTQUFTLGtEQUFjLENBQUMsa0RBQWM7QUFDdEMsb0JBQW9CLCtDQUFXLFVBQVUsb0VBQStCO0FBQ3hFLHlCQUF5QiwrQ0FBVyxVQUFVLHFFQUFnQztBQUM5RSx5QkFBeUIsK0NBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDTztBQUNQLGdCQUFnQix3REFBb0I7QUFDcEMsU0FBUyxrREFBYyxDQUFDLGtEQUFjO0FBQ3RDLHlCQUF5QiwrQ0FBVyxVQUFVLHFFQUFnQztBQUM5RSx5QkFBeUIsK0NBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ087QUFDUCxnQkFBZ0Isd0RBQW9CO0FBQ3BDLFNBQVMsa0RBQWM7QUFDdkI7QUFDQTtBQUNPLHlDQUF5QywrREFBVywwREFBMEQsdURBQW1CLEdBQUc7QUFDM0k7QUFDTyxzQ0FBc0MscURBQUksd0JBQXdCLGtEQUFjO0FBQ3ZGO0FBQ08sa0NBQWtDLHVEQUFtQjtBQUM1RCx5QkFBeUIsOERBQTBCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQVksMkJBQTJCLGtEQUFjO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1REFBa0I7QUFDN0I7QUFDQSxHQUFHLGtFQUE2QjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpREFBYztBQUMvQixpQkFBaUIsMERBQXFCLHVIQUF1SCxLQUFLLDBDQUEwQyxnREFBVyxLQUFLLGdEQUFXLGtCQUFrQjtBQUN6UDtBQUNBLEVBQUUsa0RBQWE7QUFDZjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUywyREFBdUI7QUFDaEMsb0JBQW9CLHNEQUFrQiwyQkFBMkIsMkRBQXVCO0FBQ3hGLG9CQUFvQixxREFBaUIsVUFBVSxvRUFBK0I7QUFDOUU7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxvRUFBK0I7QUFDakU7QUFDQSxpQkFBaUIsa0RBQWMsQ0FBQyxrREFBYyw2QkFBNkIsa0VBQXNCLEdBQUcsMkRBQXVCO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtDQUFXLEtBQUssK0RBQW1CO0FBQ2hEO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvRUFBK0I7QUFDM0Q7QUFDQSwwQkFBMEIscUVBQWdDO0FBQzFEO0FBQ0EsaUJBQWlCLHFEQUFpQixVQUFVLHNEQUFpQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQWMsZ0JBQWdCLGtFQUFzQjtBQUNoRixXQUFXLGtEQUFjLDJDQUEyQyx3REFBb0IsbUJBQW1CLDJEQUF1QjtBQUNsSSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdCQUF3QixzREFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGdEQUFXO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0RBQXdELGdEQUFXLGlCQUFpQixnREFBVztBQUN0RztBQUNPLDhDQUE4Qyx1REFBa0IsVUFBVSxnREFBVztBQUM1RjtBQUNPLDZHQUE2RyxnREFBVyxtQkFBbUIsZ0RBQVc7QUFDN0o7QUFDTyw0QkFBNEIscURBQUksb0NBQW9DLGlEQUFZO0FBQ3ZGO0FBQ08sNEJBQTRCLHFEQUFJO0FBQ3ZDO0FBQ08sOEVBQThFLG9EQUFlLG1CQUFtQixnREFBVyxrQ0FBa0Msb0RBQWUsbUJBQW1CLGdEQUFXO0FBQ2pOO0FBQ0E7QUFDTyxnQ0FBZ0MscURBQUk7QUFDM0M7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPLCtCQUErQixxREFBSTtBQUMxQztBQUNBLHdCQUF3Qiw4Q0FBUyxxSEFBcUgsa0RBQWEsQ0FBQywrQ0FBVSx1Q0FBdUMsZ0RBQVcsb0NBQW9DLDhDQUFTO0FBQzdRLENBQUM7QUFDRDtBQUNPLDJCQUEyQixxREFBSTtBQUN0QztBQUNPLDhCQUE4QixxREFBSSxTQUFTLHlEQUFxQiw4RUFBOEUsaURBQVk7QUFDaks7QUFDTyx3QkFBd0IscURBQUksNkVBQTZFLGlEQUFZLG1EQUFtRCxnREFBVztBQUMxTDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ08seUJBQXlCLHFEQUFJLGdDQUFnQyw4Q0FBUyxpRUFBaUUsa0RBQWMsZ0JBQWdCLGtFQUFzQiwyQ0FBMkMsOENBQVM7QUFDdFA7QUFDTywrQkFBK0IscURBQUksZ0NBQWdDLDhDQUFTLHdIQUF3SCw4Q0FBUyxzQ0FBc0Msa0RBQWMsU0FBUyxrRUFBc0I7QUFDdlM7QUFDTyw4QkFBOEIscURBQUksaUNBQWlDLG1EQUFlO0FBQ3pGO0FBQ08sbUNBQW1DLHFEQUFJLGlDQUFpQyx3REFBb0I7QUFDbkc7QUFDTyw4QkFBOEIscURBQUksb0NBQW9DLG1EQUFlO0FBQzVGO0FBQ08sK0JBQStCLHFEQUFJLCtCQUErQixvREFBZ0I7QUFDbEYsb0NBQW9DLHFEQUFJLHNDQUFzQyx5REFBcUI7QUFDMUc7QUFDTywwQ0FBMEMscURBQUkscUNBQXFDLCtEQUEyQjtBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0NBQVc7QUFDeEI7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QjtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEI7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QjtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEI7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QjtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxZQUFZLCtDQUFXO0FBQ3ZCO0FBQ0EsYUFBYSwrQ0FBVztBQUN4QjtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXO0FBQ3hCO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVc7QUFDeEI7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELHNEQUFrQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1CQUFtQiw4Q0FBVTtBQUM3QixxQkFBcUIsa0RBQWM7QUFDbkMsc0NBQXNDLGtEQUFjLEtBQUssdURBQW1CLEVBQUUsaURBQWE7QUFDM0YseUNBQXlDLGtEQUFjLGlCQUFpQiw4Q0FBVSxLQUFLLHNEQUFrQixFQUFFLGlEQUFhO0FBQ3hIO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9wbGF0Zm9ybS9kaXN0L2VzbS9pbnRlcm5hbC9odHRwUm91dGVyLmpzPzA2YzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ2h1bmsgZnJvbSBcImVmZmVjdC9DaHVua1wiO1xuaW1wb3J0ICogYXMgQ29udGV4dCBmcm9tIFwiZWZmZWN0L0NvbnRleHRcIjtcbmltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0ICogYXMgRWZmZWN0YWJsZSBmcm9tIFwiZWZmZWN0L0VmZmVjdGFibGVcIjtcbmltcG9ydCAqIGFzIEZpYmVyUmVmIGZyb20gXCJlZmZlY3QvRmliZXJSZWZcIjtcbmltcG9ydCB7IGR1YWwgfSBmcm9tIFwiZWZmZWN0L0Z1bmN0aW9uXCI7XG5pbXBvcnQgeyBnbG9iYWxWYWx1ZSB9IGZyb20gXCJlZmZlY3QvR2xvYmFsVmFsdWVcIjtcbmltcG9ydCAqIGFzIEluc3BlY3RhYmxlIGZyb20gXCJlZmZlY3QvSW5zcGVjdGFibGVcIjtcbmltcG9ydCAqIGFzIExheWVyIGZyb20gXCJlZmZlY3QvTGF5ZXJcIjtcbmltcG9ydCAqIGFzIE9wdGlvbiBmcm9tIFwiZWZmZWN0L09wdGlvblwiO1xuaW1wb3J0ICogYXMgUHJlZGljYXRlIGZyb20gXCJlZmZlY3QvUHJlZGljYXRlXCI7XG5pbXBvcnQgKiBhcyBTY2hlbWEgZnJvbSBcImVmZmVjdC9TY2hlbWFcIjtcbmltcG9ydCAqIGFzIFRyYWNlciBmcm9tIFwiZWZmZWN0L1RyYWNlclwiO1xuaW1wb3J0ICogYXMgRmluZE15V2F5IGZyb20gXCJmaW5kLW15LXdheS10c1wiO1xuaW1wb3J0ICogYXMgRXJyb3IgZnJvbSBcIi4uL0h0dHBTZXJ2ZXJFcnJvci5qc1wiO1xuaW1wb3J0ICogYXMgU2VydmVyUmVxdWVzdCBmcm9tIFwiLi4vSHR0cFNlcnZlclJlcXVlc3QuanNcIjtcbmltcG9ydCAqIGFzIFJlc3BvbmRhYmxlIGZyb20gXCIuLi9IdHRwU2VydmVyUmVzcG9uZGFibGUuanNcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cFJvdXRlclwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBSb3V0ZVR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwUm91dGVyL1JvdXRlXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFJvdXRlQ29udGV4dFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwUm91dGVyL1JvdXRlQ29udGV4dFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBSb3V0ZUNvbnRleHQgPSAvKiNfX1BVUkVfXyovQ29udGV4dC5HZW5lcmljVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwUm91dGVyL1JvdXRlQ29udGV4dFwiKTtcbmNvbnN0IGlzUm91dGVyID0gdSA9PiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgVHlwZUlkKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBwYXJhbXMgPSAvKiNfX1BVUkVfXyovRWZmZWN0Lm1hcChSb3V0ZUNvbnRleHQsIF8gPT4gXy5wYXJhbXMpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUpzb24gPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlID0gU2NoZW1hLmRlY29kZVVua25vd24oc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKEVmZmVjdC5jb250ZXh0KCksIGNvbnRleHQgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBDb250ZXh0LmdldChjb250ZXh0LCBTZXJ2ZXJSZXF1ZXN0Lkh0dHBTZXJ2ZXJSZXF1ZXN0KTtcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBDb250ZXh0LmdldChjb250ZXh0LCBTZXJ2ZXJSZXF1ZXN0LlBhcnNlZFNlYXJjaFBhcmFtcyk7XG4gICAgY29uc3Qgcm91dGVDb250ZXh0ID0gQ29udGV4dC5nZXQoY29udGV4dCwgUm91dGVDb250ZXh0KTtcbiAgICByZXR1cm4gRWZmZWN0LmZsYXRNYXAocmVxdWVzdC5qc29uLCBib2R5ID0+IHBhcnNlKHtcbiAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICB1cmw6IHJlcXVlc3QudXJsLFxuICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgY29va2llczogcmVxdWVzdC5jb29raWVzLFxuICAgICAgcGF0aFBhcmFtczogcm91dGVDb250ZXh0LnBhcmFtcyxcbiAgICAgIHNlYXJjaFBhcmFtcyxcbiAgICAgIGJvZHlcbiAgICB9KSk7XG4gIH0pO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFOb0JvZHkgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlID0gU2NoZW1hLmRlY29kZVVua25vd24oc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKEVmZmVjdC5jb250ZXh0KCksIGNvbnRleHQgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBDb250ZXh0LmdldChjb250ZXh0LCBTZXJ2ZXJSZXF1ZXN0Lkh0dHBTZXJ2ZXJSZXF1ZXN0KTtcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBDb250ZXh0LmdldChjb250ZXh0LCBTZXJ2ZXJSZXF1ZXN0LlBhcnNlZFNlYXJjaFBhcmFtcyk7XG4gICAgY29uc3Qgcm91dGVDb250ZXh0ID0gQ29udGV4dC5nZXQoY29udGV4dCwgUm91dGVDb250ZXh0KTtcbiAgICByZXR1cm4gcGFyc2Uoe1xuICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgIHVybDogcmVxdWVzdC51cmwsXG4gICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICBjb29raWVzOiByZXF1ZXN0LmNvb2tpZXMsXG4gICAgICBwYXRoUGFyYW1zOiByb3V0ZUNvbnRleHQucGFyYW1zLFxuICAgICAgc2VhcmNoUGFyYW1zXG4gICAgfSk7XG4gIH0pO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFQYXJhbXMgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlID0gU2NoZW1hLmRlY29kZVVua25vd24oc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKEVmZmVjdC5jb250ZXh0KCksIGNvbnRleHQgPT4ge1xuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IENvbnRleHQuZ2V0KGNvbnRleHQsIFNlcnZlclJlcXVlc3QuUGFyc2VkU2VhcmNoUGFyYW1zKTtcbiAgICBjb25zdCByb3V0ZUNvbnRleHQgPSBDb250ZXh0LmdldChjb250ZXh0LCBSb3V0ZUNvbnRleHQpO1xuICAgIHJldHVybiBwYXJzZSh7XG4gICAgICAuLi5zZWFyY2hQYXJhbXMsXG4gICAgICAuLi5yb3V0ZUNvbnRleHQucGFyYW1zXG4gICAgfSk7XG4gIH0pO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFQYXRoUGFyYW1zID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXJzZSA9IFNjaGVtYS5kZWNvZGVVbmtub3duKHNjaGVtYSwgb3B0aW9ucyk7XG4gIHJldHVybiBFZmZlY3QuZmxhdE1hcChSb3V0ZUNvbnRleHQsIF8gPT4gcGFyc2UoXy5wYXJhbXMpKTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgY3VycmVudFJvdXRlckNvbmZpZyA9IC8qI19fUFVSRV9fKi9nbG9iYWxWYWx1ZShcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cFJvdXRlci9jdXJyZW50Um91dGVyQ29uZmlnXCIsICgpID0+IEZpYmVyUmVmLnVuc2FmZU1ha2Uoe30pKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB3aXRoUm91dGVyQ29uZmlnID0gLyojX19QVVJFX18qL2R1YWwoMiwgKGVmZmVjdCwgY29uZmlnKSA9PiBFZmZlY3QubG9jYWxseShlZmZlY3QsIGN1cnJlbnRSb3V0ZXJDb25maWcsIGNvbmZpZykpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNldFJvdXRlckNvbmZpZyA9IGNvbmZpZyA9PiBMYXllci5sb2NhbGx5U2NvcGVkKGN1cnJlbnRSb3V0ZXJDb25maWcsIGNvbmZpZyk7XG5jbGFzcyBSb3V0ZXJJbXBsIGV4dGVuZHMgRWZmZWN0YWJsZS5TdHJ1Y3R1cmFsQ2xhc3Mge1xuICByb3V0ZXM7XG4gIG1vdW50cztcbiAgW1R5cGVJZF07XG4gIGNvbnN0cnVjdG9yKHJvdXRlcywgbW91bnRzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnJvdXRlcyA9IHJvdXRlcztcbiAgICB0aGlzLm1vdW50cyA9IG1vdW50cztcbiAgICB0aGlzW1R5cGVJZF0gPSBUeXBlSWQ7XG4gICAgdGhpcy5odHRwQXBwID0gRmliZXJSZWYuZ2V0KGN1cnJlbnRSb3V0ZXJDb25maWcpLnBpcGUoRWZmZWN0LmZsYXRNYXAoY29uZmlnID0+IHRoaXMuaHR0cEFwcCA9IHRvSHR0cEFwcCh0aGlzLCBjb25maWcpKSk7XG4gIH1cbiAgaHR0cEFwcDtcbiAgY29tbWl0KCkge1xuICAgIHJldHVybiB0aGlzLmh0dHBBcHA7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfaWQ6IFwiUm91dGVyXCIsXG4gICAgICByb3V0ZXM6IHRoaXMucm91dGVzLnRvSlNPTigpLFxuICAgICAgbW91bnRzOiB0aGlzLm1vdW50cy50b0pTT04oKVxuICAgIH07XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIEluc3BlY3RhYmxlLmZvcm1hdCh0aGlzKTtcbiAgfVxuICBbSW5zcGVjdGFibGUuTm9kZUluc3BlY3RTeW1ib2xdKCkge1xuICAgIHJldHVybiB0aGlzLnRvSlNPTigpO1xuICB9XG59XG5jb25zdCB0b0h0dHBBcHAgPSAoc2VsZiwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IEZpbmRNeVdheS5tYWtlKGNvbmZpZyk7XG4gIGNvbnN0IG1vdW50cyA9IENodW5rLnRvUmVhZG9ubHlBcnJheShzZWxmLm1vdW50cykubWFwKChbcGF0aCwgYXBwLCBvcHRpb25zXSkgPT4gW3BhdGgsIG5ldyBSb3V0ZUNvbnRleHRJbXBsKG5ldyBSb3V0ZUltcGwoXCIqXCIsIG9wdGlvbnM/LmluY2x1ZGVQcmVmaXggPyBgJHtwYXRofS8qYCA6IFwiLypcIiwgYXBwLCBvcHRpb25zPy5pbmNsdWRlUHJlZml4ID8gT3B0aW9uLm5vbmUoKSA6IE9wdGlvbi5zb21lKHBhdGgpLCBmYWxzZSksIHt9KSwgb3B0aW9uc10pO1xuICBjb25zdCBtb3VudHNMZW4gPSBtb3VudHMubGVuZ3RoO1xuICBDaHVuay5mb3JFYWNoKHNlbGYucm91dGVzLCByb3V0ZSA9PiB7XG4gICAgaWYgKHJvdXRlLm1ldGhvZCA9PT0gXCIqXCIpIHtcbiAgICAgIHJvdXRlci5hbGwocm91dGUucGF0aCwgcm91dGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByb3V0ZXIub24ocm91dGUubWV0aG9kLCByb3V0ZS5wYXRoLCByb3V0ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIEVmZmVjdC53aXRoRmliZXJSdW50aW1lKGZpYmVyID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gQ29udGV4dC51bnNhZmVNYWtlKG5ldyBNYXAoZmliZXIuZ2V0RmliZXJSZWYoRmliZXJSZWYuY3VycmVudENvbnRleHQpLnVuc2FmZU1hcCkpO1xuICAgIGNvbnN0IHJlcXVlc3QgPSBDb250ZXh0LnVuc2FmZUdldChjb250ZXh0LCBTZXJ2ZXJSZXF1ZXN0Lkh0dHBTZXJ2ZXJSZXF1ZXN0KTtcbiAgICBpZiAobW91bnRzTGVuID4gMCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb3VudHNMZW47IGkrKykge1xuICAgICAgICBjb25zdCBbcGF0aCwgcm91dGVDb250ZXh0LCBvcHRpb25zXSA9IG1vdW50c1tpXTtcbiAgICAgICAgaWYgKHJlcXVlc3QudXJsLnN0YXJ0c1dpdGgocGF0aCkpIHtcbiAgICAgICAgICBjb250ZXh0LnVuc2FmZU1hcC5zZXQoUm91dGVDb250ZXh0LmtleSwgcm91dGVDb250ZXh0KTtcbiAgICAgICAgICBpZiAob3B0aW9ucz8uaW5jbHVkZVByZWZpeCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29udGV4dC51bnNhZmVNYXAuc2V0KFNlcnZlclJlcXVlc3QuSHR0cFNlcnZlclJlcXVlc3Qua2V5LCBzbGljZVJlcXVlc3RVcmwocmVxdWVzdCwgcGF0aCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gRWZmZWN0LmxvY2FsbHkoRWZmZWN0LmZsYXRNYXAocm91dGVDb250ZXh0LnJvdXRlLmhhbmRsZXIsIFJlc3BvbmRhYmxlLnRvUmVzcG9uc2UpLCBGaWJlclJlZi5jdXJyZW50Q29udGV4dCwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IHJvdXRlci5maW5kKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCk7XG4gICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkICYmIHJlcXVlc3QubWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgcmVzdWx0ID0gcm91dGVyLmZpbmQoXCJHRVRcIiwgcmVxdWVzdC51cmwpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBFZmZlY3QuZmFpbChuZXcgRXJyb3IuUm91dGVOb3RGb3VuZCh7XG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgY29uc3Qgcm91dGUgPSByZXN1bHQuaGFuZGxlcjtcbiAgICBpZiAocm91dGUucHJlZml4Ll90YWcgPT09IFwiU29tZVwiKSB7XG4gICAgICBjb250ZXh0LnVuc2FmZU1hcC5zZXQoU2VydmVyUmVxdWVzdC5IdHRwU2VydmVyUmVxdWVzdC5rZXksIHNsaWNlUmVxdWVzdFVybChyZXF1ZXN0LCByb3V0ZS5wcmVmaXgudmFsdWUpKTtcbiAgICB9XG4gICAgY29udGV4dC51bnNhZmVNYXAuc2V0KFNlcnZlclJlcXVlc3QuUGFyc2VkU2VhcmNoUGFyYW1zLmtleSwgcmVzdWx0LnNlYXJjaFBhcmFtcyk7XG4gICAgY29udGV4dC51bnNhZmVNYXAuc2V0KFJvdXRlQ29udGV4dC5rZXksIG5ldyBSb3V0ZUNvbnRleHRJbXBsKHJvdXRlLCByZXN1bHQucGFyYW1zKSk7XG4gICAgY29uc3Qgc3BhbiA9IENvbnRleHQuZ2V0T3B0aW9uKGNvbnRleHQsIFRyYWNlci5QYXJlbnRTcGFuKTtcbiAgICBpZiAoc3Bhbi5fdGFnID09PSBcIlNvbWVcIiAmJiBzcGFuLnZhbHVlLl90YWcgPT09IFwiU3BhblwiKSB7XG4gICAgICBzcGFuLnZhbHVlLmF0dHJpYnV0ZShcImh0dHAucm91dGVcIiwgcm91dGUucGF0aCk7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZXJSZXNwb25zZSA9IEVmZmVjdC5mbGF0TWFwKHJvdXRlLmhhbmRsZXIsIFJlc3BvbmRhYmxlLnRvUmVzcG9uc2UpO1xuICAgIHJldHVybiBFZmZlY3QubG9jYWxseShyb3V0ZS51bmludGVycnVwdGlibGUgPyBoYW5kbGVyUmVzcG9uc2UgOiBFZmZlY3QuaW50ZXJydXB0aWJsZShoYW5kbGVyUmVzcG9uc2UpLCBGaWJlclJlZi5jdXJyZW50Q29udGV4dCwgY29udGV4dCk7XG4gIH0pO1xufTtcbmZ1bmN0aW9uIHNsaWNlUmVxdWVzdFVybChyZXF1ZXN0LCBwcmVmaXgpIHtcbiAgY29uc3QgcHJlZmV4TGVuID0gcHJlZml4Lmxlbmd0aDtcbiAgcmV0dXJuIHJlcXVlc3QubW9kaWZ5KHtcbiAgICB1cmw6IHJlcXVlc3QudXJsLmxlbmd0aCA8PSBwcmVmZXhMZW4gPyBcIi9cIiA6IHJlcXVlc3QudXJsLnNsaWNlKHByZWZleExlbilcbiAgfSk7XG59XG5jbGFzcyBSb3V0ZUltcGwgZXh0ZW5kcyBJbnNwZWN0YWJsZS5DbGFzcyB7XG4gIG1ldGhvZDtcbiAgcGF0aDtcbiAgaGFuZGxlcjtcbiAgcHJlZml4O1xuICB1bmludGVycnVwdGlibGU7XG4gIFtSb3V0ZVR5cGVJZF07XG4gIGNvbnN0cnVjdG9yKG1ldGhvZCwgcGF0aCwgaGFuZGxlciwgcHJlZml4ID0gT3B0aW9uLm5vbmUoKSwgdW5pbnRlcnJ1cHRpYmxlID0gZmFsc2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcbiAgICB0aGlzLnByZWZpeCA9IHByZWZpeDtcbiAgICB0aGlzLnVuaW50ZXJydXB0aWJsZSA9IHVuaW50ZXJydXB0aWJsZTtcbiAgICB0aGlzW1JvdXRlVHlwZUlkXSA9IFJvdXRlVHlwZUlkO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX2lkOiBcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cFJvdXRlci9Sb3V0ZVwiLFxuICAgICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICAgIHBhdGg6IHRoaXMucGF0aCxcbiAgICAgIHByZWZpeDogdGhpcy5wcmVmaXgudG9KU09OKClcbiAgICB9O1xuICB9XG59XG5jbGFzcyBSb3V0ZUNvbnRleHRJbXBsIHtcbiAgcm91dGU7XG4gIHBhcmFtcztcbiAgW1JvdXRlQ29udGV4dFR5cGVJZF07XG4gIGNvbnN0cnVjdG9yKHJvdXRlLCBwYXJhbXMpIHtcbiAgICB0aGlzLnJvdXRlID0gcm91dGU7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpc1tSb3V0ZUNvbnRleHRUeXBlSWRdID0gUm91dGVDb250ZXh0VHlwZUlkO1xuICB9XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZW1wdHkgPSAvKiNfX1BVUkVfXyovbmV3IFJvdXRlckltcGwoIC8qI19fUFVSRV9fKi9DaHVuay5lbXB0eSgpLCAvKiNfX1BVUkVfXyovQ2h1bmsuZW1wdHkoKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZnJvbUl0ZXJhYmxlID0gcm91dGVzID0+IG5ldyBSb3V0ZXJJbXBsKENodW5rLmZyb21JdGVyYWJsZShyb3V0ZXMpLCBDaHVuay5lbXB0eSgpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBtYWtlUm91dGUgPSAobWV0aG9kLCBwYXRoLCBoYW5kbGVyLCBvcHRpb25zKSA9PiBuZXcgUm91dGVJbXBsKG1ldGhvZCwgcGF0aCwgaGFuZGxlciwgb3B0aW9ucz8ucHJlZml4ID8gT3B0aW9uLnNvbWUob3B0aW9ucy5wcmVmaXgpIDogT3B0aW9uLm5vbmUoKSwgb3B0aW9ucz8udW5pbnRlcnJ1cHRpYmxlID8/IGZhbHNlKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBhcHBlbmQgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgcm91dGUpID0+IG5ldyBSb3V0ZXJJbXBsKENodW5rLmFwcGVuZChzZWxmLnJvdXRlcywgcm91dGUpLCBzZWxmLm1vdW50cykpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNvbmNhdCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCB0aGF0KSA9PiBjb25jYXRBbGwoc2VsZiwgdGhhdCkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNvbmNhdEFsbCA9ICguLi5yb3V0ZXJzKSA9PiBuZXcgUm91dGVySW1wbChyb3V0ZXJzLnJlZHVjZSgoY3VyLCBhY2MpID0+IENodW5rLmFwcGVuZEFsbChjdXIsIGFjYy5yb3V0ZXMpLCBDaHVuay5lbXB0eSgpKSwgcm91dGVycy5yZWR1Y2UoKGN1ciwgYWNjKSA9PiBDaHVuay5hcHBlbmRBbGwoY3VyLCBhY2MubW91bnRzKSwgQ2h1bmsuZW1wdHkoKSkpO1xuY29uc3QgcmVtb3ZlVHJhaWxpbmdTbGFzaCA9IHBhdGggPT4gcGF0aC5lbmRzV2l0aChcIi9cIikgPyBwYXRoLnNsaWNlKDAsIC0xKSA6IHBhdGg7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcHJlZml4UGF0aCA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBwcmVmaXgpID0+IHtcbiAgcHJlZml4ID0gcmVtb3ZlVHJhaWxpbmdTbGFzaChwcmVmaXgpO1xuICByZXR1cm4gc2VsZiA9PT0gXCIvXCIgPyBwcmVmaXggOiBwcmVmaXggKyBzZWxmO1xufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcHJlZml4QWxsID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIHByZWZpeCkgPT4ge1xuICBwcmVmaXggPSByZW1vdmVUcmFpbGluZ1NsYXNoKHByZWZpeCk7XG4gIHJldHVybiBuZXcgUm91dGVySW1wbChDaHVuay5tYXAoc2VsZi5yb3V0ZXMsIHJvdXRlID0+IG5ldyBSb3V0ZUltcGwocm91dGUubWV0aG9kLCByb3V0ZS5wYXRoID09PSBcIi9cIiA/IHByZWZpeCA6IHByZWZpeCArIHJvdXRlLnBhdGgsIHJvdXRlLmhhbmRsZXIsIE9wdGlvbi5vckVsc2UoT3B0aW9uLm1hcChyb3V0ZS5wcmVmaXgsIF8gPT4gcHJlZml4ICsgXyksICgpID0+IE9wdGlvbi5zb21lKHByZWZpeCkpLCByb3V0ZS51bmludGVycnVwdGlibGUpKSwgQ2h1bmsubWFwKHNlbGYubW91bnRzLCAoW3BhdGgsIGFwcF0pID0+IFtwYXRoID09PSBcIi9cIiA/IHByZWZpeCA6IHByZWZpeCArIHBhdGgsIGFwcF0pKTtcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1vdW50ID0gLyojX19QVVJFX18qL2R1YWwoMywgKHNlbGYsIHBhdGgsIHRoYXQpID0+IGNvbmNhdChzZWxmLCBwcmVmaXhBbGwodGhhdCwgcGF0aCkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBtb3VudEFwcCA9IC8qI19fUFVSRV9fKi9kdWFsKGFyZ3MgPT4gUHJlZGljYXRlLmhhc1Byb3BlcnR5KGFyZ3NbMF0sIFR5cGVJZCksIChzZWxmLCBwYXRoLCB0aGF0LCBvcHRpb25zKSA9PiBuZXcgUm91dGVySW1wbChzZWxmLnJvdXRlcywgQ2h1bmsuYXBwZW5kKHNlbGYubW91bnRzLCBbcmVtb3ZlVHJhaWxpbmdTbGFzaChwYXRoKSwgdGhhdCwgb3B0aW9uc10pKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgcm91dGUgPSBtZXRob2QgPT4gZHVhbChhcmdzID0+IGlzUm91dGVyKGFyZ3NbMF0pLCAoc2VsZiwgcGF0aCwgaGFuZGxlciwgb3B0aW9ucykgPT4gbmV3IFJvdXRlckltcGwoQ2h1bmsuYXBwZW5kKHNlbGYucm91dGVzLCBuZXcgUm91dGVJbXBsKG1ldGhvZCwgcGF0aCwgaGFuZGxlciwgT3B0aW9uLm5vbmUoKSwgb3B0aW9ucz8udW5pbnRlcnJ1cHRpYmxlID8/IGZhbHNlKSksIHNlbGYubW91bnRzKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgYWxsID0gLyojX19QVVJFX18qL3JvdXRlKFwiKlwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBnZXQgPSAvKiNfX1BVUkVfXyovcm91dGUoXCJHRVRcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcG9zdCA9IC8qI19fUFVSRV9fKi9yb3V0ZShcIlBPU1RcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcHV0ID0gLyojX19QVVJFX18qL3JvdXRlKFwiUFVUXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHBhdGNoID0gLyojX19QVVJFX18qL3JvdXRlKFwiUEFUQ0hcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZGVsID0gLyojX19QVVJFX18qL3JvdXRlKFwiREVMRVRFXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGhlYWQgPSAvKiNfX1BVUkVfXyovcm91dGUoXCJIRUFEXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG9wdGlvbnMgPSAvKiNfX1BVUkVfXyovcm91dGUoXCJPUFRJT05TXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVzZSA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBmKSA9PiBuZXcgUm91dGVySW1wbChDaHVuay5tYXAoc2VsZi5yb3V0ZXMsIHJvdXRlID0+IG5ldyBSb3V0ZUltcGwocm91dGUubWV0aG9kLCByb3V0ZS5wYXRoLCBmKEVmZmVjdC5mbGF0TWFwKHJvdXRlLmhhbmRsZXIsIFJlc3BvbmRhYmxlLnRvUmVzcG9uc2UpKSwgcm91dGUucHJlZml4LCByb3V0ZS51bmludGVycnVwdGlibGUpKSwgQ2h1bmsubWFwKHNlbGYubW91bnRzLCAoW3BhdGgsIGFwcF0pID0+IFtwYXRoLCBmKGFwcCldKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBmKSA9PiBuZXcgUm91dGVySW1wbChDaHVuay5tYXAoc2VsZi5yb3V0ZXMsIHJvdXRlID0+IG5ldyBSb3V0ZUltcGwocm91dGUubWV0aG9kLCByb3V0ZS5wYXRoLCBmKHJvdXRlLmhhbmRsZXIpLCByb3V0ZS5wcmVmaXgsIHJvdXRlLnVuaW50ZXJydXB0aWJsZSkpLCBDaHVuay5tYXAoc2VsZi5tb3VudHMsIChbcGF0aCwgYXBwXSkgPT4gW3BhdGgsIEVmZmVjdC5mbGF0TWFwKGYoYXBwKSwgUmVzcG9uZGFibGUudG9SZXNwb25zZSldKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNhdGNoQWxsID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGYpID0+IHRyYW5zZm9ybShzZWxmLCBFZmZlY3QuY2F0Y2hBbGwoZikpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjYXRjaEFsbENhdXNlID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGYpID0+IHRyYW5zZm9ybShzZWxmLCBFZmZlY3QuY2F0Y2hBbGxDYXVzZShmKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNhdGNoVGFnID0gLyojX19QVVJFX18qL2R1YWwoMywgKHNlbGYsIGssIGYpID0+IHRyYW5zZm9ybShzZWxmLCBFZmZlY3QuY2F0Y2hUYWcoaywgZikpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjYXRjaFRhZ3MgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgY2FzZXMpID0+IHVzZShzZWxmLCBFZmZlY3QuY2F0Y2hUYWdzKGNhc2VzKSkpO1xuZXhwb3J0IGNvbnN0IHByb3ZpZGVTZXJ2aWNlID0gLyojX19QVVJFX18qL2R1YWwoMywgKHNlbGYsIHRhZywgc2VydmljZSkgPT4gdXNlKHNlbGYsIEVmZmVjdC5wcm92aWRlU2VydmljZSh0YWcsIHNlcnZpY2UpKSk7XG4vKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBwcm92aWRlU2VydmljZUVmZmVjdCA9IC8qI19fUFVSRV9fKi9kdWFsKDMsIChzZWxmLCB0YWcsIGVmZmVjdCkgPT4gdXNlKHNlbGYsIEVmZmVjdC5wcm92aWRlU2VydmljZUVmZmVjdCh0YWcsIGVmZmVjdCkpKTtcbmNvbnN0IG1ha2VTZXJ2aWNlID0gKCkgPT4ge1xuICBsZXQgcm91dGVyID0gZW1wdHk7XG4gIHJldHVybiB7XG4gICAgYWRkUm91dGUocm91dGUpIHtcbiAgICAgIHJldHVybiBFZmZlY3Quc3luYygoKSA9PiB7XG4gICAgICAgIHJvdXRlciA9IGFwcGVuZChyb3V0ZXIsIHJvdXRlKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYWxsKHBhdGgsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBFZmZlY3Quc3luYygoKSA9PiB7XG4gICAgICAgIHJvdXRlciA9IGFsbChyb3V0ZXIsIHBhdGgsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXQocGF0aCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIEVmZmVjdC5zeW5jKCgpID0+IHtcbiAgICAgICAgcm91dGVyID0gZ2V0KHJvdXRlciwgcGF0aCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHBvc3QocGF0aCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIEVmZmVjdC5zeW5jKCgpID0+IHtcbiAgICAgICAgcm91dGVyID0gcG9zdChyb3V0ZXIsIHBhdGgsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBwdXQocGF0aCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIEVmZmVjdC5zeW5jKCgpID0+IHtcbiAgICAgICAgcm91dGVyID0gcHV0KHJvdXRlciwgcGF0aCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHBhdGNoKHBhdGgsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBFZmZlY3Quc3luYygoKSA9PiB7XG4gICAgICAgIHJvdXRlciA9IHBhdGNoKHJvdXRlciwgcGF0aCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbChwYXRoLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LnN5bmMoKCkgPT4ge1xuICAgICAgICByb3V0ZXIgPSBkZWwocm91dGVyLCBwYXRoLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgaGVhZChwYXRoLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LnN5bmMoKCkgPT4ge1xuICAgICAgICByb3V0ZXIgPSBoZWFkKHJvdXRlciwgcGF0aCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9wdGlvbnMocGF0aCwgaGFuZGxlciwgb3B0cykge1xuICAgICAgcmV0dXJuIEVmZmVjdC5zeW5jKCgpID0+IHtcbiAgICAgICAgcm91dGVyID0gb3B0aW9ucyhyb3V0ZXIsIHBhdGgsIGhhbmRsZXIsIG9wdHMpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICByb3V0ZXI6IEVmZmVjdC5zeW5jKCgpID0+IHJvdXRlciksXG4gICAgbW91bnQocGF0aCwgdGhhdCkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5zeW5jKCgpID0+IHtcbiAgICAgICAgcm91dGVyID0gbW91bnQocm91dGVyLCBwYXRoLCB0aGF0KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbW91bnRBcHAocGF0aCwgYXBwLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gRWZmZWN0LnN5bmMoKCkgPT4ge1xuICAgICAgICByb3V0ZXIgPSBtb3VudEFwcChyb3V0ZXIsIHBhdGgsIGFwcCwgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNvbmNhdCh0aGF0KSB7XG4gICAgICByZXR1cm4gRWZmZWN0LnN5bmMoKCkgPT4ge1xuICAgICAgICByb3V0ZXIgPSBjb25jYXQocm91dGVyLCB0aGF0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG4vKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBUYWcgPSBpZCA9PiAoKSA9PiB7XG4gIGNvbnN0IEVyciA9IGdsb2JhbFRoaXMuRXJyb3I7XG4gIGNvbnN0IGxpbWl0ID0gRXJyLnN0YWNrVHJhY2VMaW1pdDtcbiAgRXJyLnN0YWNrVHJhY2VMaW1pdCA9IDI7XG4gIGNvbnN0IGNyZWF0aW9uRXJyb3IgPSBuZXcgRXJyKCk7XG4gIEVyci5zdGFja1RyYWNlTGltaXQgPSBsaW1pdDtcbiAgZnVuY3Rpb24gVGFnQ2xhc3MoKSB7fVxuICBjb25zdCBUYWdDbGFzc18gPSBUYWdDbGFzcztcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKFRhZ0NsYXNzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29udGV4dC5HZW5lcmljVGFnKGlkKSkpO1xuICBUYWdDbGFzcy5rZXkgPSBpZDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRhZ0NsYXNzLCBcInN0YWNrXCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gY3JlYXRpb25FcnJvci5zdGFjaztcbiAgICB9XG4gIH0pO1xuICBUYWdDbGFzc18uTGl2ZSA9IExheWVyLnN5bmMoVGFnQ2xhc3NfLCBtYWtlU2VydmljZSk7XG4gIFRhZ0NsYXNzXy5yb3V0ZXIgPSBFZmZlY3QuZmxhdE1hcChUYWdDbGFzc18sIF8gPT4gXy5yb3V0ZXIpO1xuICBUYWdDbGFzc18udXNlID0gZiA9PiBUYWdDbGFzc18ucGlwZShFZmZlY3QuZmxhdE1hcChmKSwgTGF5ZXIuc2NvcGVkRGlzY2FyZCwgTGF5ZXIucHJvdmlkZShUYWdDbGFzc18uTGl2ZSkpO1xuICBUYWdDbGFzc18udW53cmFwID0gZiA9PiBUYWdDbGFzc18ucGlwZShFZmZlY3QuZmxhdE1hcChfID0+IF8ucm91dGVyKSwgRWZmZWN0Lm1hcChmKSwgTGF5ZXIudW53cmFwRWZmZWN0LCBMYXllci5wcm92aWRlKFRhZ0NsYXNzXy5MaXZlKSk7XG4gIHJldHVybiBUYWdDbGFzcztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwUm91dGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpRouter.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServer.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpServer.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   addressFormattedWith: () => (/* binding */ addressFormattedWith),\n/* harmony export */   addressWith: () => (/* binding */ addressWith),\n/* harmony export */   formatAddress: () => (/* binding */ formatAddress),\n/* harmony export */   isServer: () => (/* binding */ isServer),\n/* harmony export */   layerContext: () => (/* binding */ layerContext),\n/* harmony export */   layerTestClient: () => (/* binding */ layerTestClient),\n/* harmony export */   logAddress: () => (/* binding */ logAddress),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeTestClient: () => (/* binding */ makeTestClient),\n/* harmony export */   serve: () => (/* binding */ serve),\n/* harmony export */   serveEffect: () => (/* binding */ serveEffect),\n/* harmony export */   serverTag: () => (/* binding */ serverTag),\n/* harmony export */   withLogAddress: () => (/* binding */ withLogAddress)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var _HttpClient_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../HttpClient.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClient.js\");\n/* harmony import */ var _HttpClientRequest_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../HttpClientRequest.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpClientRequest.js\");\n/* harmony import */ var _etag_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./etag.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/etag.js\");\n/* harmony import */ var _fileSystem_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./fileSystem.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/fileSystem.js\");\n/* harmony import */ var _httpPlatform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./httpPlatform.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpPlatform.js\");\n/* harmony import */ var _path_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./path.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/path.js\");\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpServer\");\n/** @internal */\nconst serverTag = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@effect/platform/HttpServer\");\nconst serverProto = {\n  [TypeId]: TypeId\n};\n/** @internal */\nconst isServer = u => typeof u === \"object\" && u !== null && TypeId in u;\n/** @internal */\nconst make = options => Object.assign(Object.create(serverProto), options);\n/** @internal */\nconst serve = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_1__.dual)(args => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.isEffect(args[0]), (httpApp, middleware) => effect_Layer__WEBPACK_IMPORTED_MODULE_3__.scopedDiscard(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(serverTag, server => server.serve(httpApp, middleware))));\n/** @internal */\nconst serveEffect = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_1__.dual)(args => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.isEffect(args[0]), (httpApp, middleware) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(serverTag, server => server.serve(httpApp, middleware)));\n/** @internal */\nconst formatAddress = address => {\n  switch (address._tag) {\n    case \"UnixAddress\":\n      return `unix://${address.path}`;\n    case \"TcpAddress\":\n      return `http://${address.hostname}:${address.port}`;\n  }\n};\n/** @internal */\nconst addressWith = effect => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(serverTag, server => effect(server.address));\n/** @internal */\nconst addressFormattedWith = effect => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(serverTag, server => effect(formatAddress(server.address)));\n/** @internal */\nconst logAddress = /*#__PURE__*/addressFormattedWith(_ => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.log(`Listening on ${_}`));\n/** @internal */\nconst withLogAddress = layer => effect_Layer__WEBPACK_IMPORTED_MODULE_3__.effectDiscard(logAddress).pipe(effect_Layer__WEBPACK_IMPORTED_MODULE_3__.provideMerge(layer));\n/** @internal */\nconst makeTestClient = /*#__PURE__*/addressWith(address => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(_HttpClient_js__WEBPACK_IMPORTED_MODULE_4__.HttpClient, client => {\n  if (address._tag === \"UnixAddress\") {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.die(new Error(\"HttpServer.layerTestClient: UnixAddress not supported\"));\n  }\n  const host = address.hostname === \"0.0.0.0\" ? \"127.0.0.1\" : address.hostname;\n  const url = `http://${host}:${address.port}`;\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(_HttpClient_js__WEBPACK_IMPORTED_MODULE_4__.mapRequest(client, _HttpClientRequest_js__WEBPACK_IMPORTED_MODULE_5__.prependUrl(url)));\n}));\n/** @internal */\nconst layerTestClient = /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_3__.effect(_HttpClient_js__WEBPACK_IMPORTED_MODULE_4__.HttpClient, makeTestClient);\n/** @internal */\nconst layerContext = /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_3__.mergeAll(_httpPlatform_js__WEBPACK_IMPORTED_MODULE_6__.layer, _path_js__WEBPACK_IMPORTED_MODULE_7__.layer, _etag_js__WEBPACK_IMPORTED_MODULE_8__.layerWeak).pipe( /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_3__.provideMerge( /*#__PURE__*/_fileSystem_js__WEBPACK_IMPORTED_MODULE_9__.layerNoop({})));\n//# sourceMappingURL=httpServer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cFNlcnZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEM7QUFDRjtBQUNEO0FBQ0Q7QUFDSztBQUNjO0FBQ2Y7QUFDWTtBQUNBO0FBQ1o7QUFDMUM7QUFDTztBQUNQO0FBQ08sK0JBQStCLHNEQUFrQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ08sMkJBQTJCLHFEQUFJLFNBQVMsbURBQWUsb0NBQW9DLHVEQUFtQixDQUFDLGtEQUFjO0FBQ3BJO0FBQ08saUNBQWlDLHFEQUFJLFNBQVMsbURBQWUsb0NBQW9DLGtEQUFjO0FBQ3RIO0FBQ087QUFDUDtBQUNBO0FBQ0EsdUJBQXVCLGFBQWE7QUFDcEM7QUFDQSx1QkFBdUIsaUJBQWlCLEdBQUcsYUFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDTyw4QkFBOEIsa0RBQWM7QUFDbkQ7QUFDTyx1Q0FBdUMsa0RBQWM7QUFDNUQ7QUFDTywwREFBMEQsOENBQVUsaUJBQWlCLEVBQUU7QUFDOUY7QUFDTyxnQ0FBZ0MsdURBQW1CLGtCQUFrQixzREFBa0I7QUFDOUY7QUFDTywyREFBMkQsa0RBQWMsQ0FBQyxzREFBaUI7QUFDbEc7QUFDQSxXQUFXLDhDQUFVO0FBQ3JCO0FBQ0E7QUFDQSx3QkFBd0IsS0FBSyxHQUFHLGFBQWE7QUFDN0MsU0FBUyxrREFBYyxDQUFDLHNEQUFpQixTQUFTLDZEQUF3QjtBQUMxRSxDQUFDO0FBQ0Q7QUFDTyxxQ0FBcUMsZ0RBQVksQ0FBQyxzREFBaUI7QUFDMUU7QUFDTyxrQ0FBa0Msa0RBQWMsQ0FBQyxtREFBc0IsRUFBRSwyQ0FBa0IsRUFBRSwrQ0FBc0IscUJBQXFCLHNEQUFrQixlQUFlLHFEQUE0QixHQUFHO0FBQy9NIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL2ludGVybmFsL2h0dHBTZXJ2ZXIuanM/NjAxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb250ZXh0IGZyb20gXCJlZmZlY3QvQ29udGV4dFwiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgeyBkdWFsIH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0ICogYXMgTGF5ZXIgZnJvbSBcImVmZmVjdC9MYXllclwiO1xuaW1wb3J0ICogYXMgQ2xpZW50IGZyb20gXCIuLi9IdHRwQ2xpZW50LmpzXCI7XG5pbXBvcnQgKiBhcyBDbGllbnRSZXF1ZXN0IGZyb20gXCIuLi9IdHRwQ2xpZW50UmVxdWVzdC5qc1wiO1xuaW1wb3J0ICogYXMgaW50ZXJuYWxFdGFnIGZyb20gXCIuL2V0YWcuanNcIjtcbmltcG9ydCAqIGFzIGludGVybmFsRmlsZVN5c3RlbSBmcm9tIFwiLi9maWxlU3lzdGVtLmpzXCI7XG5pbXBvcnQgKiBhcyBpbnRlcm5hbFBsYXRmb3JtIGZyb20gXCIuL2h0dHBQbGF0Zm9ybS5qc1wiO1xuaW1wb3J0ICogYXMgaW50ZXJuYWxQYXRoIGZyb20gXCIuL3BhdGguanNcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cFNlcnZlclwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXJ2ZXJUYWcgPSAvKiNfX1BVUkVfXyovQ29udGV4dC5HZW5lcmljVGFnKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwU2VydmVyXCIpO1xuY29uc3Qgc2VydmVyUHJvdG8gPSB7XG4gIFtUeXBlSWRdOiBUeXBlSWRcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNTZXJ2ZXIgPSB1ID0+IHR5cGVvZiB1ID09PSBcIm9iamVjdFwiICYmIHUgIT09IG51bGwgJiYgVHlwZUlkIGluIHU7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbWFrZSA9IG9wdGlvbnMgPT4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHNlcnZlclByb3RvKSwgb3B0aW9ucyk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc2VydmUgPSAvKiNfX1BVUkVfXyovZHVhbChhcmdzID0+IEVmZmVjdC5pc0VmZmVjdChhcmdzWzBdKSwgKGh0dHBBcHAsIG1pZGRsZXdhcmUpID0+IExheWVyLnNjb3BlZERpc2NhcmQoRWZmZWN0LmZsYXRNYXAoc2VydmVyVGFnLCBzZXJ2ZXIgPT4gc2VydmVyLnNlcnZlKGh0dHBBcHAsIG1pZGRsZXdhcmUpKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNlcnZlRWZmZWN0ID0gLyojX19QVVJFX18qL2R1YWwoYXJncyA9PiBFZmZlY3QuaXNFZmZlY3QoYXJnc1swXSksIChodHRwQXBwLCBtaWRkbGV3YXJlKSA9PiBFZmZlY3QuZmxhdE1hcChzZXJ2ZXJUYWcsIHNlcnZlciA9PiBzZXJ2ZXIuc2VydmUoaHR0cEFwcCwgbWlkZGxld2FyZSkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRBZGRyZXNzID0gYWRkcmVzcyA9PiB7XG4gIHN3aXRjaCAoYWRkcmVzcy5fdGFnKSB7XG4gICAgY2FzZSBcIlVuaXhBZGRyZXNzXCI6XG4gICAgICByZXR1cm4gYHVuaXg6Ly8ke2FkZHJlc3MucGF0aH1gO1xuICAgIGNhc2UgXCJUY3BBZGRyZXNzXCI6XG4gICAgICByZXR1cm4gYGh0dHA6Ly8ke2FkZHJlc3MuaG9zdG5hbWV9OiR7YWRkcmVzcy5wb3J0fWA7XG4gIH1cbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgYWRkcmVzc1dpdGggPSBlZmZlY3QgPT4gRWZmZWN0LmZsYXRNYXAoc2VydmVyVGFnLCBzZXJ2ZXIgPT4gZWZmZWN0KHNlcnZlci5hZGRyZXNzKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgYWRkcmVzc0Zvcm1hdHRlZFdpdGggPSBlZmZlY3QgPT4gRWZmZWN0LmZsYXRNYXAoc2VydmVyVGFnLCBzZXJ2ZXIgPT4gZWZmZWN0KGZvcm1hdEFkZHJlc3Moc2VydmVyLmFkZHJlc3MpKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbG9nQWRkcmVzcyA9IC8qI19fUFVSRV9fKi9hZGRyZXNzRm9ybWF0dGVkV2l0aChfID0+IEVmZmVjdC5sb2coYExpc3RlbmluZyBvbiAke199YCkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHdpdGhMb2dBZGRyZXNzID0gbGF5ZXIgPT4gTGF5ZXIuZWZmZWN0RGlzY2FyZChsb2dBZGRyZXNzKS5waXBlKExheWVyLnByb3ZpZGVNZXJnZShsYXllcikpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1ha2VUZXN0Q2xpZW50ID0gLyojX19QVVJFX18qL2FkZHJlc3NXaXRoKGFkZHJlc3MgPT4gRWZmZWN0LmZsYXRNYXAoQ2xpZW50Lkh0dHBDbGllbnQsIGNsaWVudCA9PiB7XG4gIGlmIChhZGRyZXNzLl90YWcgPT09IFwiVW5peEFkZHJlc3NcIikge1xuICAgIHJldHVybiBFZmZlY3QuZGllKG5ldyBFcnJvcihcIkh0dHBTZXJ2ZXIubGF5ZXJUZXN0Q2xpZW50OiBVbml4QWRkcmVzcyBub3Qgc3VwcG9ydGVkXCIpKTtcbiAgfVxuICBjb25zdCBob3N0ID0gYWRkcmVzcy5ob3N0bmFtZSA9PT0gXCIwLjAuMC4wXCIgPyBcIjEyNy4wLjAuMVwiIDogYWRkcmVzcy5ob3N0bmFtZTtcbiAgY29uc3QgdXJsID0gYGh0dHA6Ly8ke2hvc3R9OiR7YWRkcmVzcy5wb3J0fWA7XG4gIHJldHVybiBFZmZlY3Quc3VjY2VlZChDbGllbnQubWFwUmVxdWVzdChjbGllbnQsIENsaWVudFJlcXVlc3QucHJlcGVuZFVybCh1cmwpKSk7XG59KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbGF5ZXJUZXN0Q2xpZW50ID0gLyojX19QVVJFX18qL0xheWVyLmVmZmVjdChDbGllbnQuSHR0cENsaWVudCwgbWFrZVRlc3RDbGllbnQpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGxheWVyQ29udGV4dCA9IC8qI19fUFVSRV9fKi9MYXllci5tZXJnZUFsbChpbnRlcm5hbFBsYXRmb3JtLmxheWVyLCBpbnRlcm5hbFBhdGgubGF5ZXIsIGludGVybmFsRXRhZy5sYXllcldlYWspLnBpcGUoIC8qI19fUFVSRV9fKi9MYXllci5wcm92aWRlTWVyZ2UoIC8qI19fUFVSRV9fKi9pbnRlcm5hbEZpbGVTeXN0ZW0ubGF5ZXJOb29wKHt9KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cFNlcnZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServer.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerError.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpServerError.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   causeResponse: () => (/* binding */ causeResponse),\n/* harmony export */   causeResponseStripped: () => (/* binding */ causeResponseStripped),\n/* harmony export */   clientAbortFiberId: () => (/* binding */ clientAbortFiberId),\n/* harmony export */   exitResponse: () => (/* binding */ exitResponse),\n/* harmony export */   isServerError: () => (/* binding */ isServerError)\n/* harmony export */ });\n/* harmony import */ var effect_Cause__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Cause */ \"(rsc)/../../node_modules/effect/dist/esm/Cause.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_FiberId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/FiberId */ \"(rsc)/../../node_modules/effect/dist/esm/FiberId.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var _HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../HttpServerRespondable.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerRespondable.js\");\n/* harmony import */ var _httpServerResponse_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./httpServerResponse.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerResponse.js\");\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpServerError\");\n/** @internal */\nconst isServerError = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, TypeId);\n/** @internal */\nconst clientAbortFiberId = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_1__.globalValue)(\"@effect/platform/HttpServerError/clientAbortFiberId\", () => effect_FiberId__WEBPACK_IMPORTED_MODULE_2__.runtime(-499, 0));\n/** @internal */\nconst causeResponse = cause => {\n  const [effect, stripped] = effect_Cause__WEBPACK_IMPORTED_MODULE_3__.reduce(cause, [effect_Effect__WEBPACK_IMPORTED_MODULE_4__.succeed(internalServerError), effect_Cause__WEBPACK_IMPORTED_MODULE_3__.empty], (acc, cause) => {\n    switch (cause._tag) {\n      case \"Empty\":\n        {\n          return effect_Option__WEBPACK_IMPORTED_MODULE_5__.some(acc);\n        }\n      case \"Fail\":\n        {\n          return effect_Option__WEBPACK_IMPORTED_MODULE_5__.some([_HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_6__.toResponseOrElse(cause.error, internalServerError), cause]);\n        }\n      case \"Die\":\n        {\n          return effect_Option__WEBPACK_IMPORTED_MODULE_5__.some([_HttpServerRespondable_js__WEBPACK_IMPORTED_MODULE_6__.toResponseOrElse(cause.defect, internalServerError), cause]);\n        }\n      case \"Interrupt\":\n        {\n          if (acc[1]._tag !== \"Empty\") {\n            return effect_Option__WEBPACK_IMPORTED_MODULE_5__.none();\n          }\n          const response = cause.fiberId === clientAbortFiberId ? clientAbortError : serverAbortError;\n          return effect_Option__WEBPACK_IMPORTED_MODULE_5__.some([effect_Effect__WEBPACK_IMPORTED_MODULE_4__.succeed(response), cause]);\n        }\n      default:\n        {\n          return effect_Option__WEBPACK_IMPORTED_MODULE_5__.none();\n        }\n    }\n  });\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_4__.map(effect, response => {\n    if (effect_Cause__WEBPACK_IMPORTED_MODULE_3__.isEmptyType(stripped)) {\n      return [response, effect_Cause__WEBPACK_IMPORTED_MODULE_3__.die(response)];\n    }\n    return [response, effect_Cause__WEBPACK_IMPORTED_MODULE_3__.sequential(stripped, effect_Cause__WEBPACK_IMPORTED_MODULE_3__.die(response))];\n  });\n};\n/** @internal */\nconst causeResponseStripped = cause => {\n  let response;\n  const stripped = effect_Cause__WEBPACK_IMPORTED_MODULE_3__.stripSomeDefects(cause, defect => {\n    if (_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_7__.isServerResponse(defect)) {\n      response = defect;\n      return effect_Option__WEBPACK_IMPORTED_MODULE_5__.some(effect_Cause__WEBPACK_IMPORTED_MODULE_3__.empty);\n    }\n    return effect_Option__WEBPACK_IMPORTED_MODULE_5__.none();\n  });\n  return [response ?? internalServerError, stripped];\n};\nconst internalServerError = /*#__PURE__*/_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_7__.empty({\n  status: 500\n});\nconst clientAbortError = /*#__PURE__*/_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_7__.empty({\n  status: 499\n});\nconst serverAbortError = /*#__PURE__*/_httpServerResponse_js__WEBPACK_IMPORTED_MODULE_7__.empty({\n  status: 503\n});\n/** @internal */\nconst exitResponse = exit => {\n  if (exit._tag === \"Success\") {\n    return exit.value;\n  }\n  return causeResponseStripped(exit.cause)[0];\n};\n//# sourceMappingURL=httpServerError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cFNlcnZlckVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ0U7QUFDRTtBQUNPO0FBQ1Q7QUFDTTtBQUNhO0FBQ087QUFDbEU7QUFDTztBQUNQO0FBQ08sMkJBQTJCLHlEQUFxQjtBQUN2RDtBQUNPLHdDQUF3QywrREFBVyw4REFBOEQsbURBQWU7QUFDdkk7QUFDTztBQUNQLDZCQUE2QixnREFBWSxTQUFTLGtEQUFjLHVCQUF1QiwrQ0FBVztBQUNsRztBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0NBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtDQUFXLEVBQUUsdUVBQTRCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrQ0FBVyxFQUFFLHVFQUE0QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBVztBQUM5QjtBQUNBO0FBQ0EsaUJBQWlCLCtDQUFXLEVBQUUsa0RBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtDQUFXO0FBQzVCO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyw4Q0FBVTtBQUNuQixRQUFRLHFEQUFpQjtBQUN6Qix3QkFBd0IsNkNBQVM7QUFDakM7QUFDQSxzQkFBc0Isb0RBQWdCLFdBQVcsNkNBQVM7QUFDMUQsR0FBRztBQUNIO0FBQ0E7QUFDTztBQUNQO0FBQ0EsbUJBQW1CLDBEQUFzQjtBQUN6QyxRQUFRLG9FQUF1QztBQUMvQztBQUNBLGFBQWEsK0NBQVcsQ0FBQywrQ0FBVztBQUNwQztBQUNBLFdBQVcsK0NBQVc7QUFDdEIsR0FBRztBQUNIO0FBQ0E7QUFDQSx5Q0FBeUMseURBQTRCO0FBQ3JFO0FBQ0EsQ0FBQztBQUNELHNDQUFzQyx5REFBNEI7QUFDbEU7QUFDQSxDQUFDO0FBQ0Qsc0NBQXNDLHlEQUE0QjtBQUNsRTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL2ludGVybmFsL2h0dHBTZXJ2ZXJFcnJvci5qcz8wZDllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENhdXNlIGZyb20gXCJlZmZlY3QvQ2F1c2VcIjtcbmltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0ICogYXMgRmliZXJJZCBmcm9tIFwiZWZmZWN0L0ZpYmVySWRcIjtcbmltcG9ydCB7IGdsb2JhbFZhbHVlIH0gZnJvbSBcImVmZmVjdC9HbG9iYWxWYWx1ZVwiO1xuaW1wb3J0ICogYXMgT3B0aW9uIGZyb20gXCJlZmZlY3QvT3B0aW9uXCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIFJlc3BvbmRhYmxlIGZyb20gXCIuLi9IdHRwU2VydmVyUmVzcG9uZGFibGUuanNcIjtcbmltcG9ydCAqIGFzIGludGVybmFsU2VydmVyUmVzcG9uc2UgZnJvbSBcIi4vaHR0cFNlcnZlclJlc3BvbnNlLmpzXCI7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBTZXJ2ZXJFcnJvclwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBpc1NlcnZlckVycm9yID0gdSA9PiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgVHlwZUlkKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjbGllbnRBYm9ydEZpYmVySWQgPSAvKiNfX1BVUkVfXyovZ2xvYmFsVmFsdWUoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBTZXJ2ZXJFcnJvci9jbGllbnRBYm9ydEZpYmVySWRcIiwgKCkgPT4gRmliZXJJZC5ydW50aW1lKC00OTksIDApKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjYXVzZVJlc3BvbnNlID0gY2F1c2UgPT4ge1xuICBjb25zdCBbZWZmZWN0LCBzdHJpcHBlZF0gPSBDYXVzZS5yZWR1Y2UoY2F1c2UsIFtFZmZlY3Quc3VjY2VlZChpbnRlcm5hbFNlcnZlckVycm9yKSwgQ2F1c2UuZW1wdHldLCAoYWNjLCBjYXVzZSkgPT4ge1xuICAgIHN3aXRjaCAoY2F1c2UuX3RhZykge1xuICAgICAgY2FzZSBcIkVtcHR5XCI6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gT3B0aW9uLnNvbWUoYWNjKTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBcIkZhaWxcIjpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBPcHRpb24uc29tZShbUmVzcG9uZGFibGUudG9SZXNwb25zZU9yRWxzZShjYXVzZS5lcnJvciwgaW50ZXJuYWxTZXJ2ZXJFcnJvciksIGNhdXNlXSk7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJEaWVcIjpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBPcHRpb24uc29tZShbUmVzcG9uZGFibGUudG9SZXNwb25zZU9yRWxzZShjYXVzZS5kZWZlY3QsIGludGVybmFsU2VydmVyRXJyb3IpLCBjYXVzZV0pO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiSW50ZXJydXB0XCI6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoYWNjWzFdLl90YWcgIT09IFwiRW1wdHlcIikge1xuICAgICAgICAgICAgcmV0dXJuIE9wdGlvbi5ub25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gY2F1c2UuZmliZXJJZCA9PT0gY2xpZW50QWJvcnRGaWJlcklkID8gY2xpZW50QWJvcnRFcnJvciA6IHNlcnZlckFib3J0RXJyb3I7XG4gICAgICAgICAgcmV0dXJuIE9wdGlvbi5zb21lKFtFZmZlY3Quc3VjY2VlZChyZXNwb25zZSksIGNhdXNlXSk7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gT3B0aW9uLm5vbmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBFZmZlY3QubWFwKGVmZmVjdCwgcmVzcG9uc2UgPT4ge1xuICAgIGlmIChDYXVzZS5pc0VtcHR5VHlwZShzdHJpcHBlZCkpIHtcbiAgICAgIHJldHVybiBbcmVzcG9uc2UsIENhdXNlLmRpZShyZXNwb25zZSldO1xuICAgIH1cbiAgICByZXR1cm4gW3Jlc3BvbnNlLCBDYXVzZS5zZXF1ZW50aWFsKHN0cmlwcGVkLCBDYXVzZS5kaWUocmVzcG9uc2UpKV07XG4gIH0pO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjYXVzZVJlc3BvbnNlU3RyaXBwZWQgPSBjYXVzZSA9PiB7XG4gIGxldCByZXNwb25zZTtcbiAgY29uc3Qgc3RyaXBwZWQgPSBDYXVzZS5zdHJpcFNvbWVEZWZlY3RzKGNhdXNlLCBkZWZlY3QgPT4ge1xuICAgIGlmIChpbnRlcm5hbFNlcnZlclJlc3BvbnNlLmlzU2VydmVyUmVzcG9uc2UoZGVmZWN0KSkge1xuICAgICAgcmVzcG9uc2UgPSBkZWZlY3Q7XG4gICAgICByZXR1cm4gT3B0aW9uLnNvbWUoQ2F1c2UuZW1wdHkpO1xuICAgIH1cbiAgICByZXR1cm4gT3B0aW9uLm5vbmUoKTtcbiAgfSk7XG4gIHJldHVybiBbcmVzcG9uc2UgPz8gaW50ZXJuYWxTZXJ2ZXJFcnJvciwgc3RyaXBwZWRdO1xufTtcbmNvbnN0IGludGVybmFsU2VydmVyRXJyb3IgPSAvKiNfX1BVUkVfXyovaW50ZXJuYWxTZXJ2ZXJSZXNwb25zZS5lbXB0eSh7XG4gIHN0YXR1czogNTAwXG59KTtcbmNvbnN0IGNsaWVudEFib3J0RXJyb3IgPSAvKiNfX1BVUkVfXyovaW50ZXJuYWxTZXJ2ZXJSZXNwb25zZS5lbXB0eSh7XG4gIHN0YXR1czogNDk5XG59KTtcbmNvbnN0IHNlcnZlckFib3J0RXJyb3IgPSAvKiNfX1BVUkVfXyovaW50ZXJuYWxTZXJ2ZXJSZXNwb25zZS5lbXB0eSh7XG4gIHN0YXR1czogNTAzXG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBleGl0UmVzcG9uc2UgPSBleGl0ID0+IHtcbiAgaWYgKGV4aXQuX3RhZyA9PT0gXCJTdWNjZXNzXCIpIHtcbiAgICByZXR1cm4gZXhpdC52YWx1ZTtcbiAgfVxuICByZXR1cm4gY2F1c2VSZXNwb25zZVN0cmlwcGVkKGV4aXQuY2F1c2UpWzBdO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBTZXJ2ZXJFcnJvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerError.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerRequest.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpServerRequest.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   fromWeb: () => (/* binding */ fromWeb),\n/* harmony export */   multipartPersisted: () => (/* binding */ multipartPersisted),\n/* harmony export */   parsedSearchParamsTag: () => (/* binding */ parsedSearchParamsTag),\n/* harmony export */   schemaBodyForm: () => (/* binding */ schemaBodyForm),\n/* harmony export */   schemaBodyFormJson: () => (/* binding */ schemaBodyFormJson),\n/* harmony export */   schemaBodyJson: () => (/* binding */ schemaBodyJson),\n/* harmony export */   schemaBodyMultipart: () => (/* binding */ schemaBodyMultipart),\n/* harmony export */   schemaBodyUrlParams: () => (/* binding */ schemaBodyUrlParams),\n/* harmony export */   schemaCookies: () => (/* binding */ schemaCookies),\n/* harmony export */   schemaHeaders: () => (/* binding */ schemaHeaders),\n/* harmony export */   schemaSearchParams: () => (/* binding */ schemaSearchParams),\n/* harmony export */   searchParamsFromURL: () => (/* binding */ searchParamsFromURL),\n/* harmony export */   serverRequestTag: () => (/* binding */ serverRequestTag),\n/* harmony export */   toURL: () => (/* binding */ toURL),\n/* harmony export */   upgrade: () => (/* binding */ upgrade),\n/* harmony export */   upgradeChannel: () => (/* binding */ upgradeChannel)\n/* harmony export */ });\n/* harmony import */ var effect_Channel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Channel */ \"(rsc)/../../node_modules/effect/dist/esm/Channel.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var _Cookies_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Cookies.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Cookies.js\");\n/* harmony import */ var _Headers_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Headers.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js\");\n/* harmony import */ var _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../HttpIncomingMessage.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpIncomingMessage.js\");\n/* harmony import */ var _HttpServerError_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../HttpServerError.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpServerError.js\");\n/* harmony import */ var _Multipart_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Multipart.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Multipart.js\");\n/* harmony import */ var _Socket_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Socket.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Socket.js\");\n/* harmony import */ var _UrlParams_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../UrlParams.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpServerRequest\");\n/** @internal */\nconst serverRequestTag = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@effect/platform/HttpServerRequest\");\n/** @internal */\nconst parsedSearchParamsTag = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@effect/platform/HttpServerRequest/ParsedSearchParams\");\n/** @internal */\nconst upgrade = /*#__PURE__*/effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(serverRequestTag, request => request.upgrade);\n/** @internal */\nconst upgradeChannel = () => effect_Channel__WEBPACK_IMPORTED_MODULE_2__.unwrap(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(upgrade, _Socket_js__WEBPACK_IMPORTED_MODULE_3__.toChannelWith()));\n/** @internal */\nconst multipartPersisted = /*#__PURE__*/effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(serverRequestTag, request => request.multipart);\n/** @internal */\nconst searchParamsFromURL = url => {\n  const out = {};\n  for (const [key, value] of url.searchParams.entries()) {\n    const entry = out[key];\n    if (entry !== undefined) {\n      if (Array.isArray(entry)) {\n        entry.push(value);\n      } else {\n        out[key] = [entry, value];\n      }\n    } else {\n      out[key] = value;\n    }\n  }\n  return out;\n};\n/** @internal */\nconst schemaCookies = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_4__.decodeUnknown(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(serverRequestTag, req => parse(req.cookies));\n};\n/** @internal */\nconst schemaHeaders = (schema, options) => {\n  const parse = _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_5__.schemaHeaders(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(serverRequestTag, parse);\n};\n/** @internal */\nconst schemaSearchParams = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_4__.decodeUnknown(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(parsedSearchParamsTag, parse);\n};\n/** @internal */\nconst schemaBodyJson = (schema, options) => {\n  const parse = _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_5__.schemaBodyJson(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(serverRequestTag, parse);\n};\nconst isMultipart = request => request.headers[\"content-type\"]?.toLowerCase().includes(\"multipart/form-data\");\n/** @internal */\nconst schemaBodyForm = (schema, options) => {\n  const parseMultipart = _Multipart_js__WEBPACK_IMPORTED_MODULE_6__.schemaPersisted(schema, options);\n  const parseUrlParams = _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_5__.schemaBodyUrlParams(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(serverRequestTag, request => {\n    if (isMultipart(request)) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(request.multipart, parseMultipart);\n    }\n    return parseUrlParams(request);\n  });\n};\n/** @internal */\nconst schemaBodyUrlParams = (schema, options) => {\n  const parse = _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_5__.schemaBodyUrlParams(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(serverRequestTag, parse);\n};\n/** @internal */\nconst schemaBodyMultipart = (schema, options) => {\n  const parse = _Multipart_js__WEBPACK_IMPORTED_MODULE_6__.schemaPersisted(schema, options);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(multipartPersisted, parse);\n};\n/** @internal */\nconst schemaBodyFormJson = (schema, options) => {\n  const parseMultipart = _Multipart_js__WEBPACK_IMPORTED_MODULE_6__.schemaJson(schema, options);\n  const parseUrlParams = _UrlParams_js__WEBPACK_IMPORTED_MODULE_7__.schemaJson(schema, options);\n  return field => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(serverRequestTag, request => {\n    if (isMultipart(request)) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.mapError(request.multipart, cause => new _HttpServerError_js__WEBPACK_IMPORTED_MODULE_8__.RequestError({\n        request,\n        reason: \"Decode\",\n        cause\n      })), parseMultipart(field));\n    }\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(request.urlParamsBody, parseUrlParams(field));\n  });\n};\n/** @internal */\nconst fromWeb = request => new ServerRequestImpl(request, removeHost(request.url));\nconst removeHost = url => {\n  if (url[0] === \"/\") {\n    return url;\n  }\n  const index = url.indexOf(\"/\", url.indexOf(\"//\") + 2);\n  return index === -1 ? \"/\" : url.slice(index);\n};\nclass ServerRequestImpl extends effect_Inspectable__WEBPACK_IMPORTED_MODULE_9__.Class {\n  source;\n  url;\n  headersOverride;\n  remoteAddressOverride;\n  [TypeId];\n  [_HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_5__.TypeId];\n  constructor(source, url, headersOverride, remoteAddressOverride) {\n    super();\n    this.source = source;\n    this.url = url;\n    this.headersOverride = headersOverride;\n    this.remoteAddressOverride = remoteAddressOverride;\n    this[TypeId] = TypeId;\n    this[_HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_5__.TypeId] = _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_5__.TypeId;\n  }\n  toJSON() {\n    return _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_5__.inspect(this, {\n      _id: \"@effect/platform/HttpServerRequest\",\n      method: this.method,\n      url: this.originalUrl\n    });\n  }\n  modify(options) {\n    return new ServerRequestImpl(this.source, options.url ?? this.url, options.headers ?? this.headersOverride, options.remoteAddress ?? this.remoteAddressOverride);\n  }\n  get method() {\n    return this.source.method.toUpperCase();\n  }\n  get originalUrl() {\n    return this.source.url;\n  }\n  get remoteAddress() {\n    return this.remoteAddressOverride ? effect_Option__WEBPACK_IMPORTED_MODULE_10__.some(this.remoteAddressOverride) : effect_Option__WEBPACK_IMPORTED_MODULE_10__.none();\n  }\n  get headers() {\n    this.headersOverride ??= _Headers_js__WEBPACK_IMPORTED_MODULE_11__.fromInput(this.source.headers);\n    return this.headersOverride;\n  }\n  cachedCookies;\n  get cookies() {\n    if (this.cachedCookies) {\n      return this.cachedCookies;\n    }\n    return this.cachedCookies = _Cookies_js__WEBPACK_IMPORTED_MODULE_12__.parseHeader(this.headers.cookie ?? \"\");\n  }\n  get stream() {\n    return this.source.body ? effect_Stream__WEBPACK_IMPORTED_MODULE_13__.fromReadableStream(() => this.source.body, cause => new _HttpServerError_js__WEBPACK_IMPORTED_MODULE_8__.RequestError({\n      request: this,\n      reason: \"Decode\",\n      cause\n    })) : effect_Stream__WEBPACK_IMPORTED_MODULE_13__.fail(new _HttpServerError_js__WEBPACK_IMPORTED_MODULE_8__.RequestError({\n      request: this,\n      reason: \"Decode\",\n      description: \"can not create stream from empty body\"\n    }));\n  }\n  textEffect;\n  get text() {\n    if (this.textEffect) {\n      return this.textEffect;\n    }\n    this.textEffect = effect_Effect__WEBPACK_IMPORTED_MODULE_1__.runSync(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.cached(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.tryPromise({\n      try: () => this.source.text(),\n      catch: cause => new _HttpServerError_js__WEBPACK_IMPORTED_MODULE_8__.RequestError({\n        request: this,\n        reason: \"Decode\",\n        cause\n      })\n    })));\n    return this.textEffect;\n  }\n  get json() {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.tryMap(this.text, {\n      try: _ => JSON.parse(_),\n      catch: cause => new _HttpServerError_js__WEBPACK_IMPORTED_MODULE_8__.RequestError({\n        request: this,\n        reason: \"Decode\",\n        cause\n      })\n    });\n  }\n  get urlParamsBody() {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(this.text, _ => effect_Effect__WEBPACK_IMPORTED_MODULE_1__[\"try\"]({\n      try: () => _UrlParams_js__WEBPACK_IMPORTED_MODULE_7__.fromInput(new URLSearchParams(_)),\n      catch: cause => new _HttpServerError_js__WEBPACK_IMPORTED_MODULE_8__.RequestError({\n        request: this,\n        reason: \"Decode\",\n        cause\n      })\n    }));\n  }\n  multipartEffect;\n  get multipart() {\n    if (this.multipartEffect) {\n      return this.multipartEffect;\n    }\n    this.multipartEffect = effect_Effect__WEBPACK_IMPORTED_MODULE_1__.runSync(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.cached(_Multipart_js__WEBPACK_IMPORTED_MODULE_6__.toPersisted(this.multipartStream)));\n    return this.multipartEffect;\n  }\n  get multipartStream() {\n    return effect_Stream__WEBPACK_IMPORTED_MODULE_13__.pipeThroughChannel(effect_Stream__WEBPACK_IMPORTED_MODULE_13__.mapError(this.stream, cause => new _Multipart_js__WEBPACK_IMPORTED_MODULE_6__.MultipartError({\n      reason: \"InternalError\",\n      cause\n    })), _Multipart_js__WEBPACK_IMPORTED_MODULE_6__.makeChannel(this.headers));\n  }\n  arrayBufferEffect;\n  get arrayBuffer() {\n    if (this.arrayBufferEffect) {\n      return this.arrayBufferEffect;\n    }\n    this.arrayBufferEffect = effect_Effect__WEBPACK_IMPORTED_MODULE_1__.runSync(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.cached(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.tryPromise({\n      try: () => this.source.arrayBuffer(),\n      catch: cause => new _HttpServerError_js__WEBPACK_IMPORTED_MODULE_8__.RequestError({\n        request: this,\n        reason: \"Decode\",\n        cause\n      })\n    })));\n    return this.arrayBufferEffect;\n  }\n  get upgrade() {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.fail(new _HttpServerError_js__WEBPACK_IMPORTED_MODULE_8__.RequestError({\n      request: this,\n      reason: \"Decode\",\n      description: \"Not an upgradeable ServerRequest\"\n    }));\n  }\n}\n/** @internal */\nconst toURL = self => {\n  const host = self.headers.host ?? \"localhost\";\n  const protocol = self.headers[\"x-forwarded-proto\"] === \"https\" ? \"https\" : \"http\";\n  try {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_10__.some(new URL(self.url, `${protocol}://${host}`));\n  } catch (_) {\n    return effect_Option__WEBPACK_IMPORTED_MODULE_10__.none();\n  }\n};\n//# sourceMappingURL=httpServerRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cFNlcnZlclJlcXVlc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNBO0FBQ0Y7QUFDVTtBQUNWO0FBQ0E7QUFDQTtBQUNDO0FBQ0E7QUFDb0I7QUFDZDtBQUNGO0FBQ047QUFDTTtBQUM3QztBQUNPO0FBQ1A7QUFDTyxzQ0FBc0Msc0RBQWtCO0FBQy9EO0FBQ08sMkNBQTJDLHNEQUFrQjtBQUNwRTtBQUNPLDZCQUE2QixrREFBYztBQUNsRDtBQUNPLDZCQUE2QixrREFBYyxDQUFDLDhDQUFVLFVBQVUscURBQW9CO0FBQzNGO0FBQ08sd0NBQXdDLGtEQUFjO0FBQzdEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdCQUFnQix3REFBb0I7QUFDcEMsU0FBUyxrREFBYztBQUN2QjtBQUNBO0FBQ087QUFDUCxnQkFBZ0Isa0VBQTZCO0FBQzdDLFNBQVMsa0RBQWM7QUFDdkI7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLHdEQUFvQjtBQUNwQyxTQUFTLGtEQUFjO0FBQ3ZCO0FBQ0E7QUFDTztBQUNQLGdCQUFnQixtRUFBOEI7QUFDOUMsU0FBUyxrREFBYztBQUN2QjtBQUNBO0FBQ0E7QUFDTztBQUNQLHlCQUF5QiwwREFBeUI7QUFDbEQseUJBQXlCLHdFQUFtQztBQUM1RCxTQUFTLGtEQUFjO0FBQ3ZCO0FBQ0EsYUFBYSxrREFBYztBQUMzQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDTztBQUNQLGdCQUFnQix3RUFBbUM7QUFDbkQsU0FBUyxrREFBYztBQUN2QjtBQUNBO0FBQ087QUFDUCxnQkFBZ0IsMERBQXlCO0FBQ3pDLFNBQVMsa0RBQWM7QUFDdkI7QUFDQTtBQUNPO0FBQ1AseUJBQXlCLHFEQUFvQjtBQUM3Qyx5QkFBeUIscURBQW9CO0FBQzdDLGtCQUFrQixrREFBYztBQUNoQztBQUNBLGFBQWEsa0RBQWMsQ0FBQyxtREFBZSxpQ0FBaUMsNkRBQWtCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLFdBQVcsa0RBQWM7QUFDekIsR0FBRztBQUNIO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFpQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRywyREFBc0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJEQUFzQixJQUFJLDJEQUFzQjtBQUN6RDtBQUNBO0FBQ0EsV0FBVyw0REFBdUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZ0RBQVcsK0JBQStCLGdEQUFXO0FBQzdGO0FBQ0E7QUFDQSw2QkFBNkIsbURBQWlCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFtQjtBQUNuRDtBQUNBO0FBQ0EsOEJBQThCLDhEQUF5QixzQ0FBc0MsNkRBQWtCO0FBQy9HO0FBQ0E7QUFDQTtBQUNBLEtBQUssS0FBSyxnREFBVyxLQUFLLDZEQUFrQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGtEQUFjLENBQUMsaURBQWEsQ0FBQyxxREFBaUI7QUFDcEU7QUFDQSwwQkFBMEIsNkRBQWtCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpREFBYTtBQUN4QjtBQUNBLDBCQUEwQiw2REFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVyxrREFBYyxpQkFBaUIsaURBQVU7QUFDcEQsaUJBQWlCLG9EQUFtQjtBQUNwQywwQkFBMEIsNkRBQWtCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtEQUFjLENBQUMsaURBQWEsQ0FBQyxzREFBcUI7QUFDN0U7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBeUIsQ0FBQyxvREFBZSwyQkFBMkIseURBQXdCO0FBQ3ZHO0FBQ0E7QUFDQSxLQUFLLElBQUksc0RBQXFCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrREFBYyxDQUFDLGlEQUFhLENBQUMscURBQWlCO0FBQzNFO0FBQ0EsMEJBQTBCLDZEQUFrQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVcsS0FBSyw2REFBa0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnREFBVyxzQkFBc0IsU0FBUyxLQUFLLEtBQUs7QUFDL0QsSUFBSTtBQUNKLFdBQVcsZ0RBQVc7QUFDdEI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL2ludGVybmFsL2h0dHBTZXJ2ZXJSZXF1ZXN0LmpzPzYzMDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ2hhbm5lbCBmcm9tIFwiZWZmZWN0L0NoYW5uZWxcIjtcbmltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIEluc3BlY3RhYmxlIGZyb20gXCJlZmZlY3QvSW5zcGVjdGFibGVcIjtcbmltcG9ydCAqIGFzIE9wdGlvbiBmcm9tIFwiZWZmZWN0L09wdGlvblwiO1xuaW1wb3J0ICogYXMgU2NoZW1hIGZyb20gXCJlZmZlY3QvU2NoZW1hXCI7XG5pbXBvcnQgKiBhcyBTdHJlYW0gZnJvbSBcImVmZmVjdC9TdHJlYW1cIjtcbmltcG9ydCAqIGFzIENvb2tpZXMgZnJvbSBcIi4uL0Nvb2tpZXMuanNcIjtcbmltcG9ydCAqIGFzIEhlYWRlcnMgZnJvbSBcIi4uL0hlYWRlcnMuanNcIjtcbmltcG9ydCAqIGFzIEluY29taW5nTWVzc2FnZSBmcm9tIFwiLi4vSHR0cEluY29taW5nTWVzc2FnZS5qc1wiO1xuaW1wb3J0ICogYXMgRXJyb3IgZnJvbSBcIi4uL0h0dHBTZXJ2ZXJFcnJvci5qc1wiO1xuaW1wb3J0ICogYXMgTXVsdGlwYXJ0IGZyb20gXCIuLi9NdWx0aXBhcnQuanNcIjtcbmltcG9ydCAqIGFzIFNvY2tldCBmcm9tIFwiLi4vU29ja2V0LmpzXCI7XG5pbXBvcnQgKiBhcyBVcmxQYXJhbXMgZnJvbSBcIi4uL1VybFBhcmFtcy5qc1wiO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwU2VydmVyUmVxdWVzdFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXJ2ZXJSZXF1ZXN0VGFnID0gLyojX19QVVJFX18qL0NvbnRleHQuR2VuZXJpY1RhZyhcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cFNlcnZlclJlcXVlc3RcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcGFyc2VkU2VhcmNoUGFyYW1zVGFnID0gLyojX19QVVJFX18qL0NvbnRleHQuR2VuZXJpY1RhZyhcIkBlZmZlY3QvcGxhdGZvcm0vSHR0cFNlcnZlclJlcXVlc3QvUGFyc2VkU2VhcmNoUGFyYW1zXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVwZ3JhZGUgPSAvKiNfX1BVUkVfXyovRWZmZWN0LmZsYXRNYXAoc2VydmVyUmVxdWVzdFRhZywgcmVxdWVzdCA9PiByZXF1ZXN0LnVwZ3JhZGUpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVwZ3JhZGVDaGFubmVsID0gKCkgPT4gQ2hhbm5lbC51bndyYXAoRWZmZWN0Lm1hcCh1cGdyYWRlLCBTb2NrZXQudG9DaGFubmVsV2l0aCgpKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbXVsdGlwYXJ0UGVyc2lzdGVkID0gLyojX19QVVJFX18qL0VmZmVjdC5mbGF0TWFwKHNlcnZlclJlcXVlc3RUYWcsIHJlcXVlc3QgPT4gcmVxdWVzdC5tdWx0aXBhcnQpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNlYXJjaFBhcmFtc0Zyb21VUkwgPSB1cmwgPT4ge1xuICBjb25zdCBvdXQgPSB7fTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdXJsLnNlYXJjaFBhcmFtcy5lbnRyaWVzKCkpIHtcbiAgICBjb25zdCBlbnRyeSA9IG91dFtrZXldO1xuICAgIGlmIChlbnRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgZW50cnkucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRba2V5XSA9IFtlbnRyeSwgdmFsdWVdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFDb29raWVzID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXJzZSA9IFNjaGVtYS5kZWNvZGVVbmtub3duKHNjaGVtYSwgb3B0aW9ucyk7XG4gIHJldHVybiBFZmZlY3QuZmxhdE1hcChzZXJ2ZXJSZXF1ZXN0VGFnLCByZXEgPT4gcGFyc2UocmVxLmNvb2tpZXMpKTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc2NoZW1hSGVhZGVycyA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2UgPSBJbmNvbWluZ01lc3NhZ2Uuc2NoZW1hSGVhZGVycyhzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gRWZmZWN0LmZsYXRNYXAoc2VydmVyUmVxdWVzdFRhZywgcGFyc2UpO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFTZWFyY2hQYXJhbXMgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlID0gU2NoZW1hLmRlY29kZVVua25vd24oc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKHBhcnNlZFNlYXJjaFBhcmFtc1RhZywgcGFyc2UpO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFCb2R5SnNvbiA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2UgPSBJbmNvbWluZ01lc3NhZ2Uuc2NoZW1hQm9keUpzb24oc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKHNlcnZlclJlcXVlc3RUYWcsIHBhcnNlKTtcbn07XG5jb25zdCBpc011bHRpcGFydCA9IHJlcXVlc3QgPT4gcmVxdWVzdC5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzY2hlbWFCb2R5Rm9ybSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2VNdWx0aXBhcnQgPSBNdWx0aXBhcnQuc2NoZW1hUGVyc2lzdGVkKHNjaGVtYSwgb3B0aW9ucyk7XG4gIGNvbnN0IHBhcnNlVXJsUGFyYW1zID0gSW5jb21pbmdNZXNzYWdlLnNjaGVtYUJvZHlVcmxQYXJhbXMoc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKHNlcnZlclJlcXVlc3RUYWcsIHJlcXVlc3QgPT4ge1xuICAgIGlmIChpc011bHRpcGFydChyZXF1ZXN0KSkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKHJlcXVlc3QubXVsdGlwYXJ0LCBwYXJzZU11bHRpcGFydCk7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZVVybFBhcmFtcyhyZXF1ZXN0KTtcbiAgfSk7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUJvZHlVcmxQYXJhbXMgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlID0gSW5jb21pbmdNZXNzYWdlLnNjaGVtYUJvZHlVcmxQYXJhbXMoc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKHNlcnZlclJlcXVlc3RUYWcsIHBhcnNlKTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc2NoZW1hQm9keU11bHRpcGFydCA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2UgPSBNdWx0aXBhcnQuc2NoZW1hUGVyc2lzdGVkKHNjaGVtYSwgb3B0aW9ucyk7XG4gIHJldHVybiBFZmZlY3QuZmxhdE1hcChtdWx0aXBhcnRQZXJzaXN0ZWQsIHBhcnNlKTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc2NoZW1hQm9keUZvcm1Kc29uID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXJzZU11bHRpcGFydCA9IE11bHRpcGFydC5zY2hlbWFKc29uKHNjaGVtYSwgb3B0aW9ucyk7XG4gIGNvbnN0IHBhcnNlVXJsUGFyYW1zID0gVXJsUGFyYW1zLnNjaGVtYUpzb24oc2NoZW1hLCBvcHRpb25zKTtcbiAgcmV0dXJuIGZpZWxkID0+IEVmZmVjdC5mbGF0TWFwKHNlcnZlclJlcXVlc3RUYWcsIHJlcXVlc3QgPT4ge1xuICAgIGlmIChpc011bHRpcGFydChyZXF1ZXN0KSkge1xuICAgICAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKEVmZmVjdC5tYXBFcnJvcihyZXF1ZXN0Lm11bHRpcGFydCwgY2F1c2UgPT4gbmV3IEVycm9yLlJlcXVlc3RFcnJvcih7XG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIHJlYXNvbjogXCJEZWNvZGVcIixcbiAgICAgICAgY2F1c2VcbiAgICAgIH0pKSwgcGFyc2VNdWx0aXBhcnQoZmllbGQpKTtcbiAgICB9XG4gICAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKHJlcXVlc3QudXJsUGFyYW1zQm9keSwgcGFyc2VVcmxQYXJhbXMoZmllbGQpKTtcbiAgfSk7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGZyb21XZWIgPSByZXF1ZXN0ID0+IG5ldyBTZXJ2ZXJSZXF1ZXN0SW1wbChyZXF1ZXN0LCByZW1vdmVIb3N0KHJlcXVlc3QudXJsKSk7XG5jb25zdCByZW1vdmVIb3N0ID0gdXJsID0+IHtcbiAgaWYgKHVybFswXSA9PT0gXCIvXCIpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIGNvbnN0IGluZGV4ID0gdXJsLmluZGV4T2YoXCIvXCIsIHVybC5pbmRleE9mKFwiLy9cIikgKyAyKTtcbiAgcmV0dXJuIGluZGV4ID09PSAtMSA/IFwiL1wiIDogdXJsLnNsaWNlKGluZGV4KTtcbn07XG5jbGFzcyBTZXJ2ZXJSZXF1ZXN0SW1wbCBleHRlbmRzIEluc3BlY3RhYmxlLkNsYXNzIHtcbiAgc291cmNlO1xuICB1cmw7XG4gIGhlYWRlcnNPdmVycmlkZTtcbiAgcmVtb3RlQWRkcmVzc092ZXJyaWRlO1xuICBbVHlwZUlkXTtcbiAgW0luY29taW5nTWVzc2FnZS5UeXBlSWRdO1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIHVybCwgaGVhZGVyc092ZXJyaWRlLCByZW1vdGVBZGRyZXNzT3ZlcnJpZGUpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMuaGVhZGVyc092ZXJyaWRlID0gaGVhZGVyc092ZXJyaWRlO1xuICAgIHRoaXMucmVtb3RlQWRkcmVzc092ZXJyaWRlID0gcmVtb3RlQWRkcmVzc092ZXJyaWRlO1xuICAgIHRoaXNbVHlwZUlkXSA9IFR5cGVJZDtcbiAgICB0aGlzW0luY29taW5nTWVzc2FnZS5UeXBlSWRdID0gSW5jb21pbmdNZXNzYWdlLlR5cGVJZDtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIEluY29taW5nTWVzc2FnZS5pbnNwZWN0KHRoaXMsIHtcbiAgICAgIF9pZDogXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBTZXJ2ZXJSZXF1ZXN0XCIsXG4gICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgICAgdXJsOiB0aGlzLm9yaWdpbmFsVXJsXG4gICAgfSk7XG4gIH1cbiAgbW9kaWZ5KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFNlcnZlclJlcXVlc3RJbXBsKHRoaXMuc291cmNlLCBvcHRpb25zLnVybCA/PyB0aGlzLnVybCwgb3B0aW9ucy5oZWFkZXJzID8/IHRoaXMuaGVhZGVyc092ZXJyaWRlLCBvcHRpb25zLnJlbW90ZUFkZHJlc3MgPz8gdGhpcy5yZW1vdGVBZGRyZXNzT3ZlcnJpZGUpO1xuICB9XG4gIGdldCBtZXRob2QoKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlLm1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICB9XG4gIGdldCBvcmlnaW5hbFVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2UudXJsO1xuICB9XG4gIGdldCByZW1vdGVBZGRyZXNzKCkge1xuICAgIHJldHVybiB0aGlzLnJlbW90ZUFkZHJlc3NPdmVycmlkZSA/IE9wdGlvbi5zb21lKHRoaXMucmVtb3RlQWRkcmVzc092ZXJyaWRlKSA6IE9wdGlvbi5ub25lKCk7XG4gIH1cbiAgZ2V0IGhlYWRlcnMoKSB7XG4gICAgdGhpcy5oZWFkZXJzT3ZlcnJpZGUgPz89IEhlYWRlcnMuZnJvbUlucHV0KHRoaXMuc291cmNlLmhlYWRlcnMpO1xuICAgIHJldHVybiB0aGlzLmhlYWRlcnNPdmVycmlkZTtcbiAgfVxuICBjYWNoZWRDb29raWVzO1xuICBnZXQgY29va2llcygpIHtcbiAgICBpZiAodGhpcy5jYWNoZWRDb29raWVzKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZWRDb29raWVzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWNoZWRDb29raWVzID0gQ29va2llcy5wYXJzZUhlYWRlcih0aGlzLmhlYWRlcnMuY29va2llID8/IFwiXCIpO1xuICB9XG4gIGdldCBzdHJlYW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlLmJvZHkgPyBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKCgpID0+IHRoaXMuc291cmNlLmJvZHksIGNhdXNlID0+IG5ldyBFcnJvci5SZXF1ZXN0RXJyb3Ioe1xuICAgICAgcmVxdWVzdDogdGhpcyxcbiAgICAgIHJlYXNvbjogXCJEZWNvZGVcIixcbiAgICAgIGNhdXNlXG4gICAgfSkpIDogU3RyZWFtLmZhaWwobmV3IEVycm9yLlJlcXVlc3RFcnJvcih7XG4gICAgICByZXF1ZXN0OiB0aGlzLFxuICAgICAgcmVhc29uOiBcIkRlY29kZVwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiY2FuIG5vdCBjcmVhdGUgc3RyZWFtIGZyb20gZW1wdHkgYm9keVwiXG4gICAgfSkpO1xuICB9XG4gIHRleHRFZmZlY3Q7XG4gIGdldCB0ZXh0KCkge1xuICAgIGlmICh0aGlzLnRleHRFZmZlY3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHRFZmZlY3Q7XG4gICAgfVxuICAgIHRoaXMudGV4dEVmZmVjdCA9IEVmZmVjdC5ydW5TeW5jKEVmZmVjdC5jYWNoZWQoRWZmZWN0LnRyeVByb21pc2Uoe1xuICAgICAgdHJ5OiAoKSA9PiB0aGlzLnNvdXJjZS50ZXh0KCksXG4gICAgICBjYXRjaDogY2F1c2UgPT4gbmV3IEVycm9yLlJlcXVlc3RFcnJvcih7XG4gICAgICAgIHJlcXVlc3Q6IHRoaXMsXG4gICAgICAgIHJlYXNvbjogXCJEZWNvZGVcIixcbiAgICAgICAgY2F1c2VcbiAgICAgIH0pXG4gICAgfSkpKTtcbiAgICByZXR1cm4gdGhpcy50ZXh0RWZmZWN0O1xuICB9XG4gIGdldCBqc29uKCkge1xuICAgIHJldHVybiBFZmZlY3QudHJ5TWFwKHRoaXMudGV4dCwge1xuICAgICAgdHJ5OiBfID0+IEpTT04ucGFyc2UoXyksXG4gICAgICBjYXRjaDogY2F1c2UgPT4gbmV3IEVycm9yLlJlcXVlc3RFcnJvcih7XG4gICAgICAgIHJlcXVlc3Q6IHRoaXMsXG4gICAgICAgIHJlYXNvbjogXCJEZWNvZGVcIixcbiAgICAgICAgY2F1c2VcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cbiAgZ2V0IHVybFBhcmFtc0JvZHkoKSB7XG4gICAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKHRoaXMudGV4dCwgXyA9PiBFZmZlY3QudHJ5KHtcbiAgICAgIHRyeTogKCkgPT4gVXJsUGFyYW1zLmZyb21JbnB1dChuZXcgVVJMU2VhcmNoUGFyYW1zKF8pKSxcbiAgICAgIGNhdGNoOiBjYXVzZSA9PiBuZXcgRXJyb3IuUmVxdWVzdEVycm9yKHtcbiAgICAgICAgcmVxdWVzdDogdGhpcyxcbiAgICAgICAgcmVhc29uOiBcIkRlY29kZVwiLFxuICAgICAgICBjYXVzZVxuICAgICAgfSlcbiAgICB9KSk7XG4gIH1cbiAgbXVsdGlwYXJ0RWZmZWN0O1xuICBnZXQgbXVsdGlwYXJ0KCkge1xuICAgIGlmICh0aGlzLm11bHRpcGFydEVmZmVjdCkge1xuICAgICAgcmV0dXJuIHRoaXMubXVsdGlwYXJ0RWZmZWN0O1xuICAgIH1cbiAgICB0aGlzLm11bHRpcGFydEVmZmVjdCA9IEVmZmVjdC5ydW5TeW5jKEVmZmVjdC5jYWNoZWQoTXVsdGlwYXJ0LnRvUGVyc2lzdGVkKHRoaXMubXVsdGlwYXJ0U3RyZWFtKSkpO1xuICAgIHJldHVybiB0aGlzLm11bHRpcGFydEVmZmVjdDtcbiAgfVxuICBnZXQgbXVsdGlwYXJ0U3RyZWFtKCkge1xuICAgIHJldHVybiBTdHJlYW0ucGlwZVRocm91Z2hDaGFubmVsKFN0cmVhbS5tYXBFcnJvcih0aGlzLnN0cmVhbSwgY2F1c2UgPT4gbmV3IE11bHRpcGFydC5NdWx0aXBhcnRFcnJvcih7XG4gICAgICByZWFzb246IFwiSW50ZXJuYWxFcnJvclwiLFxuICAgICAgY2F1c2VcbiAgICB9KSksIE11bHRpcGFydC5tYWtlQ2hhbm5lbCh0aGlzLmhlYWRlcnMpKTtcbiAgfVxuICBhcnJheUJ1ZmZlckVmZmVjdDtcbiAgZ2V0IGFycmF5QnVmZmVyKCkge1xuICAgIGlmICh0aGlzLmFycmF5QnVmZmVyRWZmZWN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5hcnJheUJ1ZmZlckVmZmVjdDtcbiAgICB9XG4gICAgdGhpcy5hcnJheUJ1ZmZlckVmZmVjdCA9IEVmZmVjdC5ydW5TeW5jKEVmZmVjdC5jYWNoZWQoRWZmZWN0LnRyeVByb21pc2Uoe1xuICAgICAgdHJ5OiAoKSA9PiB0aGlzLnNvdXJjZS5hcnJheUJ1ZmZlcigpLFxuICAgICAgY2F0Y2g6IGNhdXNlID0+IG5ldyBFcnJvci5SZXF1ZXN0RXJyb3Ioe1xuICAgICAgICByZXF1ZXN0OiB0aGlzLFxuICAgICAgICByZWFzb246IFwiRGVjb2RlXCIsXG4gICAgICAgIGNhdXNlXG4gICAgICB9KVxuICAgIH0pKSk7XG4gICAgcmV0dXJuIHRoaXMuYXJyYXlCdWZmZXJFZmZlY3Q7XG4gIH1cbiAgZ2V0IHVwZ3JhZGUoKSB7XG4gICAgcmV0dXJuIEVmZmVjdC5mYWlsKG5ldyBFcnJvci5SZXF1ZXN0RXJyb3Ioe1xuICAgICAgcmVxdWVzdDogdGhpcyxcbiAgICAgIHJlYXNvbjogXCJEZWNvZGVcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIk5vdCBhbiB1cGdyYWRlYWJsZSBTZXJ2ZXJSZXF1ZXN0XCJcbiAgICB9KSk7XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB0b1VSTCA9IHNlbGYgPT4ge1xuICBjb25zdCBob3N0ID0gc2VsZi5oZWFkZXJzLmhvc3QgPz8gXCJsb2NhbGhvc3RcIjtcbiAgY29uc3QgcHJvdG9jb2wgPSBzZWxmLmhlYWRlcnNbXCJ4LWZvcndhcmRlZC1wcm90b1wiXSA9PT0gXCJodHRwc1wiID8gXCJodHRwc1wiIDogXCJodHRwXCI7XG4gIHRyeSB7XG4gICAgcmV0dXJuIE9wdGlvbi5zb21lKG5ldyBVUkwoc2VsZi51cmwsIGAke3Byb3RvY29sfTovLyR7aG9zdH1gKSk7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gT3B0aW9uLm5vbmUoKTtcbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBTZXJ2ZXJSZXF1ZXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerRequest.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerResponse.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/httpServerResponse.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   file: () => (/* binding */ file),\n/* harmony export */   fileWeb: () => (/* binding */ fileWeb),\n/* harmony export */   formData: () => (/* binding */ formData),\n/* harmony export */   getContentType: () => (/* binding */ getContentType),\n/* harmony export */   html: () => (/* binding */ html),\n/* harmony export */   htmlStream: () => (/* binding */ htmlStream),\n/* harmony export */   isServerResponse: () => (/* binding */ isServerResponse),\n/* harmony export */   json: () => (/* binding */ json),\n/* harmony export */   mergeCookies: () => (/* binding */ mergeCookies),\n/* harmony export */   raw: () => (/* binding */ raw),\n/* harmony export */   redirect: () => (/* binding */ redirect),\n/* harmony export */   removeCookie: () => (/* binding */ removeCookie),\n/* harmony export */   replaceCookies: () => (/* binding */ replaceCookies),\n/* harmony export */   schemaJson: () => (/* binding */ schemaJson),\n/* harmony export */   setBody: () => (/* binding */ setBody),\n/* harmony export */   setCookie: () => (/* binding */ setCookie),\n/* harmony export */   setCookies: () => (/* binding */ setCookies),\n/* harmony export */   setHeader: () => (/* binding */ setHeader),\n/* harmony export */   setHeaders: () => (/* binding */ setHeaders),\n/* harmony export */   setStatus: () => (/* binding */ setStatus),\n/* harmony export */   stream: () => (/* binding */ stream),\n/* harmony export */   text: () => (/* binding */ text),\n/* harmony export */   toWeb: () => (/* binding */ toWeb),\n/* harmony export */   uint8Array: () => (/* binding */ uint8Array),\n/* harmony export */   unsafeJson: () => (/* binding */ unsafeJson),\n/* harmony export */   unsafeSetCookie: () => (/* binding */ unsafeSetCookie),\n/* harmony export */   unsafeSetCookies: () => (/* binding */ unsafeSetCookies),\n/* harmony export */   updateCookies: () => (/* binding */ updateCookies),\n/* harmony export */   urlParams: () => (/* binding */ urlParams)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Effectable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Effectable */ \"(rsc)/../../node_modules/effect/dist/esm/Effectable.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! effect/Runtime */ \"(rsc)/../../node_modules/effect/dist/esm/Runtime.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var _Cookies_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Cookies.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Cookies.js\");\n/* harmony import */ var _Headers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Headers.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Headers.js\");\n/* harmony import */ var _Template_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Template.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Template.js\");\n/* harmony import */ var _UrlParams_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../UrlParams.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/UrlParams.js\");\n/* harmony import */ var _httpBody_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./httpBody.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpBody.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpServerResponse\");\nconst respondableSymbol = /*#__PURE__*/Symbol.for(\"@effect/platform/HttpServerRespondable\");\nclass ServerResponseImpl extends effect_Effectable__WEBPACK_IMPORTED_MODULE_0__.StructuralClass {\n  status;\n  statusText;\n  cookies;\n  body;\n  [TypeId];\n  headers;\n  constructor(status, statusText, headers, cookies, body) {\n    super();\n    this.status = status;\n    this.statusText = statusText;\n    this.cookies = cookies;\n    this.body = body;\n    this[TypeId] = TypeId;\n    if (body.contentType || body.contentLength) {\n      const newHeaders = {\n        ...headers\n      };\n      if (body.contentType) {\n        newHeaders[\"content-type\"] = body.contentType;\n      }\n      if (body.contentLength) {\n        newHeaders[\"content-length\"] = body.contentLength.toString();\n      }\n      this.headers = newHeaders;\n    } else {\n      this.headers = headers;\n    }\n  }\n  commit() {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.succeed(this);\n  }\n  [respondableSymbol]() {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.succeed(this);\n  }\n  [effect_Inspectable__WEBPACK_IMPORTED_MODULE_2__.NodeInspectSymbol]() {\n    return this.toJSON();\n  }\n  toString() {\n    return effect_Inspectable__WEBPACK_IMPORTED_MODULE_2__.format(this);\n  }\n  toJSON() {\n    return {\n      _id: \"@effect/platform/HttpServerResponse\",\n      status: this.status,\n      statusText: this.statusText,\n      headers: effect_Inspectable__WEBPACK_IMPORTED_MODULE_2__.redact(this.headers),\n      cookies: this.cookies.toJSON(),\n      body: this.body.toJSON()\n    };\n  }\n}\n/** @internal */\nconst isServerResponse = u => typeof u === \"object\" && u !== null && TypeId in u;\n/** @internal */\nconst empty = options => new ServerResponseImpl(options?.status ?? 204, options?.statusText, options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.empty);\n/** @internal */\nconst redirect = (location, options) => {\n  const headers = _Headers_js__WEBPACK_IMPORTED_MODULE_3__.unsafeFromRecord({\n    location: location.toString()\n  });\n  return new ServerResponseImpl(options?.status ?? 301, options?.statusText, options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.merge(headers, _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers)) : headers, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.empty);\n};\n/** @internal */\nconst uint8Array = (body, options) => {\n  const headers = options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty;\n  return new ServerResponseImpl(options?.status ?? 200, options?.statusText, headers, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.uint8Array(body, getContentType(options, headers)));\n};\n/** @internal */\nconst text = (body, options) => {\n  const headers = options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty;\n  return new ServerResponseImpl(options?.status ?? 200, options?.statusText, headers, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.text(body, getContentType(options, headers)));\n};\n/** @internal */\nconst html = (strings, ...args) => {\n  if (typeof strings === \"string\") {\n    return text(strings, {\n      contentType: \"text/html\"\n    });\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(_Template_js__WEBPACK_IMPORTED_MODULE_6__.make(strings, ...args), _ => text(_, {\n    contentType: \"text/html\"\n  }));\n};\n/** @internal */\nconst htmlStream = (strings, ...args) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.context(), context => stream(effect_Stream__WEBPACK_IMPORTED_MODULE_7__.provideContext(effect_Stream__WEBPACK_IMPORTED_MODULE_7__.encodeText(_Template_js__WEBPACK_IMPORTED_MODULE_6__.stream(strings, ...args)), context), {\n  contentType: \"text/html\"\n}));\n/** @internal */\nconst json = (body, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(_httpBody_js__WEBPACK_IMPORTED_MODULE_5__.json(body), body => new ServerResponseImpl(options?.status ?? 200, options?.statusText, options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, body));\n/** @internal */\nconst unsafeJson = (body, options) => new ServerResponseImpl(options?.status ?? 200, options?.statusText, options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.unsafeJson(body));\n/** @internal */\nconst schemaJson = (schema, options) => {\n  const encode = _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.jsonSchema(schema, options);\n  return (body, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(encode(body), body => new ServerResponseImpl(options?.status ?? 200, options?.statusText, options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, body));\n};\nconst httpPlatform = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_8__.GenericTag(\"@effect/platform/HttpPlatform\");\n/** @internal */\nconst file = (path, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(httpPlatform, platform => platform.fileResponse(path, options));\n/** @internal */\nconst fileWeb = (file, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(httpPlatform, platform => platform.fileWebResponse(file, options));\n/** @internal */\nconst urlParams = (body, options) => new ServerResponseImpl(options?.status ?? 200, options?.statusText, options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.text(_UrlParams_js__WEBPACK_IMPORTED_MODULE_9__.toString(_UrlParams_js__WEBPACK_IMPORTED_MODULE_9__.fromInput(body)), \"application/x-www-form-urlencoded\"));\n/** @internal */\nconst raw = (body, options) => new ServerResponseImpl(options?.status ?? 200, options?.statusText, options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.raw(body));\n/** @internal */\nconst formData = (body, options) => new ServerResponseImpl(options?.status ?? 200, options?.statusText, options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.formData(body));\n/** @internal */\nconst stream = (body, options) => {\n  const headers = options?.headers ? _Headers_js__WEBPACK_IMPORTED_MODULE_3__.fromInput(options.headers) : _Headers_js__WEBPACK_IMPORTED_MODULE_3__.empty;\n  return new ServerResponseImpl(options?.status ?? 200, options?.statusText, headers, options?.cookies ?? _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.empty, _httpBody_js__WEBPACK_IMPORTED_MODULE_5__.stream(body, getContentType(options, headers), options?.contentLength));\n};\n/** @internal */\nconst getContentType = (options, headers) => {\n  if (options?.contentType) {\n    return options.contentType;\n  } else if (options?.headers) {\n    return headers[\"content-type\"];\n  } else {\n    return;\n  }\n};\n/** @internal */\nconst setHeader = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(3, (self, key, value) => new ServerResponseImpl(self.status, self.statusText, _Headers_js__WEBPACK_IMPORTED_MODULE_3__.set(self.headers, key, value), self.cookies, self.body));\n/** @internal */\nconst replaceCookies = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, cookies) => new ServerResponseImpl(self.status, self.statusText, self.headers, cookies, self.body));\n/** @internal */\nconst setCookie = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(args => isServerResponse(args[0]), (self, name, value, options) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(_Cookies_js__WEBPACK_IMPORTED_MODULE_4__.set(self.cookies, name, value, options), cookies => new ServerResponseImpl(self.status, self.statusText, self.headers, cookies, self.body)));\n/** @internal */\nconst unsafeSetCookie = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(args => isServerResponse(args[0]), (self, name, value, options) => new ServerResponseImpl(self.status, self.statusText, self.headers, _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.unsafeSet(self.cookies, name, value, options), self.body));\n/** @internal */\nconst updateCookies = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, f) => new ServerResponseImpl(self.status, self.statusText, self.headers, f(self.cookies), self.body));\n/** @internal */\nconst setCookies = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, cookies) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(_Cookies_js__WEBPACK_IMPORTED_MODULE_4__.setAll(self.cookies, cookies), cookies => new ServerResponseImpl(self.status, self.statusText, self.headers, cookies, self.body)));\n/** @internal */\nconst mergeCookies = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, cookies) => new ServerResponseImpl(self.status, self.statusText, self.headers, _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.merge(self.cookies, cookies), self.body));\n/** @internal */\nconst unsafeSetCookies = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, cookies) => new ServerResponseImpl(self.status, self.statusText, self.headers, _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.unsafeSetAll(self.cookies, cookies), self.body));\n/** @internal */\nconst removeCookie = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, name) => new ServerResponseImpl(self.status, self.statusText, self.headers, _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.remove(self.cookies, name), self.body));\n/** @internal */\nconst setHeaders = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, input) => new ServerResponseImpl(self.status, self.statusText, _Headers_js__WEBPACK_IMPORTED_MODULE_3__.setAll(self.headers, input), self.cookies, self.body));\n/** @internal */\nconst setStatus = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(args => isServerResponse(args[0]), (self, status, statusText) => new ServerResponseImpl(status, statusText, self.headers, self.cookies, self.body));\n/** @internal */\nconst setBody = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_10__.dual)(2, (self, body) => {\n  let headers = self.headers;\n  if (body._tag === \"Empty\") {\n    headers = _Headers_js__WEBPACK_IMPORTED_MODULE_3__.remove(_Headers_js__WEBPACK_IMPORTED_MODULE_3__.remove(headers, \"Content-Type\"), \"Content-length\");\n  }\n  return new ServerResponseImpl(self.status, self.statusText, headers, self.cookies, body);\n});\n/** @internal */\nconst toWeb = (response, options) => {\n  const headers = new globalThis.Headers(response.headers);\n  if (!_Cookies_js__WEBPACK_IMPORTED_MODULE_4__.isEmpty(response.cookies)) {\n    const toAdd = _Cookies_js__WEBPACK_IMPORTED_MODULE_4__.toSetCookieHeaders(response.cookies);\n    for (const header of toAdd) {\n      headers.append(\"set-cookie\", header);\n    }\n  }\n  if (options?.withoutBody) {\n    return new Response(undefined, {\n      status: response.status,\n      statusText: response.statusText,\n      headers\n    });\n  }\n  const body = response.body;\n  switch (body._tag) {\n    case \"Empty\":\n      {\n        return new Response(undefined, {\n          status: response.status,\n          statusText: response.statusText,\n          headers\n        });\n      }\n    case \"Uint8Array\":\n    case \"Raw\":\n      {\n        return new Response(body.body, {\n          status: response.status,\n          statusText: response.statusText,\n          headers\n        });\n      }\n    case \"FormData\":\n      {\n        return new Response(body.formData, {\n          status: response.status,\n          statusText: response.statusText,\n          headers\n        });\n      }\n    case \"Stream\":\n      {\n        return new Response(effect_Stream__WEBPACK_IMPORTED_MODULE_7__.toReadableStreamRuntime(body.stream, options?.runtime ?? effect_Runtime__WEBPACK_IMPORTED_MODULE_11__.defaultRuntime), {\n          status: response.status,\n          statusText: response.statusText,\n          headers\n        });\n      }\n  }\n};\n//# sourceMappingURL=httpServerResponse.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvaHR0cFNlcnZlclJlc3BvbnNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEM7QUFDRjtBQUNRO0FBQ1Q7QUFDVztBQUNSO0FBQ0Y7QUFDQztBQUNBO0FBQ0U7QUFDRTtBQUNDO0FBQzlDO0FBQ087QUFDUDtBQUNBLGlDQUFpQyw4REFBMEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrREFBYztBQUN6QjtBQUNBO0FBQ0EsV0FBVyxrREFBYztBQUN6QjtBQUNBLEdBQUcsaUVBQTZCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0RBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0RBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDTyxnSEFBZ0gsa0RBQWlCLG9CQUFvQiw4Q0FBYSxzQkFBc0IsOENBQWEsRUFBRSwrQ0FBa0I7QUFDaE87QUFDTztBQUNQLGtCQUFrQix5REFBd0I7QUFDMUM7QUFDQSxHQUFHO0FBQ0gsZ0dBQWdHLDhDQUFhLFVBQVUsa0RBQWlCLGtEQUFrRCw4Q0FBYSxFQUFFLCtDQUFrQjtBQUMzTjtBQUNBO0FBQ087QUFDUCxxQ0FBcUMsa0RBQWlCLG9CQUFvQiw4Q0FBYTtBQUN2RiwwR0FBMEcsOENBQWEsRUFBRSxvREFBdUI7QUFDaEo7QUFDQTtBQUNPO0FBQ1AscUNBQXFDLGtEQUFpQixvQkFBb0IsOENBQWE7QUFDdkYsMEdBQTBHLDhDQUFhLEVBQUUsOENBQWlCO0FBQzFJO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFNBQVMsOENBQVUsQ0FBQyw4Q0FBYTtBQUNqQztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ08seUNBQXlDLDhDQUFVLENBQUMsa0RBQWMsc0JBQXNCLHlEQUFxQixDQUFDLHFEQUFpQixDQUFDLGdEQUFlO0FBQ3RKO0FBQ0EsQ0FBQztBQUNEO0FBQ08sZ0NBQWdDLDhDQUFVLENBQUMsOENBQWlCLHVHQUF1RyxrREFBaUIsb0JBQW9CLDhDQUFhLHNCQUFzQiw4Q0FBYTtBQUMvUDtBQUNPLDZIQUE2SCxrREFBaUIsb0JBQW9CLDhDQUFhLHNCQUFzQiw4Q0FBYSxFQUFFLG9EQUF1QjtBQUNsUDtBQUNPO0FBQ1AsaUJBQWlCLG9EQUF1QjtBQUN4Qyw0QkFBNEIsOENBQVUsOEdBQThHLGtEQUFpQixvQkFBb0IsOENBQWEsc0JBQXNCLDhDQUFhO0FBQ3pPO0FBQ0Esa0NBQWtDLHNEQUFrQjtBQUNwRDtBQUNPLGdDQUFnQyxrREFBYztBQUNyRDtBQUNPLG1DQUFtQyxrREFBYztBQUN4RDtBQUNPLDRIQUE0SCxrREFBaUIsb0JBQW9CLDhDQUFhLHNCQUFzQiw4Q0FBYSxFQUFFLDhDQUFpQixDQUFDLG1EQUFrQixDQUFDLG9EQUFtQjtBQUNsUjtBQUNPLHNIQUFzSCxrREFBaUIsb0JBQW9CLDhDQUFhLHNCQUFzQiw4Q0FBYSxFQUFFLDZDQUFnQjtBQUNwTztBQUNPLDJIQUEySCxrREFBaUIsb0JBQW9CLDhDQUFhLHNCQUFzQiw4Q0FBYSxFQUFFLGtEQUFxQjtBQUM5TztBQUNPO0FBQ1AscUNBQXFDLGtEQUFpQixvQkFBb0IsOENBQWE7QUFDdkYsMEdBQTBHLDhDQUFhLEVBQUUsZ0RBQW1CO0FBQzVJO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDTywrQkFBK0Isc0RBQUksK0VBQStFLDRDQUFXO0FBQ3BJO0FBQ08sb0NBQW9DLHNEQUFJO0FBQy9DO0FBQ08sK0JBQStCLHNEQUFJLG9FQUFvRSw4Q0FBVSxDQUFDLDRDQUFXO0FBQ3BJO0FBQ08scUNBQXFDLHNEQUFJLHVJQUF1SSxrREFBaUI7QUFDeE07QUFDTyxtQ0FBbUMsc0RBQUk7QUFDOUM7QUFDTyxnQ0FBZ0Msc0RBQUksdUJBQXVCLDhDQUFVLENBQUMsK0NBQWM7QUFDM0Y7QUFDTyxrQ0FBa0Msc0RBQUksMEZBQTBGLDhDQUFhO0FBQ3BKO0FBQ08sc0NBQXNDLHNEQUFJLDBGQUEwRixxREFBb0I7QUFDL0o7QUFDTyxrQ0FBa0Msc0RBQUksdUZBQXVGLCtDQUFjO0FBQ2xKO0FBQ08sZ0NBQWdDLHNEQUFJLDBFQUEwRSwrQ0FBYztBQUNuSTtBQUNPLCtCQUErQixzREFBSTtBQUMxQztBQUNPLDZCQUE2QixzREFBSTtBQUN4QztBQUNBO0FBQ0EsY0FBYywrQ0FBYyxDQUFDLCtDQUFjO0FBQzNDO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0EsT0FBTyxnREFBZTtBQUN0QixrQkFBa0IsMkRBQTBCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0VBQThCLGtDQUFrQywyREFBc0I7QUFDbEg7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL2ludGVybmFsL2h0dHBTZXJ2ZXJSZXNwb25zZS5qcz85ZDBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbnRleHQgZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIEVmZmVjdGFibGUgZnJvbSBcImVmZmVjdC9FZmZlY3RhYmxlXCI7XG5pbXBvcnQgeyBkdWFsIH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0ICogYXMgSW5zcGVjdGFibGUgZnJvbSBcImVmZmVjdC9JbnNwZWN0YWJsZVwiO1xuaW1wb3J0ICogYXMgUnVudGltZSBmcm9tIFwiZWZmZWN0L1J1bnRpbWVcIjtcbmltcG9ydCAqIGFzIFN0cmVhbSBmcm9tIFwiZWZmZWN0L1N0cmVhbVwiO1xuaW1wb3J0ICogYXMgQ29va2llcyBmcm9tIFwiLi4vQ29va2llcy5qc1wiO1xuaW1wb3J0ICogYXMgSGVhZGVycyBmcm9tIFwiLi4vSGVhZGVycy5qc1wiO1xuaW1wb3J0ICogYXMgVGVtcGxhdGUgZnJvbSBcIi4uL1RlbXBsYXRlLmpzXCI7XG5pbXBvcnQgKiBhcyBVcmxQYXJhbXMgZnJvbSBcIi4uL1VybFBhcmFtcy5qc1wiO1xuaW1wb3J0ICogYXMgaW50ZXJuYWxCb2R5IGZyb20gXCIuL2h0dHBCb2R5LmpzXCI7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBTZXJ2ZXJSZXNwb25zZVwiKTtcbmNvbnN0IHJlc3BvbmRhYmxlU3ltYm9sID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBTZXJ2ZXJSZXNwb25kYWJsZVwiKTtcbmNsYXNzIFNlcnZlclJlc3BvbnNlSW1wbCBleHRlbmRzIEVmZmVjdGFibGUuU3RydWN0dXJhbENsYXNzIHtcbiAgc3RhdHVzO1xuICBzdGF0dXNUZXh0O1xuICBjb29raWVzO1xuICBib2R5O1xuICBbVHlwZUlkXTtcbiAgaGVhZGVycztcbiAgY29uc3RydWN0b3Ioc3RhdHVzLCBzdGF0dXNUZXh0LCBoZWFkZXJzLCBjb29raWVzLCBib2R5KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0O1xuICAgIHRoaXMuY29va2llcyA9IGNvb2tpZXM7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB0aGlzW1R5cGVJZF0gPSBUeXBlSWQ7XG4gICAgaWYgKGJvZHkuY29udGVudFR5cGUgfHwgYm9keS5jb250ZW50TGVuZ3RoKSB7XG4gICAgICBjb25zdCBuZXdIZWFkZXJzID0ge1xuICAgICAgICAuLi5oZWFkZXJzXG4gICAgICB9O1xuICAgICAgaWYgKGJvZHkuY29udGVudFR5cGUpIHtcbiAgICAgICAgbmV3SGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSA9IGJvZHkuY29udGVudFR5cGU7XG4gICAgICB9XG4gICAgICBpZiAoYm9keS5jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgIG5ld0hlYWRlcnNbXCJjb250ZW50LWxlbmd0aFwiXSA9IGJvZHkuY29udGVudExlbmd0aC50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3SGVhZGVycztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICB9XG4gIH1cbiAgY29tbWl0KCkge1xuICAgIHJldHVybiBFZmZlY3Quc3VjY2VlZCh0aGlzKTtcbiAgfVxuICBbcmVzcG9uZGFibGVTeW1ib2xdKCkge1xuICAgIHJldHVybiBFZmZlY3Quc3VjY2VlZCh0aGlzKTtcbiAgfVxuICBbSW5zcGVjdGFibGUuTm9kZUluc3BlY3RTeW1ib2xdKCkge1xuICAgIHJldHVybiB0aGlzLnRvSlNPTigpO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBJbnNwZWN0YWJsZS5mb3JtYXQodGhpcyk7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfaWQ6IFwiQGVmZmVjdC9wbGF0Zm9ybS9IdHRwU2VydmVyUmVzcG9uc2VcIixcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBJbnNwZWN0YWJsZS5yZWRhY3QodGhpcy5oZWFkZXJzKSxcbiAgICAgIGNvb2tpZXM6IHRoaXMuY29va2llcy50b0pTT04oKSxcbiAgICAgIGJvZHk6IHRoaXMuYm9keS50b0pTT04oKVxuICAgIH07XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBpc1NlcnZlclJlc3BvbnNlID0gdSA9PiB0eXBlb2YgdSA9PT0gXCJvYmplY3RcIiAmJiB1ICE9PSBudWxsICYmIFR5cGVJZCBpbiB1O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGVtcHR5ID0gb3B0aW9ucyA9PiBuZXcgU2VydmVyUmVzcG9uc2VJbXBsKG9wdGlvbnM/LnN0YXR1cyA/PyAyMDQsIG9wdGlvbnM/LnN0YXR1c1RleHQsIG9wdGlvbnM/LmhlYWRlcnMgPyBIZWFkZXJzLmZyb21JbnB1dChvcHRpb25zLmhlYWRlcnMpIDogSGVhZGVycy5lbXB0eSwgb3B0aW9ucz8uY29va2llcyA/PyBDb29raWVzLmVtcHR5LCBpbnRlcm5hbEJvZHkuZW1wdHkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHJlZGlyZWN0ID0gKGxvY2F0aW9uLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGhlYWRlcnMgPSBIZWFkZXJzLnVuc2FmZUZyb21SZWNvcmQoe1xuICAgIGxvY2F0aW9uOiBsb2NhdGlvbi50b1N0cmluZygpXG4gIH0pO1xuICByZXR1cm4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChvcHRpb25zPy5zdGF0dXMgPz8gMzAxLCBvcHRpb25zPy5zdGF0dXNUZXh0LCBvcHRpb25zPy5oZWFkZXJzID8gSGVhZGVycy5tZXJnZShoZWFkZXJzLCBIZWFkZXJzLmZyb21JbnB1dChvcHRpb25zLmhlYWRlcnMpKSA6IGhlYWRlcnMsIG9wdGlvbnM/LmNvb2tpZXMgPz8gQ29va2llcy5lbXB0eSwgaW50ZXJuYWxCb2R5LmVtcHR5KTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdWludDhBcnJheSA9IChib2R5LCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGhlYWRlcnMgPSBvcHRpb25zPy5oZWFkZXJzID8gSGVhZGVycy5mcm9tSW5wdXQob3B0aW9ucy5oZWFkZXJzKSA6IEhlYWRlcnMuZW1wdHk7XG4gIHJldHVybiBuZXcgU2VydmVyUmVzcG9uc2VJbXBsKG9wdGlvbnM/LnN0YXR1cyA/PyAyMDAsIG9wdGlvbnM/LnN0YXR1c1RleHQsIGhlYWRlcnMsIG9wdGlvbnM/LmNvb2tpZXMgPz8gQ29va2llcy5lbXB0eSwgaW50ZXJuYWxCb2R5LnVpbnQ4QXJyYXkoYm9keSwgZ2V0Q29udGVudFR5cGUob3B0aW9ucywgaGVhZGVycykpKTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdGV4dCA9IChib2R5LCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGhlYWRlcnMgPSBvcHRpb25zPy5oZWFkZXJzID8gSGVhZGVycy5mcm9tSW5wdXQob3B0aW9ucy5oZWFkZXJzKSA6IEhlYWRlcnMuZW1wdHk7XG4gIHJldHVybiBuZXcgU2VydmVyUmVzcG9uc2VJbXBsKG9wdGlvbnM/LnN0YXR1cyA/PyAyMDAsIG9wdGlvbnM/LnN0YXR1c1RleHQsIGhlYWRlcnMsIG9wdGlvbnM/LmNvb2tpZXMgPz8gQ29va2llcy5lbXB0eSwgaW50ZXJuYWxCb2R5LnRleHQoYm9keSwgZ2V0Q29udGVudFR5cGUob3B0aW9ucywgaGVhZGVycykpKTtcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaHRtbCA9IChzdHJpbmdzLCAuLi5hcmdzKSA9PiB7XG4gIGlmICh0eXBlb2Ygc3RyaW5ncyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB0ZXh0KHN0cmluZ3MsIHtcbiAgICAgIGNvbnRlbnRUeXBlOiBcInRleHQvaHRtbFwiXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIEVmZmVjdC5tYXAoVGVtcGxhdGUubWFrZShzdHJpbmdzLCAuLi5hcmdzKSwgXyA9PiB0ZXh0KF8sIHtcbiAgICBjb250ZW50VHlwZTogXCJ0ZXh0L2h0bWxcIlxuICB9KSk7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGh0bWxTdHJlYW0gPSAoc3RyaW5ncywgLi4uYXJncykgPT4gRWZmZWN0Lm1hcChFZmZlY3QuY29udGV4dCgpLCBjb250ZXh0ID0+IHN0cmVhbShTdHJlYW0ucHJvdmlkZUNvbnRleHQoU3RyZWFtLmVuY29kZVRleHQoVGVtcGxhdGUuc3RyZWFtKHN0cmluZ3MsIC4uLmFyZ3MpKSwgY29udGV4dCksIHtcbiAgY29udGVudFR5cGU6IFwidGV4dC9odG1sXCJcbn0pKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBqc29uID0gKGJvZHksIG9wdGlvbnMpID0+IEVmZmVjdC5tYXAoaW50ZXJuYWxCb2R5Lmpzb24oYm9keSksIGJvZHkgPT4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChvcHRpb25zPy5zdGF0dXMgPz8gMjAwLCBvcHRpb25zPy5zdGF0dXNUZXh0LCBvcHRpb25zPy5oZWFkZXJzID8gSGVhZGVycy5mcm9tSW5wdXQob3B0aW9ucy5oZWFkZXJzKSA6IEhlYWRlcnMuZW1wdHksIG9wdGlvbnM/LmNvb2tpZXMgPz8gQ29va2llcy5lbXB0eSwgYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZUpzb24gPSAoYm9keSwgb3B0aW9ucykgPT4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChvcHRpb25zPy5zdGF0dXMgPz8gMjAwLCBvcHRpb25zPy5zdGF0dXNUZXh0LCBvcHRpb25zPy5oZWFkZXJzID8gSGVhZGVycy5mcm9tSW5wdXQob3B0aW9ucy5oZWFkZXJzKSA6IEhlYWRlcnMuZW1wdHksIG9wdGlvbnM/LmNvb2tpZXMgPz8gQ29va2llcy5lbXB0eSwgaW50ZXJuYWxCb2R5LnVuc2FmZUpzb24oYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUpzb24gPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGVuY29kZSA9IGludGVybmFsQm9keS5qc29uU2NoZW1hKHNjaGVtYSwgb3B0aW9ucyk7XG4gIHJldHVybiAoYm9keSwgb3B0aW9ucykgPT4gRWZmZWN0Lm1hcChlbmNvZGUoYm9keSksIGJvZHkgPT4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChvcHRpb25zPy5zdGF0dXMgPz8gMjAwLCBvcHRpb25zPy5zdGF0dXNUZXh0LCBvcHRpb25zPy5oZWFkZXJzID8gSGVhZGVycy5mcm9tSW5wdXQob3B0aW9ucy5oZWFkZXJzKSA6IEhlYWRlcnMuZW1wdHksIG9wdGlvbnM/LmNvb2tpZXMgPz8gQ29va2llcy5lbXB0eSwgYm9keSkpO1xufTtcbmNvbnN0IGh0dHBQbGF0Zm9ybSA9IC8qI19fUFVSRV9fKi9Db250ZXh0LkdlbmVyaWNUYWcoXCJAZWZmZWN0L3BsYXRmb3JtL0h0dHBQbGF0Zm9ybVwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmaWxlID0gKHBhdGgsIG9wdGlvbnMpID0+IEVmZmVjdC5mbGF0TWFwKGh0dHBQbGF0Zm9ybSwgcGxhdGZvcm0gPT4gcGxhdGZvcm0uZmlsZVJlc3BvbnNlKHBhdGgsIG9wdGlvbnMpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBmaWxlV2ViID0gKGZpbGUsIG9wdGlvbnMpID0+IEVmZmVjdC5mbGF0TWFwKGh0dHBQbGF0Zm9ybSwgcGxhdGZvcm0gPT4gcGxhdGZvcm0uZmlsZVdlYlJlc3BvbnNlKGZpbGUsIG9wdGlvbnMpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB1cmxQYXJhbXMgPSAoYm9keSwgb3B0aW9ucykgPT4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChvcHRpb25zPy5zdGF0dXMgPz8gMjAwLCBvcHRpb25zPy5zdGF0dXNUZXh0LCBvcHRpb25zPy5oZWFkZXJzID8gSGVhZGVycy5mcm9tSW5wdXQob3B0aW9ucy5oZWFkZXJzKSA6IEhlYWRlcnMuZW1wdHksIG9wdGlvbnM/LmNvb2tpZXMgPz8gQ29va2llcy5lbXB0eSwgaW50ZXJuYWxCb2R5LnRleHQoVXJsUGFyYW1zLnRvU3RyaW5nKFVybFBhcmFtcy5mcm9tSW5wdXQoYm9keSkpLCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcmF3ID0gKGJvZHksIG9wdGlvbnMpID0+IG5ldyBTZXJ2ZXJSZXNwb25zZUltcGwob3B0aW9ucz8uc3RhdHVzID8/IDIwMCwgb3B0aW9ucz8uc3RhdHVzVGV4dCwgb3B0aW9ucz8uaGVhZGVycyA/IEhlYWRlcnMuZnJvbUlucHV0KG9wdGlvbnMuaGVhZGVycykgOiBIZWFkZXJzLmVtcHR5LCBvcHRpb25zPy5jb29raWVzID8/IENvb2tpZXMuZW1wdHksIGludGVybmFsQm9keS5yYXcoYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGZvcm1EYXRhID0gKGJvZHksIG9wdGlvbnMpID0+IG5ldyBTZXJ2ZXJSZXNwb25zZUltcGwob3B0aW9ucz8uc3RhdHVzID8/IDIwMCwgb3B0aW9ucz8uc3RhdHVzVGV4dCwgb3B0aW9ucz8uaGVhZGVycyA/IEhlYWRlcnMuZnJvbUlucHV0KG9wdGlvbnMuaGVhZGVycykgOiBIZWFkZXJzLmVtcHR5LCBvcHRpb25zPy5jb29raWVzID8/IENvb2tpZXMuZW1wdHksIGludGVybmFsQm9keS5mb3JtRGF0YShib2R5KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc3RyZWFtID0gKGJvZHksIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgaGVhZGVycyA9IG9wdGlvbnM/LmhlYWRlcnMgPyBIZWFkZXJzLmZyb21JbnB1dChvcHRpb25zLmhlYWRlcnMpIDogSGVhZGVycy5lbXB0eTtcbiAgcmV0dXJuIG5ldyBTZXJ2ZXJSZXNwb25zZUltcGwob3B0aW9ucz8uc3RhdHVzID8/IDIwMCwgb3B0aW9ucz8uc3RhdHVzVGV4dCwgaGVhZGVycywgb3B0aW9ucz8uY29va2llcyA/PyBDb29raWVzLmVtcHR5LCBpbnRlcm5hbEJvZHkuc3RyZWFtKGJvZHksIGdldENvbnRlbnRUeXBlKG9wdGlvbnMsIGhlYWRlcnMpLCBvcHRpb25zPy5jb250ZW50TGVuZ3RoKSk7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGdldENvbnRlbnRUeXBlID0gKG9wdGlvbnMsIGhlYWRlcnMpID0+IHtcbiAgaWYgKG9wdGlvbnM/LmNvbnRlbnRUeXBlKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuY29udGVudFR5cGU7XG4gIH0gZWxzZSBpZiAob3B0aW9ucz8uaGVhZGVycykge1xuICAgIHJldHVybiBoZWFkZXJzW1wiY29udGVudC10eXBlXCJdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybjtcbiAgfVxufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXRIZWFkZXIgPSAvKiNfX1BVUkVfXyovZHVhbCgzLCAoc2VsZiwga2V5LCB2YWx1ZSkgPT4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChzZWxmLnN0YXR1cywgc2VsZi5zdGF0dXNUZXh0LCBIZWFkZXJzLnNldChzZWxmLmhlYWRlcnMsIGtleSwgdmFsdWUpLCBzZWxmLmNvb2tpZXMsIHNlbGYuYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHJlcGxhY2VDb29raWVzID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGNvb2tpZXMpID0+IG5ldyBTZXJ2ZXJSZXNwb25zZUltcGwoc2VsZi5zdGF0dXMsIHNlbGYuc3RhdHVzVGV4dCwgc2VsZi5oZWFkZXJzLCBjb29raWVzLCBzZWxmLmJvZHkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXRDb29raWUgPSAvKiNfX1BVUkVfXyovZHVhbChhcmdzID0+IGlzU2VydmVyUmVzcG9uc2UoYXJnc1swXSksIChzZWxmLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucykgPT4gRWZmZWN0Lm1hcChDb29raWVzLnNldChzZWxmLmNvb2tpZXMsIG5hbWUsIHZhbHVlLCBvcHRpb25zKSwgY29va2llcyA9PiBuZXcgU2VydmVyUmVzcG9uc2VJbXBsKHNlbGYuc3RhdHVzLCBzZWxmLnN0YXR1c1RleHQsIHNlbGYuaGVhZGVycywgY29va2llcywgc2VsZi5ib2R5KSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZVNldENvb2tpZSA9IC8qI19fUFVSRV9fKi9kdWFsKGFyZ3MgPT4gaXNTZXJ2ZXJSZXNwb25zZShhcmdzWzBdKSwgKHNlbGYsIG5hbWUsIHZhbHVlLCBvcHRpb25zKSA9PiBuZXcgU2VydmVyUmVzcG9uc2VJbXBsKHNlbGYuc3RhdHVzLCBzZWxmLnN0YXR1c1RleHQsIHNlbGYuaGVhZGVycywgQ29va2llcy51bnNhZmVTZXQoc2VsZi5jb29raWVzLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucyksIHNlbGYuYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUNvb2tpZXMgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgZikgPT4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChzZWxmLnN0YXR1cywgc2VsZi5zdGF0dXNUZXh0LCBzZWxmLmhlYWRlcnMsIGYoc2VsZi5jb29raWVzKSwgc2VsZi5ib2R5KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgc2V0Q29va2llcyA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBjb29raWVzKSA9PiBFZmZlY3QubWFwKENvb2tpZXMuc2V0QWxsKHNlbGYuY29va2llcywgY29va2llcyksIGNvb2tpZXMgPT4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChzZWxmLnN0YXR1cywgc2VsZi5zdGF0dXNUZXh0LCBzZWxmLmhlYWRlcnMsIGNvb2tpZXMsIHNlbGYuYm9keSkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBtZXJnZUNvb2tpZXMgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoc2VsZiwgY29va2llcykgPT4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChzZWxmLnN0YXR1cywgc2VsZi5zdGF0dXNUZXh0LCBzZWxmLmhlYWRlcnMsIENvb2tpZXMubWVyZ2Uoc2VsZi5jb29raWVzLCBjb29raWVzKSwgc2VsZi5ib2R5KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdW5zYWZlU2V0Q29va2llcyA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChzZWxmLCBjb29raWVzKSA9PiBuZXcgU2VydmVyUmVzcG9uc2VJbXBsKHNlbGYuc3RhdHVzLCBzZWxmLnN0YXR1c1RleHQsIHNlbGYuaGVhZGVycywgQ29va2llcy51bnNhZmVTZXRBbGwoc2VsZi5jb29raWVzLCBjb29raWVzKSwgc2VsZi5ib2R5KSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcmVtb3ZlQ29va2llID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIG5hbWUpID0+IG5ldyBTZXJ2ZXJSZXNwb25zZUltcGwoc2VsZi5zdGF0dXMsIHNlbGYuc3RhdHVzVGV4dCwgc2VsZi5oZWFkZXJzLCBDb29raWVzLnJlbW92ZShzZWxmLmNvb2tpZXMsIG5hbWUpLCBzZWxmLmJvZHkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXRIZWFkZXJzID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGlucHV0KSA9PiBuZXcgU2VydmVyUmVzcG9uc2VJbXBsKHNlbGYuc3RhdHVzLCBzZWxmLnN0YXR1c1RleHQsIEhlYWRlcnMuc2V0QWxsKHNlbGYuaGVhZGVycywgaW5wdXQpLCBzZWxmLmNvb2tpZXMsIHNlbGYuYm9keSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNldFN0YXR1cyA9IC8qI19fUFVSRV9fKi9kdWFsKGFyZ3MgPT4gaXNTZXJ2ZXJSZXNwb25zZShhcmdzWzBdKSwgKHNlbGYsIHN0YXR1cywgc3RhdHVzVGV4dCkgPT4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChzdGF0dXMsIHN0YXR1c1RleHQsIHNlbGYuaGVhZGVycywgc2VsZi5jb29raWVzLCBzZWxmLmJvZHkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXRCb2R5ID0gLyojX19QVVJFX18qL2R1YWwoMiwgKHNlbGYsIGJvZHkpID0+IHtcbiAgbGV0IGhlYWRlcnMgPSBzZWxmLmhlYWRlcnM7XG4gIGlmIChib2R5Ll90YWcgPT09IFwiRW1wdHlcIikge1xuICAgIGhlYWRlcnMgPSBIZWFkZXJzLnJlbW92ZShIZWFkZXJzLnJlbW92ZShoZWFkZXJzLCBcIkNvbnRlbnQtVHlwZVwiKSwgXCJDb250ZW50LWxlbmd0aFwiKTtcbiAgfVxuICByZXR1cm4gbmV3IFNlcnZlclJlc3BvbnNlSW1wbChzZWxmLnN0YXR1cywgc2VsZi5zdGF0dXNUZXh0LCBoZWFkZXJzLCBzZWxmLmNvb2tpZXMsIGJvZHkpO1xufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdG9XZWIgPSAocmVzcG9uc2UsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgaGVhZGVycyA9IG5ldyBnbG9iYWxUaGlzLkhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gIGlmICghQ29va2llcy5pc0VtcHR5KHJlc3BvbnNlLmNvb2tpZXMpKSB7XG4gICAgY29uc3QgdG9BZGQgPSBDb29raWVzLnRvU2V0Q29va2llSGVhZGVycyhyZXNwb25zZS5jb29raWVzKTtcbiAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiB0b0FkZCkge1xuICAgICAgaGVhZGVycy5hcHBlbmQoXCJzZXQtY29va2llXCIsIGhlYWRlcik7XG4gICAgfVxuICB9XG4gIGlmIChvcHRpb25zPy53aXRob3V0Qm9keSkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodW5kZWZpbmVkLCB7XG4gICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzXG4gICAgfSk7XG4gIH1cbiAgY29uc3QgYm9keSA9IHJlc3BvbnNlLmJvZHk7XG4gIHN3aXRjaCAoYm9keS5fdGFnKSB7XG4gICAgY2FzZSBcIkVtcHR5XCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UodW5kZWZpbmVkLCB7XG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIGNhc2UgXCJVaW50OEFycmF5XCI6XG4gICAgY2FzZSBcIlJhd1wiOlxuICAgICAge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGJvZHkuYm9keSwge1xuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICBjYXNlIFwiRm9ybURhdGFcIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShib2R5LmZvcm1EYXRhLCB7XG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIGNhc2UgXCJTdHJlYW1cIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShTdHJlYW0udG9SZWFkYWJsZVN0cmVhbVJ1bnRpbWUoYm9keS5zdHJlYW0sIG9wdGlvbnM/LnJ1bnRpbWUgPz8gUnVudGltZS5kZWZhdWx0UnVudGltZSksIHtcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwU2VydmVyUmVzcG9uc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/httpServerResponse.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/multipart.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/multipart.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorTypeId: () => (/* binding */ ErrorTypeId),\n/* harmony export */   FileSchema: () => (/* binding */ FileSchema),\n/* harmony export */   FilesSchema: () => (/* binding */ FilesSchema),\n/* harmony export */   MultipartError: () => (/* binding */ MultipartError),\n/* harmony export */   SingleFileSchema: () => (/* binding */ SingleFileSchema),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   fieldMimeTypes: () => (/* binding */ fieldMimeTypes),\n/* harmony export */   isField: () => (/* binding */ isField),\n/* harmony export */   isFile: () => (/* binding */ isFile),\n/* harmony export */   isPart: () => (/* binding */ isPart),\n/* harmony export */   isPersistedFile: () => (/* binding */ isPersistedFile),\n/* harmony export */   makeChannel: () => (/* binding */ makeChannel),\n/* harmony export */   makeConfig: () => (/* binding */ makeConfig),\n/* harmony export */   maxFieldSize: () => (/* binding */ maxFieldSize),\n/* harmony export */   maxFileSize: () => (/* binding */ maxFileSize),\n/* harmony export */   maxParts: () => (/* binding */ maxParts),\n/* harmony export */   schemaJson: () => (/* binding */ schemaJson),\n/* harmony export */   schemaPersisted: () => (/* binding */ schemaPersisted),\n/* harmony export */   toPersisted: () => (/* binding */ toPersisted),\n/* harmony export */   withFieldMimeTypes: () => (/* binding */ withFieldMimeTypes),\n/* harmony export */   withMaxFieldSize: () => (/* binding */ withMaxFieldSize),\n/* harmony export */   withMaxFileSize: () => (/* binding */ withMaxFileSize),\n/* harmony export */   withMaxParts: () => (/* binding */ withMaxParts)\n/* harmony export */ });\n/* harmony import */ var effect_Channel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! effect/Channel */ \"(rsc)/../../node_modules/effect/dist/esm/Channel.js\");\n/* harmony import */ var effect_Chunk__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Chunk */ \"(rsc)/../../node_modules/effect/dist/esm/Chunk.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Exit__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! effect/Exit */ \"(rsc)/../../node_modules/effect/dist/esm/Exit.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Inspectable__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effect/Inspectable */ \"(rsc)/../../node_modules/effect/dist/esm/Inspectable.js\");\n/* harmony import */ var effect_Mailbox__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! effect/Mailbox */ \"(rsc)/../../node_modules/effect/dist/esm/Mailbox.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var multipasta__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! multipasta */ \"(rsc)/../../node_modules/multipasta/dist/esm/index.js\");\n/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Error.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js\");\n/* harmony import */ var _FileSystem_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../FileSystem.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/FileSystem.js\");\n/* harmony import */ var _HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../HttpIncomingMessage.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/HttpIncomingMessage.js\");\n/* harmony import */ var _Path_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Path.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Path.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Multipart\");\n/** @internal */\nconst isPart = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, TypeId);\n/** @internal */\nconst isField = u => isPart(u) && u._tag === \"Field\";\n/** @internal */\nconst isFile = u => isPart(u) && u._tag === \"File\";\n/** @internal */\nconst isPersistedFile = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.hasProperty(u, TypeId) && effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isTagged(u, \"PersistedFile\");\n/** @internal */\nconst ErrorTypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Multipart/MultipartError\");\n/** @internal */\nclass MultipartError extends /*#__PURE__*/(0,_Error_js__WEBPACK_IMPORTED_MODULE_1__.TypeIdError)(ErrorTypeId, \"MultipartError\") {\n  get message() {\n    return this.reason;\n  }\n}\n/** @internal */\nconst maxParts = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_2__.globalValue)(\"@effect/platform/Multipart/maxParts\", () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_3__.unsafeMake(effect_Option__WEBPACK_IMPORTED_MODULE_4__.none()));\n/** @internal */\nconst withMaxParts = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (effect, count) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.locally(effect, maxParts, count));\n/** @internal */\nconst maxFieldSize = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_2__.globalValue)(\"@effect/platform/Multipart/maxFieldSize\", () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_3__.unsafeMake(_FileSystem_js__WEBPACK_IMPORTED_MODULE_7__.Size(10 * 1024 * 1024)));\n/** @internal */\nconst withMaxFieldSize = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (effect, size) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.locally(effect, maxFieldSize, _FileSystem_js__WEBPACK_IMPORTED_MODULE_7__.Size(size)));\n/** @internal */\nconst maxFileSize = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_2__.globalValue)(\"@effect/platform/Multipart/maxFileSize\", () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_3__.unsafeMake(effect_Option__WEBPACK_IMPORTED_MODULE_4__.none()));\n/** @internal */\nconst withMaxFileSize = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (effect, size) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.locally(effect, maxFileSize, effect_Option__WEBPACK_IMPORTED_MODULE_4__.map(size, _FileSystem_js__WEBPACK_IMPORTED_MODULE_7__.Size)));\n/** @internal */\nconst fieldMimeTypes = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_2__.globalValue)(\"@effect/platform/Multipart/fieldMimeTypes\", () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_3__.unsafeMake(effect_Chunk__WEBPACK_IMPORTED_MODULE_8__.make(\"application/json\")));\n/** @internal */\nconst withFieldMimeTypes = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (effect, mimeTypes) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.locally(effect, fieldMimeTypes, effect_Chunk__WEBPACK_IMPORTED_MODULE_8__.fromIterable(mimeTypes)));\n/** @internal */\nconst FileSchema = /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_9__.declare(isPersistedFile, {\n  identifier: \"PersistedFile\",\n  jsonSchema: {\n    type: \"string\",\n    format: \"binary\"\n  }\n});\n/** @internal */\nconst FilesSchema = /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_9__.Array(FileSchema);\n/** @internal */\nconst SingleFileSchema = /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_9__.transform( /*#__PURE__*/FilesSchema.pipe( /*#__PURE__*/effect_Schema__WEBPACK_IMPORTED_MODULE_9__.itemsCount(1)), FileSchema, {\n  strict: true,\n  decode: ([file]) => file,\n  encode: file => [file]\n});\n/** @internal */\nconst schemaPersisted = (schema, options) => {\n  const parse = effect_Schema__WEBPACK_IMPORTED_MODULE_9__.decodeUnknown(schema, options);\n  return persisted => parse(persisted);\n};\n/** @internal */\nconst schemaJson = (schema, options) => {\n  const fromJson = effect_Schema__WEBPACK_IMPORTED_MODULE_9__.parseJson(schema);\n  return (0,effect_Function__WEBPACK_IMPORTED_MODULE_5__.dual)(2, (persisted, field) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.map(effect_Schema__WEBPACK_IMPORTED_MODULE_9__.decodeUnknown(effect_Schema__WEBPACK_IMPORTED_MODULE_9__.Struct({\n    [field]: fromJson\n  }), options)(persisted), _ => _[field]));\n};\n/** @internal */\nconst makeConfig = headers => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.withFiberRuntime(fiber => {\n  const mimeTypes = fiber.getFiberRef(fieldMimeTypes);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_6__.succeed({\n    headers,\n    maxParts: effect_Option__WEBPACK_IMPORTED_MODULE_4__.getOrUndefined(fiber.getFiberRef(maxParts)),\n    maxFieldSize: Number(fiber.getFiberRef(maxFieldSize)),\n    maxPartSize: fiber.getFiberRef(maxFileSize).pipe(effect_Option__WEBPACK_IMPORTED_MODULE_4__.map(Number), effect_Option__WEBPACK_IMPORTED_MODULE_4__.getOrUndefined),\n    maxTotalSize: fiber.getFiberRef(_HttpIncomingMessage_js__WEBPACK_IMPORTED_MODULE_10__.maxBodySize).pipe(effect_Option__WEBPACK_IMPORTED_MODULE_4__.map(Number), effect_Option__WEBPACK_IMPORTED_MODULE_4__.getOrUndefined),\n    isFile: mimeTypes.length === 0 ? undefined : info => !effect_Chunk__WEBPACK_IMPORTED_MODULE_8__.some(mimeTypes, _ => info.contentType.includes(_)) && multipasta__WEBPACK_IMPORTED_MODULE_11__.defaultIsFile(info)\n  });\n});\n/** @internal */\nconst makeChannel = (headers, bufferSize = 16) => effect_Channel__WEBPACK_IMPORTED_MODULE_12__.acquireUseRelease(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.all([makeConfig(headers), effect_Mailbox__WEBPACK_IMPORTED_MODULE_13__.make(bufferSize)]), ([config, mailbox]) => {\n  let partsBuffer = [];\n  let exit = effect_Option__WEBPACK_IMPORTED_MODULE_4__.none();\n  const input = {\n    awaitRead: () => effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"],\n    emit(element) {\n      return mailbox.offer(element);\n    },\n    error(cause) {\n      exit = effect_Option__WEBPACK_IMPORTED_MODULE_4__.some(effect_Exit__WEBPACK_IMPORTED_MODULE_14__.failCause(cause));\n      return mailbox.end;\n    },\n    done(_value) {\n      return mailbox.end;\n    }\n  };\n  const parser = multipasta__WEBPACK_IMPORTED_MODULE_11__.make({\n    ...config,\n    onField(info, value) {\n      partsBuffer.push(new FieldImpl(info.name, info.contentType, multipasta__WEBPACK_IMPORTED_MODULE_11__.decodeField(info, value)));\n    },\n    onFile(info) {\n      let chunks = [];\n      let finished = false;\n      const take = effect_Channel__WEBPACK_IMPORTED_MODULE_12__.suspend(() => {\n        if (chunks.length === 0) {\n          return finished ? effect_Channel__WEBPACK_IMPORTED_MODULE_12__[\"void\"] : effect_Channel__WEBPACK_IMPORTED_MODULE_12__.zipRight(pump, take);\n        }\n        const chunk = effect_Chunk__WEBPACK_IMPORTED_MODULE_8__.unsafeFromArray(chunks);\n        chunks = [];\n        return finished ? effect_Channel__WEBPACK_IMPORTED_MODULE_12__.write(chunk) : effect_Channel__WEBPACK_IMPORTED_MODULE_12__.zipRight(effect_Channel__WEBPACK_IMPORTED_MODULE_12__.write(chunk), effect_Channel__WEBPACK_IMPORTED_MODULE_12__.zipRight(pump, take));\n      });\n      partsBuffer.push(new FileImpl(info, take));\n      return function (chunk) {\n        if (chunk === null) {\n          finished = true;\n        } else {\n          chunks.push(chunk);\n        }\n      };\n    },\n    onError(error_) {\n      exit = effect_Option__WEBPACK_IMPORTED_MODULE_4__.some(effect_Exit__WEBPACK_IMPORTED_MODULE_14__.fail(convertError(error_)));\n    },\n    onDone() {\n      exit = effect_Option__WEBPACK_IMPORTED_MODULE_4__.some(effect_Exit__WEBPACK_IMPORTED_MODULE_14__[\"void\"]);\n    }\n  });\n  const pump = effect_Channel__WEBPACK_IMPORTED_MODULE_12__.flatMap(mailbox.takeAll, ([chunks, done]) => effect_Channel__WEBPACK_IMPORTED_MODULE_12__.sync(() => {\n    effect_Chunk__WEBPACK_IMPORTED_MODULE_8__.forEach(chunks, effect_Chunk__WEBPACK_IMPORTED_MODULE_8__.forEach(parser.write));\n    if (done) {\n      parser.end();\n    }\n  }));\n  const partsChannel = effect_Channel__WEBPACK_IMPORTED_MODULE_12__.flatMap(pump, () => {\n    if (partsBuffer.length === 0) {\n      return exit._tag === \"None\" ? partsChannel : writeExit(exit.value);\n    }\n    const chunk = effect_Chunk__WEBPACK_IMPORTED_MODULE_8__.unsafeFromArray(partsBuffer);\n    partsBuffer = [];\n    return effect_Channel__WEBPACK_IMPORTED_MODULE_12__.zipRight(effect_Channel__WEBPACK_IMPORTED_MODULE_12__.write(chunk), exit._tag === \"None\" ? partsChannel : writeExit(exit.value));\n  });\n  return effect_Channel__WEBPACK_IMPORTED_MODULE_12__.embedInput(partsChannel, input);\n}, ([, mailbox]) => mailbox.shutdown);\nconst writeExit = self => self._tag === \"Success\" ? effect_Channel__WEBPACK_IMPORTED_MODULE_12__[\"void\"] : effect_Channel__WEBPACK_IMPORTED_MODULE_12__.failCause(self.cause);\nfunction convertError(cause) {\n  switch (cause._tag) {\n    case \"ReachedLimit\":\n      {\n        switch (cause.limit) {\n          case \"MaxParts\":\n            {\n              return new MultipartError({\n                reason: \"TooManyParts\",\n                cause\n              });\n            }\n          case \"MaxFieldSize\":\n            {\n              return new MultipartError({\n                reason: \"FieldTooLarge\",\n                cause\n              });\n            }\n          case \"MaxPartSize\":\n            {\n              return new MultipartError({\n                reason: \"FileTooLarge\",\n                cause\n              });\n            }\n          case \"MaxTotalSize\":\n            {\n              return new MultipartError({\n                reason: \"BodyTooLarge\",\n                cause\n              });\n            }\n        }\n      }\n    default:\n      {\n        return new MultipartError({\n          reason: \"Parse\",\n          cause\n        });\n      }\n  }\n}\nclass PartBase extends effect_Inspectable__WEBPACK_IMPORTED_MODULE_15__.Class {\n  [TypeId];\n  constructor() {\n    super();\n    this[TypeId] = TypeId;\n  }\n}\nclass FieldImpl extends PartBase {\n  key;\n  contentType;\n  value;\n  _tag = \"Field\";\n  constructor(key, contentType, value) {\n    super();\n    this.key = key;\n    this.contentType = contentType;\n    this.value = value;\n  }\n  toJSON() {\n    return {\n      _id: \"@effect/platform/Multipart/Part\",\n      _tag: \"Field\",\n      key: this.key,\n      contentType: this.contentType,\n      value: this.value\n    };\n  }\n}\nclass FileImpl extends PartBase {\n  _tag = \"File\";\n  key;\n  name;\n  contentType;\n  content;\n  constructor(info, channel) {\n    super();\n    this.key = info.name;\n    this.name = info.filename ?? info.name;\n    this.contentType = info.contentType;\n    this.content = effect_Stream__WEBPACK_IMPORTED_MODULE_16__.fromChannel(channel);\n  }\n  toJSON() {\n    return {\n      _id: \"@effect/platform/Multipart/Part\",\n      _tag: \"File\",\n      key: this.key,\n      name: this.name,\n      contentType: this.contentType\n    };\n  }\n}\nconst defaultWriteFile = (path, file) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.flatMap(_FileSystem_js__WEBPACK_IMPORTED_MODULE_7__.FileSystem, fs => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.mapError(effect_Stream__WEBPACK_IMPORTED_MODULE_16__.run(file.content, fs.sink(path)), cause => new MultipartError({\n  reason: \"InternalError\",\n  cause\n})));\n/** @internal */\nconst toPersisted = (stream, writeFile = defaultWriteFile) => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.gen(function* () {\n  const fs = yield* _FileSystem_js__WEBPACK_IMPORTED_MODULE_7__.FileSystem;\n  const path_ = yield* _Path_js__WEBPACK_IMPORTED_MODULE_17__.Path;\n  const dir = yield* fs.makeTempDirectoryScoped();\n  const persisted = Object.create(null);\n  yield* effect_Stream__WEBPACK_IMPORTED_MODULE_16__.runForEach(stream, part => {\n    if (part._tag === \"Field\") {\n      if (!(part.key in persisted)) {\n        persisted[part.key] = part.value;\n      } else if (typeof persisted[part.key] === \"string\") {\n        persisted[part.key] = [persisted[part.key], part.value];\n      } else {\n        ;\n        persisted[part.key].push(part.value);\n      }\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n    } else if (part.name === \"\") {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_6__[\"void\"];\n    }\n    const file = part;\n    const path = path_.join(dir, path_.basename(file.name).slice(-128));\n    const filePart = new PersistedFileImpl(file.key, file.name, file.contentType, path);\n    if (Array.isArray(persisted[part.key])) {\n      ;\n      persisted[part.key].push(filePart);\n    } else {\n      persisted[part.key] = [filePart];\n    }\n    return writeFile(path, file);\n  });\n  return persisted;\n}).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_6__.catchTags({\n  SystemError: cause => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.fail(new MultipartError({\n    reason: \"InternalError\",\n    cause\n  })),\n  BadArgument: cause => effect_Effect__WEBPACK_IMPORTED_MODULE_6__.fail(new MultipartError({\n    reason: \"InternalError\",\n    cause\n  }))\n}));\nclass PersistedFileImpl extends PartBase {\n  key;\n  name;\n  contentType;\n  path;\n  _tag = \"PersistedFile\";\n  constructor(key, name, contentType, path) {\n    super();\n    this.key = key;\n    this.name = name;\n    this.contentType = contentType;\n    this.path = path;\n  }\n  toJSON() {\n    return {\n      _id: \"@effect/platform/Multipart/Part\",\n      _tag: \"PersistedFile\",\n      key: this.key,\n      name: this.name,\n      contentType: this.contentType,\n      path: this.path\n    };\n  }\n}\n//# sourceMappingURL=multipart.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvbXVsdGlwYXJ0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBDO0FBQ0o7QUFDRTtBQUNKO0FBQ1E7QUFDTDtBQUNVO0FBQ0M7QUFDUjtBQUNGO0FBQ007QUFDTjtBQUNBO0FBQ1A7QUFDUztBQUNLO0FBQ2M7QUFDMUI7QUFDbkM7QUFDTztBQUNQO0FBQ08sb0JBQW9CLHlEQUFxQjtBQUNoRDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ08sNkJBQTZCLHlEQUFxQixlQUFlLHNEQUFrQjtBQUMxRjtBQUNPO0FBQ1A7QUFDTywwQ0FBMEMsc0RBQVc7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDhCQUE4QiwrREFBVyw4Q0FBOEMsdURBQW1CLENBQUMsK0NBQVc7QUFDN0g7QUFDTyxrQ0FBa0MscURBQUksdUJBQXVCLGtEQUFjO0FBQ2xGO0FBQ08sa0NBQWtDLCtEQUFXLGtEQUFrRCx1REFBbUIsQ0FBQyxnREFBZTtBQUN6STtBQUNPLHNDQUFzQyxxREFBSSxzQkFBc0Isa0RBQWMsdUJBQXVCLGdEQUFlO0FBQzNIO0FBQ08saUNBQWlDLCtEQUFXLGlEQUFpRCx1REFBbUIsQ0FBQywrQ0FBVztBQUNuSTtBQUNPLHFDQUFxQyxxREFBSSxzQkFBc0Isa0RBQWMsc0JBQXNCLDhDQUFVLE9BQU8sZ0RBQWU7QUFDMUk7QUFDTyxvQ0FBb0MsK0RBQVcsb0RBQW9ELHVEQUFtQixDQUFDLDhDQUFVO0FBQ3hJO0FBQ08sd0NBQXdDLHFEQUFJLDJCQUEyQixrREFBYyx5QkFBeUIsc0RBQWtCO0FBQ3ZJO0FBQ08sZ0NBQWdDLGtEQUFjO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTyxpQ0FBaUMsZ0RBQVk7QUFDcEQ7QUFDTyxzQ0FBc0Msb0RBQWdCLDhDQUE4QyxxREFBaUI7QUFDNUg7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ087QUFDUCxnQkFBZ0Isd0RBQW9CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsbUJBQW1CLG9EQUFnQjtBQUNuQyxTQUFTLHFEQUFJLDBCQUEwQiw4Q0FBVSxDQUFDLHdEQUFvQixDQUFDLGlEQUFhO0FBQ3BGO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDTyw4QkFBOEIsMkRBQXVCO0FBQzVEO0FBQ0EsU0FBUyxrREFBYztBQUN2QjtBQUNBLGNBQWMseURBQXFCO0FBQ25DO0FBQ0EscURBQXFELDhDQUFVLFVBQVUseURBQXFCO0FBQzlGLG9DQUFvQyxpRUFBMkIsT0FBTyw4Q0FBVSxVQUFVLHlEQUFxQjtBQUMvRywwREFBMEQsOENBQVUsa0RBQWtELHNEQUFnQjtBQUN0SSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ08sa0RBQWtELDhEQUF5QixDQUFDLDhDQUFVLHVCQUF1QixpREFBWTtBQUNoSTtBQUNBLGFBQWEsK0NBQVc7QUFDeEI7QUFDQSxxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVcsQ0FBQyxtREFBYztBQUN2QztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw2Q0FBTztBQUN4QjtBQUNBO0FBQ0Esa0VBQWtFLG9EQUFjO0FBQ2hGLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0RBQWU7QUFDbEM7QUFDQSw0QkFBNEIsb0RBQVksR0FBRyxxREFBZ0I7QUFDM0Q7QUFDQSxzQkFBc0IseURBQXFCO0FBQzNDO0FBQ0EsMEJBQTBCLGtEQUFhLFVBQVUscURBQWdCLENBQUMsa0RBQWEsU0FBUyxxREFBZ0I7QUFDeEcsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGFBQWEsK0NBQVcsQ0FBQyw4Q0FBUztBQUNsQyxLQUFLO0FBQ0w7QUFDQSxhQUFhLCtDQUFXLENBQUMsaURBQVM7QUFDbEM7QUFDQSxHQUFHO0FBQ0gsZUFBZSxvREFBZSxzQ0FBc0MsaURBQVk7QUFDaEYsSUFBSSxpREFBYSxTQUFTLGlEQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx1QkFBdUIsb0RBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHlEQUFxQjtBQUN2QztBQUNBLFdBQVcscURBQWdCLENBQUMsa0RBQWE7QUFDekMsR0FBRztBQUNILFNBQVMsdURBQWtCO0FBQzNCLENBQUM7QUFDRCxvREFBb0Qsb0RBQVksR0FBRyxzREFBaUI7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0RBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdURBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsa0RBQWMsQ0FBQyxzREFBcUIsUUFBUSxtREFBZSxDQUFDLCtDQUFVO0FBQy9HO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTyw4REFBOEQsOENBQVU7QUFDL0Usb0JBQW9CLHNEQUFxQjtBQUN6Qyx1QkFBdUIsMkNBQVM7QUFDaEM7QUFDQTtBQUNBLFNBQVMsc0RBQWlCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtEQUFXO0FBQ3hCLE1BQU07QUFDTixhQUFhLGtEQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsT0FBTyxvREFBZ0I7QUFDeEIsd0JBQXdCLCtDQUFXO0FBQ25DO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0JBQXdCLCtDQUFXO0FBQ25DO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL2ludGVybmFsL211bHRpcGFydC5qcz80ZjA1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENoYW5uZWwgZnJvbSBcImVmZmVjdC9DaGFubmVsXCI7XG5pbXBvcnQgKiBhcyBDaHVuayBmcm9tIFwiZWZmZWN0L0NodW5rXCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCAqIGFzIEV4aXQgZnJvbSBcImVmZmVjdC9FeGl0XCI7XG5pbXBvcnQgKiBhcyBGaWJlclJlZiBmcm9tIFwiZWZmZWN0L0ZpYmVyUmVmXCI7XG5pbXBvcnQgeyBkdWFsIH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0IHsgZ2xvYmFsVmFsdWUgfSBmcm9tIFwiZWZmZWN0L0dsb2JhbFZhbHVlXCI7XG5pbXBvcnQgKiBhcyBJbnNwZWN0YWJsZSBmcm9tIFwiZWZmZWN0L0luc3BlY3RhYmxlXCI7XG5pbXBvcnQgKiBhcyBNYWlsYm94IGZyb20gXCJlZmZlY3QvTWFpbGJveFwiO1xuaW1wb3J0ICogYXMgT3B0aW9uIGZyb20gXCJlZmZlY3QvT3B0aW9uXCI7XG5pbXBvcnQgKiBhcyBQcmVkaWNhdGUgZnJvbSBcImVmZmVjdC9QcmVkaWNhdGVcIjtcbmltcG9ydCAqIGFzIFNjaGVtYSBmcm9tIFwiZWZmZWN0L1NjaGVtYVwiO1xuaW1wb3J0ICogYXMgU3RyZWFtIGZyb20gXCJlZmZlY3QvU3RyZWFtXCI7XG5pbXBvcnQgKiBhcyBNUCBmcm9tIFwibXVsdGlwYXN0YVwiO1xuaW1wb3J0IHsgVHlwZUlkRXJyb3IgfSBmcm9tIFwiLi4vRXJyb3IuanNcIjtcbmltcG9ydCAqIGFzIEZpbGVTeXN0ZW0gZnJvbSBcIi4uL0ZpbGVTeXN0ZW0uanNcIjtcbmltcG9ydCAqIGFzIEluY29taW5nTWVzc2FnZSBmcm9tIFwiLi4vSHR0cEluY29taW5nTWVzc2FnZS5qc1wiO1xuaW1wb3J0ICogYXMgUGF0aCBmcm9tIFwiLi4vUGF0aC5qc1wiO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9wbGF0Zm9ybS9NdWx0aXBhcnRcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNQYXJ0ID0gdSA9PiBQcmVkaWNhdGUuaGFzUHJvcGVydHkodSwgVHlwZUlkKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBpc0ZpZWxkID0gdSA9PiBpc1BhcnQodSkgJiYgdS5fdGFnID09PSBcIkZpZWxkXCI7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNGaWxlID0gdSA9PiBpc1BhcnQodSkgJiYgdS5fdGFnID09PSBcIkZpbGVcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBpc1BlcnNpc3RlZEZpbGUgPSB1ID0+IFByZWRpY2F0ZS5oYXNQcm9wZXJ0eSh1LCBUeXBlSWQpICYmIFByZWRpY2F0ZS5pc1RhZ2dlZCh1LCBcIlBlcnNpc3RlZEZpbGVcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgRXJyb3JUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vTXVsdGlwYXJ0L011bHRpcGFydEVycm9yXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIE11bHRpcGFydEVycm9yIGV4dGVuZHMgLyojX19QVVJFX18qL1R5cGVJZEVycm9yKEVycm9yVHlwZUlkLCBcIk11bHRpcGFydEVycm9yXCIpIHtcbiAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhc29uO1xuICB9XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbWF4UGFydHMgPSAvKiNfX1BVUkVfXyovZ2xvYmFsVmFsdWUoXCJAZWZmZWN0L3BsYXRmb3JtL011bHRpcGFydC9tYXhQYXJ0c1wiLCAoKSA9PiBGaWJlclJlZi51bnNhZmVNYWtlKE9wdGlvbi5ub25lKCkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB3aXRoTWF4UGFydHMgPSAvKiNfX1BVUkVfXyovZHVhbCgyLCAoZWZmZWN0LCBjb3VudCkgPT4gRWZmZWN0LmxvY2FsbHkoZWZmZWN0LCBtYXhQYXJ0cywgY291bnQpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBtYXhGaWVsZFNpemUgPSAvKiNfX1BVUkVfXyovZ2xvYmFsVmFsdWUoXCJAZWZmZWN0L3BsYXRmb3JtL011bHRpcGFydC9tYXhGaWVsZFNpemVcIiwgKCkgPT4gRmliZXJSZWYudW5zYWZlTWFrZShGaWxlU3lzdGVtLlNpemUoMTAgKiAxMDI0ICogMTAyNCkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB3aXRoTWF4RmllbGRTaXplID0gLyojX19QVVJFX18qL2R1YWwoMiwgKGVmZmVjdCwgc2l6ZSkgPT4gRWZmZWN0LmxvY2FsbHkoZWZmZWN0LCBtYXhGaWVsZFNpemUsIEZpbGVTeXN0ZW0uU2l6ZShzaXplKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1heEZpbGVTaXplID0gLyojX19QVVJFX18qL2dsb2JhbFZhbHVlKFwiQGVmZmVjdC9wbGF0Zm9ybS9NdWx0aXBhcnQvbWF4RmlsZVNpemVcIiwgKCkgPT4gRmliZXJSZWYudW5zYWZlTWFrZShPcHRpb24ubm9uZSgpKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgd2l0aE1heEZpbGVTaXplID0gLyojX19QVVJFX18qL2R1YWwoMiwgKGVmZmVjdCwgc2l6ZSkgPT4gRWZmZWN0LmxvY2FsbHkoZWZmZWN0LCBtYXhGaWxlU2l6ZSwgT3B0aW9uLm1hcChzaXplLCBGaWxlU3lzdGVtLlNpemUpKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZmllbGRNaW1lVHlwZXMgPSAvKiNfX1BVUkVfXyovZ2xvYmFsVmFsdWUoXCJAZWZmZWN0L3BsYXRmb3JtL011bHRpcGFydC9maWVsZE1pbWVUeXBlc1wiLCAoKSA9PiBGaWJlclJlZi51bnNhZmVNYWtlKENodW5rLm1ha2UoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgd2l0aEZpZWxkTWltZVR5cGVzID0gLyojX19QVVJFX18qL2R1YWwoMiwgKGVmZmVjdCwgbWltZVR5cGVzKSA9PiBFZmZlY3QubG9jYWxseShlZmZlY3QsIGZpZWxkTWltZVR5cGVzLCBDaHVuay5mcm9tSXRlcmFibGUobWltZVR5cGVzKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEZpbGVTY2hlbWEgPSAvKiNfX1BVUkVfXyovU2NoZW1hLmRlY2xhcmUoaXNQZXJzaXN0ZWRGaWxlLCB7XG4gIGlkZW50aWZpZXI6IFwiUGVyc2lzdGVkRmlsZVwiLFxuICBqc29uU2NoZW1hOiB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICBmb3JtYXQ6IFwiYmluYXJ5XCJcbiAgfVxufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgRmlsZXNTY2hlbWEgPSAvKiNfX1BVUkVfXyovU2NoZW1hLkFycmF5KEZpbGVTY2hlbWEpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFNpbmdsZUZpbGVTY2hlbWEgPSAvKiNfX1BVUkVfXyovU2NoZW1hLnRyYW5zZm9ybSggLyojX19QVVJFX18qL0ZpbGVzU2NoZW1hLnBpcGUoIC8qI19fUFVSRV9fKi9TY2hlbWEuaXRlbXNDb3VudCgxKSksIEZpbGVTY2hlbWEsIHtcbiAgc3RyaWN0OiB0cnVlLFxuICBkZWNvZGU6IChbZmlsZV0pID0+IGZpbGUsXG4gIGVuY29kZTogZmlsZSA9PiBbZmlsZV1cbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYVBlcnNpc3RlZCA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGFyc2UgPSBTY2hlbWEuZGVjb2RlVW5rbm93bihzY2hlbWEsIG9wdGlvbnMpO1xuICByZXR1cm4gcGVyc2lzdGVkID0+IHBhcnNlKHBlcnNpc3RlZCk7XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHNjaGVtYUpzb24gPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGZyb21Kc29uID0gU2NoZW1hLnBhcnNlSnNvbihzY2hlbWEpO1xuICByZXR1cm4gZHVhbCgyLCAocGVyc2lzdGVkLCBmaWVsZCkgPT4gRWZmZWN0Lm1hcChTY2hlbWEuZGVjb2RlVW5rbm93bihTY2hlbWEuU3RydWN0KHtcbiAgICBbZmllbGRdOiBmcm9tSnNvblxuICB9KSwgb3B0aW9ucykocGVyc2lzdGVkKSwgXyA9PiBfW2ZpZWxkXSkpO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBtYWtlQ29uZmlnID0gaGVhZGVycyA9PiBFZmZlY3Qud2l0aEZpYmVyUnVudGltZShmaWJlciA9PiB7XG4gIGNvbnN0IG1pbWVUeXBlcyA9IGZpYmVyLmdldEZpYmVyUmVmKGZpZWxkTWltZVR5cGVzKTtcbiAgcmV0dXJuIEVmZmVjdC5zdWNjZWVkKHtcbiAgICBoZWFkZXJzLFxuICAgIG1heFBhcnRzOiBPcHRpb24uZ2V0T3JVbmRlZmluZWQoZmliZXIuZ2V0RmliZXJSZWYobWF4UGFydHMpKSxcbiAgICBtYXhGaWVsZFNpemU6IE51bWJlcihmaWJlci5nZXRGaWJlclJlZihtYXhGaWVsZFNpemUpKSxcbiAgICBtYXhQYXJ0U2l6ZTogZmliZXIuZ2V0RmliZXJSZWYobWF4RmlsZVNpemUpLnBpcGUoT3B0aW9uLm1hcChOdW1iZXIpLCBPcHRpb24uZ2V0T3JVbmRlZmluZWQpLFxuICAgIG1heFRvdGFsU2l6ZTogZmliZXIuZ2V0RmliZXJSZWYoSW5jb21pbmdNZXNzYWdlLm1heEJvZHlTaXplKS5waXBlKE9wdGlvbi5tYXAoTnVtYmVyKSwgT3B0aW9uLmdldE9yVW5kZWZpbmVkKSxcbiAgICBpc0ZpbGU6IG1pbWVUeXBlcy5sZW5ndGggPT09IDAgPyB1bmRlZmluZWQgOiBpbmZvID0+ICFDaHVuay5zb21lKG1pbWVUeXBlcywgXyA9PiBpbmZvLmNvbnRlbnRUeXBlLmluY2x1ZGVzKF8pKSAmJiBNUC5kZWZhdWx0SXNGaWxlKGluZm8pXG4gIH0pO1xufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbWFrZUNoYW5uZWwgPSAoaGVhZGVycywgYnVmZmVyU2l6ZSA9IDE2KSA9PiBDaGFubmVsLmFjcXVpcmVVc2VSZWxlYXNlKEVmZmVjdC5hbGwoW21ha2VDb25maWcoaGVhZGVycyksIE1haWxib3gubWFrZShidWZmZXJTaXplKV0pLCAoW2NvbmZpZywgbWFpbGJveF0pID0+IHtcbiAgbGV0IHBhcnRzQnVmZmVyID0gW107XG4gIGxldCBleGl0ID0gT3B0aW9uLm5vbmUoKTtcbiAgY29uc3QgaW5wdXQgPSB7XG4gICAgYXdhaXRSZWFkOiAoKSA9PiBFZmZlY3Qudm9pZCxcbiAgICBlbWl0KGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBtYWlsYm94Lm9mZmVyKGVsZW1lbnQpO1xuICAgIH0sXG4gICAgZXJyb3IoY2F1c2UpIHtcbiAgICAgIGV4aXQgPSBPcHRpb24uc29tZShFeGl0LmZhaWxDYXVzZShjYXVzZSkpO1xuICAgICAgcmV0dXJuIG1haWxib3guZW5kO1xuICAgIH0sXG4gICAgZG9uZShfdmFsdWUpIHtcbiAgICAgIHJldHVybiBtYWlsYm94LmVuZDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhcnNlciA9IE1QLm1ha2Uoe1xuICAgIC4uLmNvbmZpZyxcbiAgICBvbkZpZWxkKGluZm8sIHZhbHVlKSB7XG4gICAgICBwYXJ0c0J1ZmZlci5wdXNoKG5ldyBGaWVsZEltcGwoaW5mby5uYW1lLCBpbmZvLmNvbnRlbnRUeXBlLCBNUC5kZWNvZGVGaWVsZChpbmZvLCB2YWx1ZSkpKTtcbiAgICB9LFxuICAgIG9uRmlsZShpbmZvKSB7XG4gICAgICBsZXQgY2h1bmtzID0gW107XG4gICAgICBsZXQgZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHRha2UgPSBDaGFubmVsLnN1c3BlbmQoKCkgPT4ge1xuICAgICAgICBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBmaW5pc2hlZCA/IENoYW5uZWwudm9pZCA6IENoYW5uZWwuemlwUmlnaHQocHVtcCwgdGFrZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2h1bmsgPSBDaHVuay51bnNhZmVGcm9tQXJyYXkoY2h1bmtzKTtcbiAgICAgICAgY2h1bmtzID0gW107XG4gICAgICAgIHJldHVybiBmaW5pc2hlZCA/IENoYW5uZWwud3JpdGUoY2h1bmspIDogQ2hhbm5lbC56aXBSaWdodChDaGFubmVsLndyaXRlKGNodW5rKSwgQ2hhbm5lbC56aXBSaWdodChwdW1wLCB0YWtlKSk7XG4gICAgICB9KTtcbiAgICAgIHBhcnRzQnVmZmVyLnB1c2gobmV3IEZpbGVJbXBsKGluZm8sIHRha2UpKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgICAgaWYgKGNodW5rID09PSBudWxsKSB7XG4gICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uRXJyb3IoZXJyb3JfKSB7XG4gICAgICBleGl0ID0gT3B0aW9uLnNvbWUoRXhpdC5mYWlsKGNvbnZlcnRFcnJvcihlcnJvcl8pKSk7XG4gICAgfSxcbiAgICBvbkRvbmUoKSB7XG4gICAgICBleGl0ID0gT3B0aW9uLnNvbWUoRXhpdC52b2lkKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBwdW1wID0gQ2hhbm5lbC5mbGF0TWFwKG1haWxib3gudGFrZUFsbCwgKFtjaHVua3MsIGRvbmVdKSA9PiBDaGFubmVsLnN5bmMoKCkgPT4ge1xuICAgIENodW5rLmZvckVhY2goY2h1bmtzLCBDaHVuay5mb3JFYWNoKHBhcnNlci53cml0ZSkpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICBwYXJzZXIuZW5kKCk7XG4gICAgfVxuICB9KSk7XG4gIGNvbnN0IHBhcnRzQ2hhbm5lbCA9IENoYW5uZWwuZmxhdE1hcChwdW1wLCAoKSA9PiB7XG4gICAgaWYgKHBhcnRzQnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGV4aXQuX3RhZyA9PT0gXCJOb25lXCIgPyBwYXJ0c0NoYW5uZWwgOiB3cml0ZUV4aXQoZXhpdC52YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGNodW5rID0gQ2h1bmsudW5zYWZlRnJvbUFycmF5KHBhcnRzQnVmZmVyKTtcbiAgICBwYXJ0c0J1ZmZlciA9IFtdO1xuICAgIHJldHVybiBDaGFubmVsLnppcFJpZ2h0KENoYW5uZWwud3JpdGUoY2h1bmspLCBleGl0Ll90YWcgPT09IFwiTm9uZVwiID8gcGFydHNDaGFubmVsIDogd3JpdGVFeGl0KGV4aXQudmFsdWUpKTtcbiAgfSk7XG4gIHJldHVybiBDaGFubmVsLmVtYmVkSW5wdXQocGFydHNDaGFubmVsLCBpbnB1dCk7XG59LCAoWywgbWFpbGJveF0pID0+IG1haWxib3guc2h1dGRvd24pO1xuY29uc3Qgd3JpdGVFeGl0ID0gc2VsZiA9PiBzZWxmLl90YWcgPT09IFwiU3VjY2Vzc1wiID8gQ2hhbm5lbC52b2lkIDogQ2hhbm5lbC5mYWlsQ2F1c2Uoc2VsZi5jYXVzZSk7XG5mdW5jdGlvbiBjb252ZXJ0RXJyb3IoY2F1c2UpIHtcbiAgc3dpdGNoIChjYXVzZS5fdGFnKSB7XG4gICAgY2FzZSBcIlJlYWNoZWRMaW1pdFwiOlxuICAgICAge1xuICAgICAgICBzd2l0Y2ggKGNhdXNlLmxpbWl0KSB7XG4gICAgICAgICAgY2FzZSBcIk1heFBhcnRzXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgTXVsdGlwYXJ0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJUb29NYW55UGFydHNcIixcbiAgICAgICAgICAgICAgICBjYXVzZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiTWF4RmllbGRTaXplXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgTXVsdGlwYXJ0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJGaWVsZFRvb0xhcmdlXCIsXG4gICAgICAgICAgICAgICAgY2F1c2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIk1heFBhcnRTaXplXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgTXVsdGlwYXJ0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJGaWxlVG9vTGFyZ2VcIixcbiAgICAgICAgICAgICAgICBjYXVzZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiTWF4VG90YWxTaXplXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgTXVsdGlwYXJ0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJCb2R5VG9vTGFyZ2VcIixcbiAgICAgICAgICAgICAgICBjYXVzZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBuZXcgTXVsdGlwYXJ0RXJyb3Ioe1xuICAgICAgICAgIHJlYXNvbjogXCJQYXJzZVwiLFxuICAgICAgICAgIGNhdXNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICB9XG59XG5jbGFzcyBQYXJ0QmFzZSBleHRlbmRzIEluc3BlY3RhYmxlLkNsYXNzIHtcbiAgW1R5cGVJZF07XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpc1tUeXBlSWRdID0gVHlwZUlkO1xuICB9XG59XG5jbGFzcyBGaWVsZEltcGwgZXh0ZW5kcyBQYXJ0QmFzZSB7XG4gIGtleTtcbiAgY29udGVudFR5cGU7XG4gIHZhbHVlO1xuICBfdGFnID0gXCJGaWVsZFwiO1xuICBjb25zdHJ1Y3RvcihrZXksIGNvbnRlbnRUeXBlLCB2YWx1ZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9pZDogXCJAZWZmZWN0L3BsYXRmb3JtL011bHRpcGFydC9QYXJ0XCIsXG4gICAgICBfdGFnOiBcIkZpZWxkXCIsXG4gICAgICBrZXk6IHRoaXMua2V5LFxuICAgICAgY29udGVudFR5cGU6IHRoaXMuY29udGVudFR5cGUsXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgIH07XG4gIH1cbn1cbmNsYXNzIEZpbGVJbXBsIGV4dGVuZHMgUGFydEJhc2Uge1xuICBfdGFnID0gXCJGaWxlXCI7XG4gIGtleTtcbiAgbmFtZTtcbiAgY29udGVudFR5cGU7XG4gIGNvbnRlbnQ7XG4gIGNvbnN0cnVjdG9yKGluZm8sIGNoYW5uZWwpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMua2V5ID0gaW5mby5uYW1lO1xuICAgIHRoaXMubmFtZSA9IGluZm8uZmlsZW5hbWUgPz8gaW5mby5uYW1lO1xuICAgIHRoaXMuY29udGVudFR5cGUgPSBpbmZvLmNvbnRlbnRUeXBlO1xuICAgIHRoaXMuY29udGVudCA9IFN0cmVhbS5mcm9tQ2hhbm5lbChjaGFubmVsKTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9pZDogXCJAZWZmZWN0L3BsYXRmb3JtL011bHRpcGFydC9QYXJ0XCIsXG4gICAgICBfdGFnOiBcIkZpbGVcIixcbiAgICAgIGtleTogdGhpcy5rZXksXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBjb250ZW50VHlwZTogdGhpcy5jb250ZW50VHlwZVxuICAgIH07XG4gIH1cbn1cbmNvbnN0IGRlZmF1bHRXcml0ZUZpbGUgPSAocGF0aCwgZmlsZSkgPT4gRWZmZWN0LmZsYXRNYXAoRmlsZVN5c3RlbS5GaWxlU3lzdGVtLCBmcyA9PiBFZmZlY3QubWFwRXJyb3IoU3RyZWFtLnJ1bihmaWxlLmNvbnRlbnQsIGZzLnNpbmsocGF0aCkpLCBjYXVzZSA9PiBuZXcgTXVsdGlwYXJ0RXJyb3Ioe1xuICByZWFzb246IFwiSW50ZXJuYWxFcnJvclwiLFxuICBjYXVzZVxufSkpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB0b1BlcnNpc3RlZCA9IChzdHJlYW0sIHdyaXRlRmlsZSA9IGRlZmF1bHRXcml0ZUZpbGUpID0+IEVmZmVjdC5nZW4oZnVuY3Rpb24qICgpIHtcbiAgY29uc3QgZnMgPSB5aWVsZCogRmlsZVN5c3RlbS5GaWxlU3lzdGVtO1xuICBjb25zdCBwYXRoXyA9IHlpZWxkKiBQYXRoLlBhdGg7XG4gIGNvbnN0IGRpciA9IHlpZWxkKiBmcy5tYWtlVGVtcERpcmVjdG9yeVNjb3BlZCgpO1xuICBjb25zdCBwZXJzaXN0ZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB5aWVsZCogU3RyZWFtLnJ1bkZvckVhY2goc3RyZWFtLCBwYXJ0ID0+IHtcbiAgICBpZiAocGFydC5fdGFnID09PSBcIkZpZWxkXCIpIHtcbiAgICAgIGlmICghKHBhcnQua2V5IGluIHBlcnNpc3RlZCkpIHtcbiAgICAgICAgcGVyc2lzdGVkW3BhcnQua2V5XSA9IHBhcnQudmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwZXJzaXN0ZWRbcGFydC5rZXldID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHBlcnNpc3RlZFtwYXJ0LmtleV0gPSBbcGVyc2lzdGVkW3BhcnQua2V5XSwgcGFydC52YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICA7XG4gICAgICAgIHBlcnNpc3RlZFtwYXJ0LmtleV0ucHVzaChwYXJ0LnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBFZmZlY3Qudm9pZDtcbiAgICB9IGVsc2UgaWYgKHBhcnQubmFtZSA9PT0gXCJcIikge1xuICAgICAgcmV0dXJuIEVmZmVjdC52b2lkO1xuICAgIH1cbiAgICBjb25zdCBmaWxlID0gcGFydDtcbiAgICBjb25zdCBwYXRoID0gcGF0aF8uam9pbihkaXIsIHBhdGhfLmJhc2VuYW1lKGZpbGUubmFtZSkuc2xpY2UoLTEyOCkpO1xuICAgIGNvbnN0IGZpbGVQYXJ0ID0gbmV3IFBlcnNpc3RlZEZpbGVJbXBsKGZpbGUua2V5LCBmaWxlLm5hbWUsIGZpbGUuY29udGVudFR5cGUsIHBhdGgpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHBlcnNpc3RlZFtwYXJ0LmtleV0pKSB7XG4gICAgICA7XG4gICAgICBwZXJzaXN0ZWRbcGFydC5rZXldLnB1c2goZmlsZVBhcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZXJzaXN0ZWRbcGFydC5rZXldID0gW2ZpbGVQYXJ0XTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlRmlsZShwYXRoLCBmaWxlKTtcbiAgfSk7XG4gIHJldHVybiBwZXJzaXN0ZWQ7XG59KS5waXBlKEVmZmVjdC5jYXRjaFRhZ3Moe1xuICBTeXN0ZW1FcnJvcjogY2F1c2UgPT4gRWZmZWN0LmZhaWwobmV3IE11bHRpcGFydEVycm9yKHtcbiAgICByZWFzb246IFwiSW50ZXJuYWxFcnJvclwiLFxuICAgIGNhdXNlXG4gIH0pKSxcbiAgQmFkQXJndW1lbnQ6IGNhdXNlID0+IEVmZmVjdC5mYWlsKG5ldyBNdWx0aXBhcnRFcnJvcih7XG4gICAgcmVhc29uOiBcIkludGVybmFsRXJyb3JcIixcbiAgICBjYXVzZVxuICB9KSlcbn0pKTtcbmNsYXNzIFBlcnNpc3RlZEZpbGVJbXBsIGV4dGVuZHMgUGFydEJhc2Uge1xuICBrZXk7XG4gIG5hbWU7XG4gIGNvbnRlbnRUeXBlO1xuICBwYXRoO1xuICBfdGFnID0gXCJQZXJzaXN0ZWRGaWxlXCI7XG4gIGNvbnN0cnVjdG9yKGtleSwgbmFtZSwgY29udGVudFR5cGUsIHBhdGgpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfaWQ6IFwiQGVmZmVjdC9wbGF0Zm9ybS9NdWx0aXBhcnQvUGFydFwiLFxuICAgICAgX3RhZzogXCJQZXJzaXN0ZWRGaWxlXCIsXG4gICAgICBrZXk6IHRoaXMua2V5LFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgY29udGVudFR5cGU6IHRoaXMuY29udGVudFR5cGUsXG4gICAgICBwYXRoOiB0aGlzLnBhdGhcbiAgICB9O1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdWx0aXBhcnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/multipart.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/platform/dist/esm/internal/path.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@effect/platform/dist/esm/internal/path.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Path: () => (/* binding */ Path),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   layer: () => (/* binding */ layer)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Error.js */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js\");\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/platform/Path\");\n/** @internal */\nconst Path = /*#__PURE__*/(0,effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag)(\"@effect/platform/Path\");\n/**\n * The following functions are adapted from the Node.js source code:\n * https://github.com/nodejs/node/blob/main/lib/internal/url.js\n *\n * The following license applies to these functions:\n * - MIT\n */\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  let res = \"\";\n  let lastSegmentLength = 0;\n  let lastSlash = -1;\n  let dots = 0;\n  let code;\n  for (let i = 0; i <= path.length; ++i) {\n    if (i < path.length) {\n      code = path.charCodeAt(i);\n    } else if (code === 47 /*/*/) {\n      break;\n    } else {\n      code = 47; /*/*/\n    }\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            const lastSlashIndex = res.lastIndexOf(\"/\");\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = \"\";\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf(\"/\");\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = \"\";\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0) {\n            res += \"/..\";\n          } else {\n            res = \"..\";\n          }\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0) {\n          res += \"/\" + path.slice(lastSlash + 1, i);\n        } else {\n          res = path.slice(lastSlash + 1, i);\n        }\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ;\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\nfunction _format(sep, pathObject) {\n  const dir = pathObject.dir || pathObject.root;\n  const base = pathObject.base || (pathObject.name || \"\") + (pathObject.ext || \"\");\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\nfunction fromFileUrl(url) {\n  if (url.protocol !== \"file:\") {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.fail((0,_Error_js__WEBPACK_IMPORTED_MODULE_2__.BadArgument)({\n      module: \"Path\",\n      method: \"fromFileUrl\",\n      message: \"URL must be of scheme file\"\n    }));\n  } else if (url.hostname !== \"\") {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.fail((0,_Error_js__WEBPACK_IMPORTED_MODULE_2__.BadArgument)({\n      module: \"Path\",\n      method: \"fromFileUrl\",\n      message: \"Invalid file URL host\"\n    }));\n  }\n  const pathname = url.pathname;\n  for (let n = 0; n < pathname.length; n++) {\n    if (pathname[n] === \"%\") {\n      const third = pathname.codePointAt(n + 2) | 0x20;\n      if (pathname[n + 1] === \"2\" && third === 102) {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.fail((0,_Error_js__WEBPACK_IMPORTED_MODULE_2__.BadArgument)({\n          module: \"Path\",\n          method: \"fromFileUrl\",\n          message: \"must not include encoded / characters\"\n        }));\n      }\n    }\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.succeed(decodeURIComponent(pathname));\n}\nconst resolve = function resolve() {\n  let resolvedPath = \"\";\n  let resolvedAbsolute = false;\n  let cwd = undefined;\n  for (let i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    let path;\n    if (i >= 0) {\n      path = arguments[i];\n    } else {\n      const process = globalThis.process;\n      if (cwd === undefined && \"process\" in globalThis && typeof process === \"object\" && process !== null && typeof process.cwd === \"function\") {\n        cwd = process.cwd();\n      }\n      path = cwd;\n    }\n    // Skip empty entries\n    if (path.length === 0) {\n      continue;\n    }\n    resolvedPath = path + \"/\" + resolvedPath;\n    resolvedAbsolute = path.charCodeAt(0) === 47; /*/*/\n  }\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n  // Normalize the path\n  resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n  if (resolvedAbsolute) {\n    if (resolvedPath.length > 0) {\n      return \"/\" + resolvedPath;\n    } else {\n      return \"/\";\n    }\n  } else if (resolvedPath.length > 0) {\n    return resolvedPath;\n  } else {\n    return \".\";\n  }\n};\nconst CHAR_FORWARD_SLASH = 47;\nfunction toFileUrl(filepath) {\n  const outURL = new URL(\"file://\");\n  let resolved = resolve(filepath);\n  // path.resolve strips trailing slashes so we must add them back\n  const filePathLast = filepath.charCodeAt(filepath.length - 1);\n  if (filePathLast === CHAR_FORWARD_SLASH && resolved[resolved.length - 1] !== \"/\") {\n    resolved += \"/\";\n  }\n  outURL.pathname = encodePathChars(resolved);\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.succeed(outURL);\n}\nconst percentRegEx = /%/g;\nconst backslashRegEx = /\\\\/g;\nconst newlineRegEx = /\\n/g;\nconst carriageReturnRegEx = /\\r/g;\nconst tabRegEx = /\\t/g;\nfunction encodePathChars(filepath) {\n  if (filepath.includes(\"%\")) {\n    filepath = filepath.replace(percentRegEx, \"%25\");\n  }\n  if (filepath.includes(\"\\\\\")) {\n    filepath = filepath.replace(backslashRegEx, \"%5C\");\n  }\n  if (filepath.includes(\"\\n\")) {\n    filepath = filepath.replace(newlineRegEx, \"%0A\");\n  }\n  if (filepath.includes(\"\\r\")) {\n    filepath = filepath.replace(carriageReturnRegEx, \"%0D\");\n  }\n  if (filepath.includes(\"\\t\")) {\n    filepath = filepath.replace(tabRegEx, \"%09\");\n  }\n  return filepath;\n}\nconst posixImpl = /*#__PURE__*/Path.of({\n  [TypeId]: TypeId,\n  resolve,\n  normalize(path) {\n    if (path.length === 0) return \".\";\n    const isAbsolute = path.charCodeAt(0) === 47; /*/*/\n    const trailingSeparator = path.charCodeAt(path.length - 1) === 47; /*/*/\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n    if (path.length === 0 && !isAbsolute) path = \".\";\n    if (path.length > 0 && trailingSeparator) path += \"/\";\n    if (isAbsolute) return \"/\" + path;\n    return path;\n  },\n  isAbsolute(path) {\n    return path.length > 0 && path.charCodeAt(0) === 47; /*/*/\n  },\n  join() {\n    if (arguments.length === 0) {\n      return \".\";\n    }\n    let joined;\n    for (let i = 0; i < arguments.length; ++i) {\n      const arg = arguments[i];\n      if (arg.length > 0) {\n        if (joined === undefined) {\n          joined = arg;\n        } else {\n          joined += \"/\" + arg;\n        }\n      }\n    }\n    if (joined === undefined) {\n      return \".\";\n    }\n    return posixImpl.normalize(joined);\n  },\n  relative(from, to) {\n    if (from === to) return \"\";\n    from = posixImpl.resolve(from);\n    to = posixImpl.resolve(to);\n    if (from === to) return \"\";\n    // Trim any leading backslashes\n    let fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/) {\n        break;\n      }\n    }\n    const fromEnd = from.length;\n    const fromLen = fromEnd - fromStart;\n    // Trim any leading backslashes\n    let toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/) {\n        break;\n      }\n    }\n    const toEnd = to.length;\n    const toLen = toEnd - toStart;\n    // Compare paths to find the longest common path from root\n    const length = fromLen < toLen ? fromLen : toLen;\n    let lastCommonSep = -1;\n    let i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      const fromCode = from.charCodeAt(fromStart + i);\n      const toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode) {\n        break;\n      } else if (fromCode === 47 /*/*/) {\n        lastCommonSep = i;\n      }\n    }\n    let out = \"\";\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0) {\n          out += \"..\";\n        } else {\n          out += \"/..\";\n        }\n      }\n    }\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0) {\n      return out + to.slice(toStart + lastCommonSep);\n    } else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/) {\n        ;\n        ++toStart;\n      }\n      return to.slice(toStart);\n    }\n  },\n  dirname(path) {\n    if (path.length === 0) return \".\";\n    let code = path.charCodeAt(0);\n    const hasRoot = code === 47; /*/*/\n    let end = -1;\n    let matchedSlash = true;\n    for (let i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n    if (end === -1) return hasRoot ? \"/\" : \".\";\n    if (hasRoot && end === 1) return \"//\";\n    return path.slice(0, end);\n  },\n  basename(path, ext) {\n    let start = 0;\n    let end = -1;\n    let matchedSlash = true;\n    let i;\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return \"\";\n      let extIdx = ext.length - 1;\n      let firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        const code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n      if (end === -1) return \"\";\n      return path.slice(start, end);\n    }\n  },\n  extname(path) {\n    let startDot = -1;\n    let startPart = 0;\n    let end = -1;\n    let matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    let preDotState = 0;\n    for (let i = path.length - 1; i >= 0; --i) {\n      const code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) {\n          startDot = i;\n        } else if (preDotState !== 1) {\n          preDotState = 1;\n        }\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return \"\";\n    }\n    return path.slice(startDot, end);\n  },\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== \"object\") {\n      throw new TypeError(\"The \\\"pathObject\\\" argument must be of type Object. Received type \" + typeof pathObject);\n    }\n    return _format(\"/\", pathObject);\n  },\n  parse(path) {\n    const ret = {\n      root: \"\",\n      dir: \"\",\n      base: \"\",\n      ext: \"\",\n      name: \"\"\n    };\n    if (path.length === 0) return ret;\n    let code = path.charCodeAt(0);\n    const isAbsolute = code === 47; /*/*/\n    let start;\n    if (isAbsolute) {\n      ret.root = \"/\";\n      start = 1;\n    } else {\n      start = 0;\n    }\n    let startDot = -1;\n    let startPart = 0;\n    let end = -1;\n    let matchedSlash = true;\n    let i = path.length - 1;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    let preDotState = 0;\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = \"/\";\n    return ret;\n  },\n  sep: \"/\",\n  fromFileUrl,\n  toFileUrl,\n  toNamespacedPath: effect_Function__WEBPACK_IMPORTED_MODULE_3__.identity\n});\n/** @internal */\nconst layer = /*#__PURE__*/effect_Layer__WEBPACK_IMPORTED_MODULE_4__.succeed(Path, posixImpl);\n//# sourceMappingURL=path.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3QvcGxhdGZvcm0vZGlzdC9lc20vaW50ZXJuYWwvcGF0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE0QztBQUNKO0FBQ0c7QUFDTDtBQUNJO0FBQzFDO0FBQ087QUFDUDtBQUNPLDBCQUEwQiwwREFBVTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVcsQ0FBQyxzREFBVztBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKLFdBQVcsK0NBQVcsQ0FBQyxzREFBVztBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsZUFBZSwrQ0FBVyxDQUFDLHNEQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtEQUFjO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsOEJBQThCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsa0RBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EseURBQXlEO0FBQ3pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5QkFBeUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscUJBQXFCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsWUFBWTtBQUNaO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBLFlBQVk7QUFDWjtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGNBQWM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxrQ0FBa0MsUUFBUTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFFBQVE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQSxNQUFNO0FBQ04sZ0NBQWdDLFFBQVE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsUUFBUTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRjtBQUNwRjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQVE7QUFDNUIsQ0FBQztBQUNEO0FBQ08sMkJBQTJCLGlEQUFhO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3BsYXRmb3JtL2Rpc3QvZXNtL2ludGVybmFsL3BhdGguanM/Y2RhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHZW5lcmljVGFnIH0gZnJvbSBcImVmZmVjdC9Db250ZXh0XCI7XG5pbXBvcnQgKiBhcyBFZmZlY3QgZnJvbSBcImVmZmVjdC9FZmZlY3RcIjtcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSBcImVmZmVjdC9GdW5jdGlvblwiO1xuaW1wb3J0ICogYXMgTGF5ZXIgZnJvbSBcImVmZmVjdC9MYXllclwiO1xuaW1wb3J0IHsgQmFkQXJndW1lbnQgfSBmcm9tIFwiLi4vRXJyb3IuanNcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBUeXBlSWQgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3QvcGxhdGZvcm0vUGF0aFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBQYXRoID0gLyojX19QVVJFX18qL0dlbmVyaWNUYWcoXCJAZWZmZWN0L3BsYXRmb3JtL1BhdGhcIik7XG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSBhZGFwdGVkIGZyb20gdGhlIE5vZGUuanMgc291cmNlIGNvZGU6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9tYWluL2xpYi9pbnRlcm5hbC91cmwuanNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGxpY2Vuc2UgYXBwbGllcyB0byB0aGVzZSBmdW5jdGlvbnM6XG4gKiAtIE1JVFxuICovXG4vLyBSZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggd2l0aCBkaXJlY3RvcnkgbmFtZXNcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsIGFsbG93QWJvdmVSb290KSB7XG4gIGxldCByZXMgPSBcIlwiO1xuICBsZXQgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICBsZXQgbGFzdFNsYXNoID0gLTE7XG4gIGxldCBkb3RzID0gMDtcbiAgbGV0IGNvZGU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDw9IHBhdGgubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoaSA8IHBhdGgubGVuZ3RoKSB7XG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gNDcgLyovKi8pIHtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb2RlID0gNDc7IC8qLyovXG4gICAgfVxuICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xuICAgICAgICAvLyBOT09QXG4gICAgICB9IGVsc2UgaWYgKGxhc3RTbGFzaCAhPT0gaSAtIDEgJiYgZG90cyA9PT0gMikge1xuICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIgfHwgbGFzdFNlZ21lbnRMZW5ndGggIT09IDIgfHwgcmVzLmNoYXJDb2RlQXQocmVzLmxlbmd0aCAtIDEpICE9PSA0NiAvKi4qLyB8fCByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMikgIT09IDQ2IC8qLiovKSB7XG4gICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHJlcy5sYXN0SW5kZXhPZihcIi9cIik7XG4gICAgICAgICAgICBpZiAobGFzdFNsYXNoSW5kZXggIT09IHJlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMgPSByZXMuc2xpY2UoMCwgbGFzdFNsYXNoSW5kZXgpO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoXCIvXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5sZW5ndGggPT09IDIgfHwgcmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmVzID0gXCJcIjtcbiAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlcyArPSBcIi8uLlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgPSBcIi4uXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVzICs9IFwiL1wiICsgcGF0aC5zbGljZShsYXN0U2xhc2ggKyAxLCBpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMgPSBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gaSAtIGxhc3RTbGFzaCAtIDE7XG4gICAgICB9XG4gICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgZG90cyA9IDA7XG4gICAgfSBlbHNlIGlmIChjb2RlID09PSA0NiAvKi4qLyAmJiBkb3RzICE9PSAtMSkge1xuICAgICAgO1xuICAgICAgKytkb3RzO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb3RzID0gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBfZm9ybWF0KHNlcCwgcGF0aE9iamVjdCkge1xuICBjb25zdCBkaXIgPSBwYXRoT2JqZWN0LmRpciB8fCBwYXRoT2JqZWN0LnJvb3Q7XG4gIGNvbnN0IGJhc2UgPSBwYXRoT2JqZWN0LmJhc2UgfHwgKHBhdGhPYmplY3QubmFtZSB8fCBcIlwiKSArIChwYXRoT2JqZWN0LmV4dCB8fCBcIlwiKTtcbiAgaWYgKCFkaXIpIHtcbiAgICByZXR1cm4gYmFzZTtcbiAgfVxuICBpZiAoZGlyID09PSBwYXRoT2JqZWN0LnJvb3QpIHtcbiAgICByZXR1cm4gZGlyICsgYmFzZTtcbiAgfVxuICByZXR1cm4gZGlyICsgc2VwICsgYmFzZTtcbn1cbmZ1bmN0aW9uIGZyb21GaWxlVXJsKHVybCkge1xuICBpZiAodXJsLnByb3RvY29sICE9PSBcImZpbGU6XCIpIHtcbiAgICByZXR1cm4gRWZmZWN0LmZhaWwoQmFkQXJndW1lbnQoe1xuICAgICAgbW9kdWxlOiBcIlBhdGhcIixcbiAgICAgIG1ldGhvZDogXCJmcm9tRmlsZVVybFwiLFxuICAgICAgbWVzc2FnZTogXCJVUkwgbXVzdCBiZSBvZiBzY2hlbWUgZmlsZVwiXG4gICAgfSkpO1xuICB9IGVsc2UgaWYgKHVybC5ob3N0bmFtZSAhPT0gXCJcIikge1xuICAgIHJldHVybiBFZmZlY3QuZmFpbChCYWRBcmd1bWVudCh7XG4gICAgICBtb2R1bGU6IFwiUGF0aFwiLFxuICAgICAgbWV0aG9kOiBcImZyb21GaWxlVXJsXCIsXG4gICAgICBtZXNzYWdlOiBcIkludmFsaWQgZmlsZSBVUkwgaG9zdFwiXG4gICAgfSkpO1xuICB9XG4gIGNvbnN0IHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lO1xuICBmb3IgKGxldCBuID0gMDsgbiA8IHBhdGhuYW1lLmxlbmd0aDsgbisrKSB7XG4gICAgaWYgKHBhdGhuYW1lW25dID09PSBcIiVcIikge1xuICAgICAgY29uc3QgdGhpcmQgPSBwYXRobmFtZS5jb2RlUG9pbnRBdChuICsgMikgfCAweDIwO1xuICAgICAgaWYgKHBhdGhuYW1lW24gKyAxXSA9PT0gXCIyXCIgJiYgdGhpcmQgPT09IDEwMikge1xuICAgICAgICByZXR1cm4gRWZmZWN0LmZhaWwoQmFkQXJndW1lbnQoe1xuICAgICAgICAgIG1vZHVsZTogXCJQYXRoXCIsXG4gICAgICAgICAgbWV0aG9kOiBcImZyb21GaWxlVXJsXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJtdXN0IG5vdCBpbmNsdWRlIGVuY29kZWQgLyBjaGFyYWN0ZXJzXCJcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gRWZmZWN0LnN1Y2NlZWQoZGVjb2RlVVJJQ29tcG9uZW50KHBhdGhuYW1lKSk7XG59XG5jb25zdCByZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgbGV0IHJlc29sdmVkUGF0aCA9IFwiXCI7XG4gIGxldCByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG4gIGxldCBjd2QgPSB1bmRlZmluZWQ7XG4gIGZvciAobGV0IGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgbGV0IHBhdGg7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgcGF0aCA9IGFyZ3VtZW50c1tpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJvY2VzcyA9IGdsb2JhbFRoaXMucHJvY2VzcztcbiAgICAgIGlmIChjd2QgPT09IHVuZGVmaW5lZCAmJiBcInByb2Nlc3NcIiBpbiBnbG9iYWxUaGlzICYmIHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MgIT09IG51bGwgJiYgdHlwZW9mIHByb2Nlc3MuY3dkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY3dkID0gcHJvY2Vzcy5jd2QoKTtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjd2Q7XG4gICAgfVxuICAgIC8vIFNraXAgZW1wdHkgZW50cmllc1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyBcIi9cIiArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NzsgLyovKi9cbiAgfVxuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplU3RyaW5nUG9zaXgocmVzb2x2ZWRQYXRoLCAhcmVzb2x2ZWRBYnNvbHV0ZSk7XG4gIGlmIChyZXNvbHZlZEFic29sdXRlKSB7XG4gICAgaWYgKHJlc29sdmVkUGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gXCIvXCIgKyByZXNvbHZlZFBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIi9cIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcmVzb2x2ZWRQYXRoO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBcIi5cIjtcbiAgfVxufTtcbmNvbnN0IENIQVJfRk9SV0FSRF9TTEFTSCA9IDQ3O1xuZnVuY3Rpb24gdG9GaWxlVXJsKGZpbGVwYXRoKSB7XG4gIGNvbnN0IG91dFVSTCA9IG5ldyBVUkwoXCJmaWxlOi8vXCIpO1xuICBsZXQgcmVzb2x2ZWQgPSByZXNvbHZlKGZpbGVwYXRoKTtcbiAgLy8gcGF0aC5yZXNvbHZlIHN0cmlwcyB0cmFpbGluZyBzbGFzaGVzIHNvIHdlIG11c3QgYWRkIHRoZW0gYmFja1xuICBjb25zdCBmaWxlUGF0aExhc3QgPSBmaWxlcGF0aC5jaGFyQ29kZUF0KGZpbGVwYXRoLmxlbmd0aCAtIDEpO1xuICBpZiAoZmlsZVBhdGhMYXN0ID09PSBDSEFSX0ZPUldBUkRfU0xBU0ggJiYgcmVzb2x2ZWRbcmVzb2x2ZWQubGVuZ3RoIC0gMV0gIT09IFwiL1wiKSB7XG4gICAgcmVzb2x2ZWQgKz0gXCIvXCI7XG4gIH1cbiAgb3V0VVJMLnBhdGhuYW1lID0gZW5jb2RlUGF0aENoYXJzKHJlc29sdmVkKTtcbiAgcmV0dXJuIEVmZmVjdC5zdWNjZWVkKG91dFVSTCk7XG59XG5jb25zdCBwZXJjZW50UmVnRXggPSAvJS9nO1xuY29uc3QgYmFja3NsYXNoUmVnRXggPSAvXFxcXC9nO1xuY29uc3QgbmV3bGluZVJlZ0V4ID0gL1xcbi9nO1xuY29uc3QgY2FycmlhZ2VSZXR1cm5SZWdFeCA9IC9cXHIvZztcbmNvbnN0IHRhYlJlZ0V4ID0gL1xcdC9nO1xuZnVuY3Rpb24gZW5jb2RlUGF0aENoYXJzKGZpbGVwYXRoKSB7XG4gIGlmIChmaWxlcGF0aC5pbmNsdWRlcyhcIiVcIikpIHtcbiAgICBmaWxlcGF0aCA9IGZpbGVwYXRoLnJlcGxhY2UocGVyY2VudFJlZ0V4LCBcIiUyNVwiKTtcbiAgfVxuICBpZiAoZmlsZXBhdGguaW5jbHVkZXMoXCJcXFxcXCIpKSB7XG4gICAgZmlsZXBhdGggPSBmaWxlcGF0aC5yZXBsYWNlKGJhY2tzbGFzaFJlZ0V4LCBcIiU1Q1wiKTtcbiAgfVxuICBpZiAoZmlsZXBhdGguaW5jbHVkZXMoXCJcXG5cIikpIHtcbiAgICBmaWxlcGF0aCA9IGZpbGVwYXRoLnJlcGxhY2UobmV3bGluZVJlZ0V4LCBcIiUwQVwiKTtcbiAgfVxuICBpZiAoZmlsZXBhdGguaW5jbHVkZXMoXCJcXHJcIikpIHtcbiAgICBmaWxlcGF0aCA9IGZpbGVwYXRoLnJlcGxhY2UoY2FycmlhZ2VSZXR1cm5SZWdFeCwgXCIlMERcIik7XG4gIH1cbiAgaWYgKGZpbGVwYXRoLmluY2x1ZGVzKFwiXFx0XCIpKSB7XG4gICAgZmlsZXBhdGggPSBmaWxlcGF0aC5yZXBsYWNlKHRhYlJlZ0V4LCBcIiUwOVwiKTtcbiAgfVxuICByZXR1cm4gZmlsZXBhdGg7XG59XG5jb25zdCBwb3NpeEltcGwgPSAvKiNfX1BVUkVfXyovUGF0aC5vZih7XG4gIFtUeXBlSWRdOiBUeXBlSWQsXG4gIHJlc29sdmUsXG4gIG5vcm1hbGl6ZShwYXRoKSB7XG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSByZXR1cm4gXCIuXCI7XG4gICAgY29uc3QgaXNBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDc7IC8qLyovXG4gICAgY29uc3QgdHJhaWxpbmdTZXBhcmF0b3IgPSBwYXRoLmNoYXJDb2RlQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gNDc7IC8qLyovXG4gICAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gICAgcGF0aCA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsICFpc0Fic29sdXRlKTtcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDAgJiYgIWlzQWJzb2x1dGUpIHBhdGggPSBcIi5cIjtcbiAgICBpZiAocGF0aC5sZW5ndGggPiAwICYmIHRyYWlsaW5nU2VwYXJhdG9yKSBwYXRoICs9IFwiL1wiO1xuICAgIGlmIChpc0Fic29sdXRlKSByZXR1cm4gXCIvXCIgKyBwYXRoO1xuICAgIHJldHVybiBwYXRoO1xuICB9LFxuICBpc0Fic29sdXRlKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aC5sZW5ndGggPiAwICYmIHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDc7IC8qLyovXG4gIH0sXG4gIGpvaW4oKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBcIi5cIjtcbiAgICB9XG4gICAgbGV0IGpvaW5lZDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgaWYgKGFyZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGpvaW5lZCA9IGFyZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBqb2luZWQgKz0gXCIvXCIgKyBhcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGpvaW5lZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gXCIuXCI7XG4gICAgfVxuICAgIHJldHVybiBwb3NpeEltcGwubm9ybWFsaXplKGpvaW5lZCk7XG4gIH0sXG4gIHJlbGF0aXZlKGZyb20sIHRvKSB7XG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gXCJcIjtcbiAgICBmcm9tID0gcG9zaXhJbXBsLnJlc29sdmUoZnJvbSk7XG4gICAgdG8gPSBwb3NpeEltcGwucmVzb2x2ZSh0byk7XG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gXCJcIjtcbiAgICAvLyBUcmltIGFueSBsZWFkaW5nIGJhY2tzbGFzaGVzXG4gICAgbGV0IGZyb21TdGFydCA9IDE7XG4gICAgZm9yICg7IGZyb21TdGFydCA8IGZyb20ubGVuZ3RoOyArK2Zyb21TdGFydCkge1xuICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQpICE9PSA0NyAvKi8qLykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZnJvbUVuZCA9IGZyb20ubGVuZ3RoO1xuICAgIGNvbnN0IGZyb21MZW4gPSBmcm9tRW5kIC0gZnJvbVN0YXJ0O1xuICAgIC8vIFRyaW0gYW55IGxlYWRpbmcgYmFja3NsYXNoZXNcbiAgICBsZXQgdG9TdGFydCA9IDE7XG4gICAgZm9yICg7IHRvU3RhcnQgPCB0by5sZW5ndGg7ICsrdG9TdGFydCkge1xuICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCkgIT09IDQ3IC8qLyovKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0b0VuZCA9IHRvLmxlbmd0aDtcbiAgICBjb25zdCB0b0xlbiA9IHRvRW5kIC0gdG9TdGFydDtcbiAgICAvLyBDb21wYXJlIHBhdGhzIHRvIGZpbmQgdGhlIGxvbmdlc3QgY29tbW9uIHBhdGggZnJvbSByb290XG4gICAgY29uc3QgbGVuZ3RoID0gZnJvbUxlbiA8IHRvTGVuID8gZnJvbUxlbiA6IHRvTGVuO1xuICAgIGxldCBsYXN0Q29tbW9uU2VwID0gLTE7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoOyBpIDw9IGxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoaSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgIGlmICh0b0xlbiA+IGxlbmd0aCkge1xuICAgICAgICAgIGlmICh0by5jaGFyQ29kZUF0KHRvU3RhcnQgKyBpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGBmcm9tYCBpcyB0aGUgZXhhY3QgYmFzZSBwYXRoIGZvciBgdG9gLlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy9mb28vYmFyJzsgdG89Jy9mb28vYmFyL2JheidcbiAgICAgICAgICAgIHJldHVybiB0by5zbGljZSh0b1N0YXJ0ICsgaSArIDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYGZyb21gIGlzIHRoZSByb290XG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nLyc7IHRvPScvZm9vJ1xuICAgICAgICAgICAgcmV0dXJuIHRvLnNsaWNlKHRvU3RhcnQgKyBpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZnJvbUxlbiA+IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChmcm9tLmNoYXJDb2RlQXQoZnJvbVN0YXJ0ICsgaSkgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgdG9gIGlzIHRoZSBleGFjdCBiYXNlIHBhdGggZm9yIGBmcm9tYC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vL2Jhci9iYXonOyB0bz0nL2Zvby9iYXInXG4gICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gaTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGB0b2AgaXMgdGhlIHJvb3QuXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nL2Zvbyc7IHRvPScvJ1xuICAgICAgICAgICAgbGFzdENvbW1vblNlcCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29uc3QgZnJvbUNvZGUgPSBmcm9tLmNoYXJDb2RlQXQoZnJvbVN0YXJ0ICsgaSk7XG4gICAgICBjb25zdCB0b0NvZGUgPSB0by5jaGFyQ29kZUF0KHRvU3RhcnQgKyBpKTtcbiAgICAgIGlmIChmcm9tQ29kZSAhPT0gdG9Db2RlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmIChmcm9tQ29kZSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgbGFzdENvbW1vblNlcCA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBvdXQgPSBcIlwiO1xuICAgIC8vIEdlbmVyYXRlIHRoZSByZWxhdGl2ZSBwYXRoIGJhc2VkIG9uIHRoZSBwYXRoIGRpZmZlcmVuY2UgYmV0d2VlbiBgdG9gXG4gICAgLy8gYW5kIGBmcm9tYFxuICAgIGZvciAoaSA9IGZyb21TdGFydCArIGxhc3RDb21tb25TZXAgKyAxOyBpIDw9IGZyb21FbmQ7ICsraSkge1xuICAgICAgaWYgKGkgPT09IGZyb21FbmQgfHwgZnJvbS5jaGFyQ29kZUF0KGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICBpZiAob3V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIG91dCArPSBcIi4uXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9IFwiLy4uXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTGFzdGx5LCBhcHBlbmQgdGhlIHJlc3Qgb2YgdGhlIGRlc3RpbmF0aW9uIChgdG9gKSBwYXRoIHRoYXQgY29tZXMgYWZ0ZXJcbiAgICAvLyB0aGUgY29tbW9uIHBhdGggcGFydHNcbiAgICBpZiAob3V0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBvdXQgKyB0by5zbGljZSh0b1N0YXJ0ICsgbGFzdENvbW1vblNlcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvU3RhcnQgKz0gbGFzdENvbW1vblNlcDtcbiAgICAgIGlmICh0by5jaGFyQ29kZUF0KHRvU3RhcnQpID09PSA0NyAvKi8qLykge1xuICAgICAgICA7XG4gICAgICAgICsrdG9TdGFydDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0by5zbGljZSh0b1N0YXJ0KTtcbiAgICB9XG4gIH0sXG4gIGRpcm5hbWUocGF0aCkge1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFwiLlwiO1xuICAgIGxldCBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICAgIGNvbnN0IGhhc1Jvb3QgPSBjb2RlID09PSA0NzsgLyovKi9cbiAgICBsZXQgZW5kID0gLTE7XG4gICAgbGV0IG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAxOyAtLWkpIHtcbiAgICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZiAoY29kZSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvclxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuZCA9PT0gLTEpIHJldHVybiBoYXNSb290ID8gXCIvXCIgOiBcIi5cIjtcbiAgICBpZiAoaGFzUm9vdCAmJiBlbmQgPT09IDEpIHJldHVybiBcIi8vXCI7XG4gICAgcmV0dXJuIHBhdGguc2xpY2UoMCwgZW5kKTtcbiAgfSxcbiAgYmFzZW5hbWUocGF0aCwgZXh0KSB7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gLTE7XG4gICAgbGV0IG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgbGV0IGk7XG4gICAgaWYgKGV4dCAhPT0gdW5kZWZpbmVkICYmIGV4dC5sZW5ndGggPiAwICYmIGV4dC5sZW5ndGggPD0gcGF0aC5sZW5ndGgpIHtcbiAgICAgIGlmIChleHQubGVuZ3RoID09PSBwYXRoLmxlbmd0aCAmJiBleHQgPT09IHBhdGgpIHJldHVybiBcIlwiO1xuICAgICAgbGV0IGV4dElkeCA9IGV4dC5sZW5ndGggLSAxO1xuICAgICAgbGV0IGZpcnN0Tm9uU2xhc2hFbmQgPSAtMTtcbiAgICAgIGZvciAoaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZmlyc3ROb25TbGFzaEVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCByZW1lbWJlciB0aGlzIGluZGV4IGluIGNhc2VcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgaXQgaWYgdGhlIGV4dGVuc2lvbiBlbmRzIHVwIG5vdCBtYXRjaGluZ1xuICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICBmaXJzdE5vblNsYXNoRW5kID0gaSArIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleHRJZHggPj0gMCkge1xuICAgICAgICAgICAgLy8gVHJ5IHRvIG1hdGNoIHRoZSBleHBsaWNpdCBleHRlbnNpb25cbiAgICAgICAgICAgIGlmIChjb2RlID09PSBleHQuY2hhckNvZGVBdChleHRJZHgpKSB7XG4gICAgICAgICAgICAgIGlmICgtLWV4dElkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBtYXRjaGVkIHRoZSBleHRlbnNpb24sIHNvIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91ciBwYXRoXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50XG4gICAgICAgICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gRXh0ZW5zaW9uIGRvZXMgbm90IG1hdGNoLCBzbyBvdXIgcmVzdWx0IGlzIHRoZSBlbnRpcmUgcGF0aFxuICAgICAgICAgICAgICAvLyBjb21wb25lbnRcbiAgICAgICAgICAgICAgZXh0SWR4ID0gLTE7XG4gICAgICAgICAgICAgIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPT09IGVuZCkgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtlbHNlIGlmIChlbmQgPT09IC0xKSBlbmQgPSBwYXRoLmxlbmd0aDtcbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGlmIChwYXRoLmNoYXJDb2RlQXQoaSkgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxuICAgICAgICAgIC8vIHBhdGggY29tcG9uZW50XG4gICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbmQgPT09IC0xKSByZXR1cm4gXCJcIjtcbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgfSxcbiAgZXh0bmFtZShwYXRoKSB7XG4gICAgbGV0IHN0YXJ0RG90ID0gLTE7XG4gICAgbGV0IHN0YXJ0UGFydCA9IDA7XG4gICAgbGV0IGVuZCA9IC0xO1xuICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcbiAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxuICAgIGxldCBwcmVEb3RTdGF0ZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZiAoY29kZSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBvdXIgZmlyc3QgZG90LCBtYXJrIGl0IGFzIHRoZSBzdGFydCBvZiBvdXIgZXh0ZW5zaW9uXG4gICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpIHtcbiAgICAgICAgICBzdGFydERvdCA9IGk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpIHtcbiAgICAgICAgICBwcmVEb3RTdGF0ZSA9IDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhcnREb3QgIT09IC0xKSB7XG4gICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgYW5kIG5vbi1wYXRoIHNlcGFyYXRvciBiZWZvcmUgb3VyIGRvdCwgc28gd2Ugc2hvdWxkXG4gICAgICAgIC8vIGhhdmUgYSBnb29kIGNoYW5jZSBhdCBoYXZpbmcgYSBub24tZW1wdHkgZXh0ZW5zaW9uXG4gICAgICAgIHByZURvdFN0YXRlID0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fFxuICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgZG90XG4gICAgcHJlRG90U3RhdGUgPT09IDAgfHxcbiAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgcHJlRG90U3RhdGUgPT09IDEgJiYgc3RhcnREb3QgPT09IGVuZCAtIDEgJiYgc3RhcnREb3QgPT09IHN0YXJ0UGFydCArIDEpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTtcbiAgfSxcbiAgZm9ybWF0OiBmdW5jdGlvbiBmb3JtYXQocGF0aE9iamVjdCkge1xuICAgIGlmIChwYXRoT2JqZWN0ID09PSBudWxsIHx8IHR5cGVvZiBwYXRoT2JqZWN0ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIFxcXCJwYXRoT2JqZWN0XFxcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiICsgdHlwZW9mIHBhdGhPYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gX2Zvcm1hdChcIi9cIiwgcGF0aE9iamVjdCk7XG4gIH0sXG4gIHBhcnNlKHBhdGgpIHtcbiAgICBjb25zdCByZXQgPSB7XG4gICAgICByb290OiBcIlwiLFxuICAgICAgZGlyOiBcIlwiLFxuICAgICAgYmFzZTogXCJcIixcbiAgICAgIGV4dDogXCJcIixcbiAgICAgIG5hbWU6IFwiXCJcbiAgICB9O1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJldDtcbiAgICBsZXQgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBpc0Fic29sdXRlID0gY29kZSA9PT0gNDc7IC8qLyovXG4gICAgbGV0IHN0YXJ0O1xuICAgIGlmIChpc0Fic29sdXRlKSB7XG4gICAgICByZXQucm9vdCA9IFwiL1wiO1xuICAgICAgc3RhcnQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIGxldCBzdGFydERvdCA9IC0xO1xuICAgIGxldCBzdGFydFBhcnQgPSAwO1xuICAgIGxldCBlbmQgPSAtMTtcbiAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTtcbiAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gICAgLy8gYWZ0ZXIgYW55IHBhdGggc2VwYXJhdG9yIHdlIGZpbmRcbiAgICBsZXQgcHJlRG90U3RhdGUgPSAwO1xuICAgIC8vIEdldCBub24tZGlyIGluZm9cbiAgICBmb3IgKDsgaSA+PSBzdGFydDsgLS1pKSB7XG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxuICAgICAgICAvLyBleHRlbnNpb25cbiAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgIGVuZCA9IGkgKyAxO1xuICAgICAgfVxuICAgICAgaWYgKGNvZGUgPT09IDQ2IC8qLiovKSB7XG4gICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IGRvdCwgbWFyayBpdCBhcyB0aGUgc3RhcnQgb2Ygb3VyIGV4dGVuc2lvblxuICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKSBzdGFydERvdCA9IGk7ZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpIHByZURvdFN0YXRlID0gMTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnREb3QgIT09IC0xKSB7XG4gICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgYW5kIG5vbi1wYXRoIHNlcGFyYXRvciBiZWZvcmUgb3VyIGRvdCwgc28gd2Ugc2hvdWxkXG4gICAgICAgIC8vIGhhdmUgYSBnb29kIGNoYW5jZSBhdCBoYXZpbmcgYSBub24tZW1wdHkgZXh0ZW5zaW9uXG4gICAgICAgIHByZURvdFN0YXRlID0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fFxuICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgZG90XG4gICAgcHJlRG90U3RhdGUgPT09IDAgfHxcbiAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgcHJlRG90U3RhdGUgPT09IDEgJiYgc3RhcnREb3QgPT09IGVuZCAtIDEgJiYgc3RhcnREb3QgPT09IHN0YXJ0UGFydCArIDEpIHtcbiAgICAgIGlmIChlbmQgIT09IC0xKSB7XG4gICAgICAgIGlmIChzdGFydFBhcnQgPT09IDAgJiYgaXNBYnNvbHV0ZSkgcmV0LmJhc2UgPSByZXQubmFtZSA9IHBhdGguc2xpY2UoMSwgZW5kKTtlbHNlIHJldC5iYXNlID0gcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXJ0UGFydCA9PT0gMCAmJiBpc0Fic29sdXRlKSB7XG4gICAgICAgIHJldC5uYW1lID0gcGF0aC5zbGljZSgxLCBzdGFydERvdCk7XG4gICAgICAgIHJldC5iYXNlID0gcGF0aC5zbGljZSgxLCBlbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgc3RhcnREb3QpO1xuICAgICAgICByZXQuYmFzZSA9IHBhdGguc2xpY2Uoc3RhcnRQYXJ0LCBlbmQpO1xuICAgICAgfVxuICAgICAgcmV0LmV4dCA9IHBhdGguc2xpY2Uoc3RhcnREb3QsIGVuZCk7XG4gICAgfVxuICAgIGlmIChzdGFydFBhcnQgPiAwKSByZXQuZGlyID0gcGF0aC5zbGljZSgwLCBzdGFydFBhcnQgLSAxKTtlbHNlIGlmIChpc0Fic29sdXRlKSByZXQuZGlyID0gXCIvXCI7XG4gICAgcmV0dXJuIHJldDtcbiAgfSxcbiAgc2VwOiBcIi9cIixcbiAgZnJvbUZpbGVVcmwsXG4gIHRvRmlsZVVybCxcbiAgdG9OYW1lc3BhY2VkUGF0aDogaWRlbnRpdHlcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGxheWVyID0gLyojX19QVVJFX18qL0xheWVyLnN1Y2NlZWQoUGF0aCwgcG9zaXhJbXBsKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhdGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/platform/dist/esm/internal/path.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/sql-pg/dist/esm/PgClient.js":
/*!**************************************************************!*\
  !*** ../../node_modules/@effect/sql-pg/dist/esm/PgClient.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PgClient: () => (/* binding */ PgClient),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   layer: () => (/* binding */ layer),\n/* harmony export */   layerConfig: () => (/* binding */ layerConfig),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeCompiler: () => (/* binding */ makeCompiler)\n/* harmony export */ });\n/* harmony import */ var _effect_experimental_Reactivity__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @effect/experimental/Reactivity */ \"(rsc)/../../node_modules/@effect/experimental/dist/esm/Reactivity.js\");\n/* harmony import */ var _effect_sql_SqlClient__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @effect/sql/SqlClient */ \"(rsc)/../../node_modules/@effect/sql/dist/esm/SqlClient.js\");\n/* harmony import */ var _effect_sql_SqlError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @effect/sql/SqlError */ \"(rsc)/../../node_modules/@effect/sql/dist/esm/SqlError.js\");\n/* harmony import */ var _effect_sql_Statement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @effect/sql/Statement */ \"(rsc)/../../node_modules/@effect/sql/dist/esm/Statement.js\");\n/* harmony import */ var _opentelemetry_semantic_conventions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @opentelemetry/semantic-conventions */ \"(rsc)/../../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js\");\n/* harmony import */ var effect_Chunk__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Chunk */ \"(rsc)/../../node_modules/effect/dist/esm/Chunk.js\");\n/* harmony import */ var effect_Config__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! effect/Config */ \"(rsc)/../../node_modules/effect/dist/esm/Config.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Duration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Duration */ \"(rsc)/../../node_modules/effect/dist/esm/Duration.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Redacted__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Redacted */ \"(rsc)/../../node_modules/effect/dist/esm/Redacted.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! postgres */ \"(rsc)/../../node_modules/postgres/src/index.js\");\n/**\n * @since 1.0.0\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @category type ids\n * @since 1.0.0\n */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/sql-pg/PgClient\");\n/**\n * @category tags\n * @since 1.0.0\n */\nconst PgClient = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_1__.GenericTag(\"@effect/sql-pg/PgClient\");\n/**\n * @category constructors\n * @since 1.0.0\n */\nconst make = options => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* () {\n  const compiler = makeCompiler(options.transformQueryNames, options.transformJson);\n  const transformRows = options.transformResultNames ? _effect_sql_Statement__WEBPACK_IMPORTED_MODULE_3__.defaultTransforms(options.transformResultNames, options.transformJson).array : undefined;\n  const opts = {\n    max: options.maxConnections ?? 10,\n    max_lifetime: options.connectionTTL ? Math.round(effect_Duration__WEBPACK_IMPORTED_MODULE_4__.toMillis(effect_Duration__WEBPACK_IMPORTED_MODULE_4__.decode(options.connectionTTL)) / 1000) : undefined,\n    idle_timeout: options.idleTimeout ? Math.round(effect_Duration__WEBPACK_IMPORTED_MODULE_4__.toMillis(effect_Duration__WEBPACK_IMPORTED_MODULE_4__.decode(options.idleTimeout)) / 1000) : undefined,\n    connect_timeout: options.connectTimeout ? Math.round(effect_Duration__WEBPACK_IMPORTED_MODULE_4__.toMillis(effect_Duration__WEBPACK_IMPORTED_MODULE_4__.decode(options.connectTimeout)) / 1000) : undefined,\n    host: options.host,\n    port: options.port,\n    ssl: options.ssl,\n    path: options.path,\n    database: options.database,\n    username: options.username,\n    password: options.password ? effect_Redacted__WEBPACK_IMPORTED_MODULE_5__.value(options.password) : undefined,\n    fetch_types: options.fetchTypes ?? true,\n    prepare: options.prepare ?? true,\n    onnotice: options.onnotice,\n    types: options.types,\n    debug: options.debug,\n    connection: {\n      application_name: options.applicationName ?? \"@effect/sql-pg\"\n    },\n    socket: options.socket\n  };\n  const client = options.url ? (0,postgres__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(effect_Redacted__WEBPACK_IMPORTED_MODULE_5__.value(options.url), opts) : (0,postgres__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(opts);\n  yield* effect_Effect__WEBPACK_IMPORTED_MODULE_2__.acquireRelease(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.tryPromise({\n    try: () => client`select 1`,\n    catch: cause => new _effect_sql_SqlError__WEBPACK_IMPORTED_MODULE_6__.SqlError({\n      cause,\n      message: \"PgClient: Failed to connect\"\n    })\n  }), () => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.promise(() => client.end())).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.timeoutFail({\n    duration: options.connectTimeout ?? effect_Duration__WEBPACK_IMPORTED_MODULE_4__.seconds(5),\n    onTimeout: () => new _effect_sql_SqlError__WEBPACK_IMPORTED_MODULE_6__.SqlError({\n      cause: new Error(\"Connection timed out\"),\n      message: \"PgClient: Connection timed out\"\n    })\n  }));\n  class ConnectionImpl {\n    pg;\n    constructor(pg) {\n      this.pg = pg;\n    }\n    run(query) {\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.async(resume => {\n        query.then(_ => resume(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(_)), cause => resume(new _effect_sql_SqlError__WEBPACK_IMPORTED_MODULE_6__.SqlError({\n          cause,\n          message: \"Failed to execute statement\"\n        })));\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => query.cancel());\n      });\n    }\n    execute(sql, params, transformRows) {\n      return transformRows ? effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(this.run(this.pg.unsafe(sql, params)), transformRows) : this.run(this.pg.unsafe(sql, params));\n    }\n    executeRaw(sql, params) {\n      return this.run(this.pg.unsafe(sql, params));\n    }\n    executeWithoutTransform(sql, params) {\n      return this.run(this.pg.unsafe(sql, params));\n    }\n    executeValues(sql, params) {\n      return this.run(this.pg.unsafe(sql, params).values());\n    }\n    executeUnprepared(sql, params, transformRows) {\n      return this.execute(sql, params, transformRows);\n    }\n    executeStream(sql, params, transformRows) {\n      return effect_Stream__WEBPACK_IMPORTED_MODULE_7__.mapChunks(effect_Stream__WEBPACK_IMPORTED_MODULE_7__.fromAsyncIterable(this.pg.unsafe(sql, params).cursor(16), cause => new _effect_sql_SqlError__WEBPACK_IMPORTED_MODULE_6__.SqlError({\n        cause,\n        message: \"Failed to execute statement\"\n      })), effect_Chunk__WEBPACK_IMPORTED_MODULE_8__.flatMap(rows => effect_Chunk__WEBPACK_IMPORTED_MODULE_8__.unsafeFromArray(transformRows ? transformRows(rows) : rows)));\n    }\n  }\n  return Object.assign(yield* _effect_sql_SqlClient__WEBPACK_IMPORTED_MODULE_9__.make({\n    acquirer: effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(new ConnectionImpl(client)),\n    transactionAcquirer: effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.acquireRelease(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.tryPromise({\n      try: () => client.reserve(),\n      catch: cause => new _effect_sql_SqlError__WEBPACK_IMPORTED_MODULE_6__.SqlError({\n        cause,\n        message: \"Failed to reserve connection\"\n      })\n    }), pg => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => pg.release())), _ => new ConnectionImpl(_)),\n    compiler,\n    spanAttributes: [...(options.spanAttributes ? Object.entries(options.spanAttributes) : []), [_opentelemetry_semantic_conventions__WEBPACK_IMPORTED_MODULE_10__.SEMATTRS_DB_SYSTEM, _opentelemetry_semantic_conventions__WEBPACK_IMPORTED_MODULE_10__.DBSYSTEMVALUES_POSTGRESQL], [_opentelemetry_semantic_conventions__WEBPACK_IMPORTED_MODULE_10__.SEMATTRS_DB_NAME, opts.database ?? options.username ?? \"postgres\"], [\"server.address\", opts.host ?? \"localhost\"], [\"server.port\", opts.port ?? 5432]],\n    transformRows\n  }), {\n    [TypeId]: TypeId,\n    config: {\n      ...options,\n      host: client.options.host[0] ?? undefined,\n      port: client.options.port[0] ?? undefined,\n      username: client.options.user,\n      password: client.options.pass ? effect_Redacted__WEBPACK_IMPORTED_MODULE_5__.make(client.options.pass) : undefined,\n      database: client.options.database\n    },\n    json: _ => PgJson(_),\n    array: _ => PgArray(_),\n    listen: channel => effect_Stream__WEBPACK_IMPORTED_MODULE_7__.asyncPush(emit => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.acquireRelease(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.tryPromise({\n      try: () => client.listen(channel, payload => emit.single(payload)),\n      catch: cause => new _effect_sql_SqlError__WEBPACK_IMPORTED_MODULE_6__.SqlError({\n        cause,\n        message: \"Failed to listen\"\n      })\n    }), ({\n      unlisten\n    }) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.promise(() => unlisten()))),\n    notify: (channel, payload) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.tryPromise({\n      try: () => client.notify(channel, payload),\n      catch: cause => new _effect_sql_SqlError__WEBPACK_IMPORTED_MODULE_6__.SqlError({\n        cause,\n        message: \"Failed to notify\"\n      })\n    })\n  });\n});\n/**\n * @category layers\n * @since 1.0.0\n */\nconst layerConfig = config => effect_Layer__WEBPACK_IMPORTED_MODULE_11__.scopedContext(effect_Config__WEBPACK_IMPORTED_MODULE_12__.unwrap(config).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(make), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(client => effect_Context__WEBPACK_IMPORTED_MODULE_1__.make(PgClient, client).pipe(effect_Context__WEBPACK_IMPORTED_MODULE_1__.add(_effect_sql_SqlClient__WEBPACK_IMPORTED_MODULE_9__.SqlClient, client))))).pipe(effect_Layer__WEBPACK_IMPORTED_MODULE_11__.provide(_effect_experimental_Reactivity__WEBPACK_IMPORTED_MODULE_13__.layer));\n/**\n * @category layers\n * @since 1.0.0\n */\nconst layer = config => effect_Layer__WEBPACK_IMPORTED_MODULE_11__.scopedContext(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(make(config), client => effect_Context__WEBPACK_IMPORTED_MODULE_1__.make(PgClient, client).pipe(effect_Context__WEBPACK_IMPORTED_MODULE_1__.add(_effect_sql_SqlClient__WEBPACK_IMPORTED_MODULE_9__.SqlClient, client)))).pipe(effect_Layer__WEBPACK_IMPORTED_MODULE_11__.provide(_effect_experimental_Reactivity__WEBPACK_IMPORTED_MODULE_13__.layer));\n/**\n * @category constructor\n * @since 1.0.0\n */\nconst makeCompiler = (transform, transformJson = true) => {\n  const pg = (0,postgres__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    max: 0\n  });\n  const transformValue = transformJson && transform ? _effect_sql_Statement__WEBPACK_IMPORTED_MODULE_3__.defaultTransforms(transform).value : undefined;\n  return _effect_sql_Statement__WEBPACK_IMPORTED_MODULE_3__.makeCompiler({\n    dialect: \"pg\",\n    placeholder(_) {\n      return `$${_}`;\n    },\n    onIdentifier: transform ? function (value, withoutTransform) {\n      return withoutTransform ? escape(value) : escape(transform(value));\n    } : escape,\n    onRecordUpdate(placeholders, valueAlias, valueColumns, values, returning) {\n      return [`(values ${placeholders}) AS ${valueAlias}${valueColumns}${returning ? ` RETURNING ${returning[0]}` : \"\"}`, returning ? values.flat().concat(returning[1]) : values.flat()];\n    },\n    onCustom(type, placeholder, withoutTransform) {\n      switch (type.kind) {\n        case \"PgJson\":\n          {\n            return [placeholder(undefined), [pg.json(withoutTransform || transformValue === undefined ? type.i0 : transformValue(type.i0))]];\n          }\n        case \"PgArray\":\n          {\n            const param = pg.array(type.i0);\n            const first = type.i0[0];\n            switch (typeof first) {\n              case \"boolean\":\n                {\n                  param.type = 1000;\n                  break;\n                }\n              case \"number\":\n                {\n                  param.type = 1022;\n                  break;\n                }\n              default:\n                {\n                  param.type = 1009;\n                  break;\n                }\n            }\n            return [placeholder(undefined), [param]];\n          }\n      }\n    }\n  });\n};\nconst escape = /*#__PURE__*/_effect_sql_Statement__WEBPACK_IMPORTED_MODULE_3__.defaultEscape(\"\\\"\");\n/**\n * @category custom types\n * @since 1.0.0\n */\nconst PgJson = /*#__PURE__*/_effect_sql_Statement__WEBPACK_IMPORTED_MODULE_3__.custom(\"PgJson\");\n/**\n * @category custom types\n * @since 1.0.0\n */\nconst PgArray = /*#__PURE__*/_effect_sql_Statement__WEBPACK_IMPORTED_MODULE_3__.custom(\"PgArray\");\n//# sourceMappingURL=PgClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsLXBnL2Rpc3QvZXNtL1BnQ2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQzhEO0FBQ2Q7QUFDQTtBQUNHO0FBQ1M7QUFDdEI7QUFDRTtBQUNFO0FBQ0U7QUFDSjtBQUNGO0FBQ007QUFDSjtBQUNSO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDhCQUE4QixzREFBa0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsOENBQVU7QUFDekM7QUFDQSx1REFBdUQsb0VBQTJCO0FBQ2xGO0FBQ0E7QUFDQSxxREFBcUQscURBQWlCLENBQUMsbURBQWU7QUFDdEYsbURBQW1ELHFEQUFpQixDQUFDLG1EQUFlO0FBQ3BGLHlEQUF5RCxxREFBaUIsQ0FBQyxtREFBZTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsa0RBQWM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtCQUErQixvREFBUSxDQUFDLGtEQUFjLHVCQUF1QixvREFBUTtBQUNyRixTQUFTLHlEQUFxQixDQUFDLHFEQUFpQjtBQUNoRDtBQUNBLHdCQUF3QiwwREFBUTtBQUNoQztBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUcsU0FBUyxrREFBYywyQkFBMkIsc0RBQWtCO0FBQ3ZFLHdDQUF3QyxvREFBZ0I7QUFDeEQseUJBQXlCLDBEQUFRO0FBQ2pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQVk7QUFDekIsK0JBQStCLGtEQUFjLDBCQUEwQiwwREFBUTtBQUMvRTtBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsK0NBQVc7QUFDMUIsT0FBTztBQUNQO0FBQ0E7QUFDQSw2QkFBNkIsOENBQVU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsb0RBQWdCLENBQUMsNERBQXdCLHNEQUFzRCwwREFBUTtBQUNwSDtBQUNBO0FBQ0EsT0FBTyxJQUFJLGlEQUFhLFNBQVMseURBQXFCO0FBQ3REO0FBQ0E7QUFDQSw4QkFBOEIsdURBQVc7QUFDekMsY0FBYyxrREFBYztBQUM1Qix5QkFBeUIsOENBQVUsQ0FBQyx5REFBcUIsQ0FBQyxxREFBaUI7QUFDM0U7QUFDQSwwQkFBMEIsMERBQVE7QUFDbEM7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLFNBQVMsK0NBQVc7QUFDekI7QUFDQSxpR0FBaUcsb0ZBQXVCLEVBQUUsMkZBQThCLElBQUksa0ZBQXFCO0FBQ2pMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxpREFBYTtBQUNuRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsdUJBQXVCLG9EQUFnQixTQUFTLHlEQUFxQixDQUFDLHFEQUFpQjtBQUN2RjtBQUNBLDBCQUEwQiwwREFBUTtBQUNsQztBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEtBQUssS0FBSyxrREFBYztBQUN4QixrQ0FBa0MscURBQWlCO0FBQ25EO0FBQ0EsMEJBQTBCLDBEQUFRO0FBQ2xDO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4QkFBOEIsd0RBQW1CLENBQUMsa0RBQWEsY0FBYyxrREFBYyxRQUFRLDhDQUFVLFdBQVcsZ0RBQVksd0JBQXdCLCtDQUFXLENBQUMsNERBQWdCLG1CQUFtQixrREFBYSxDQUFDLG1FQUFnQjtBQUNoUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qix3REFBbUIsQ0FBQyw4Q0FBVSx5QkFBeUIsZ0RBQVksd0JBQXdCLCtDQUFXLENBQUMsNERBQWdCLGtCQUFrQixrREFBYSxDQUFDLG1FQUFnQjtBQUN0TTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsYUFBYSxvREFBUTtBQUNyQjtBQUNBLEdBQUc7QUFDSCxzREFBc0Qsb0VBQTJCO0FBQ2pGLFNBQVMsK0RBQXNCO0FBQy9CO0FBQ0E7QUFDQSxpQkFBaUIsRUFBRTtBQUNuQixLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHlCQUF5QixhQUFhLE9BQU8sV0FBVyxFQUFFLGFBQWEsRUFBRSwwQkFBMEIsYUFBYSxPQUFPO0FBQ3ZILEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDRCQUE0QixnRUFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIseURBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlEQUFnQjtBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5LXNlcnZlci8uLi8uLi9ub2RlX21vZHVsZXMvQGVmZmVjdC9zcWwtcGcvZGlzdC9lc20vUGdDbGllbnQuanM/OGI4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5pbXBvcnQgKiBhcyBSZWFjdGl2aXR5IGZyb20gXCJAZWZmZWN0L2V4cGVyaW1lbnRhbC9SZWFjdGl2aXR5XCI7XG5pbXBvcnQgKiBhcyBDbGllbnQgZnJvbSBcIkBlZmZlY3Qvc3FsL1NxbENsaWVudFwiO1xuaW1wb3J0IHsgU3FsRXJyb3IgfSBmcm9tIFwiQGVmZmVjdC9zcWwvU3FsRXJyb3JcIjtcbmltcG9ydCAqIGFzIFN0YXRlbWVudCBmcm9tIFwiQGVmZmVjdC9zcWwvU3RhdGVtZW50XCI7XG5pbXBvcnQgKiBhcyBPdGVsIGZyb20gXCJAb3BlbnRlbGVtZXRyeS9zZW1hbnRpYy1jb252ZW50aW9uc1wiO1xuaW1wb3J0ICogYXMgQ2h1bmsgZnJvbSBcImVmZmVjdC9DaHVua1wiO1xuaW1wb3J0ICogYXMgQ29uZmlnIGZyb20gXCJlZmZlY3QvQ29uZmlnXCI7XG5pbXBvcnQgKiBhcyBDb250ZXh0IGZyb20gXCJlZmZlY3QvQ29udGV4dFwiO1xuaW1wb3J0ICogYXMgRHVyYXRpb24gZnJvbSBcImVmZmVjdC9EdXJhdGlvblwiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgKiBhcyBMYXllciBmcm9tIFwiZWZmZWN0L0xheWVyXCI7XG5pbXBvcnQgKiBhcyBSZWRhY3RlZCBmcm9tIFwiZWZmZWN0L1JlZGFjdGVkXCI7XG5pbXBvcnQgKiBhcyBTdHJlYW0gZnJvbSBcImVmZmVjdC9TdHJlYW1cIjtcbmltcG9ydCBwb3N0Z3JlcyBmcm9tIFwicG9zdGdyZXNcIjtcbi8qKlxuICogQGNhdGVnb3J5IHR5cGUgaWRzXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IFR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zcWwtcGcvUGdDbGllbnRcIik7XG4vKipcbiAqIEBjYXRlZ29yeSB0YWdzXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IFBnQ2xpZW50ID0gLyojX19QVVJFX18qL0NvbnRleHQuR2VuZXJpY1RhZyhcIkBlZmZlY3Qvc3FsLXBnL1BnQ2xpZW50XCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JzXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSBvcHRpb25zID0+IEVmZmVjdC5nZW4oZnVuY3Rpb24qICgpIHtcbiAgY29uc3QgY29tcGlsZXIgPSBtYWtlQ29tcGlsZXIob3B0aW9ucy50cmFuc2Zvcm1RdWVyeU5hbWVzLCBvcHRpb25zLnRyYW5zZm9ybUpzb24pO1xuICBjb25zdCB0cmFuc2Zvcm1Sb3dzID0gb3B0aW9ucy50cmFuc2Zvcm1SZXN1bHROYW1lcyA/IFN0YXRlbWVudC5kZWZhdWx0VHJhbnNmb3JtcyhvcHRpb25zLnRyYW5zZm9ybVJlc3VsdE5hbWVzLCBvcHRpb25zLnRyYW5zZm9ybUpzb24pLmFycmF5IDogdW5kZWZpbmVkO1xuICBjb25zdCBvcHRzID0ge1xuICAgIG1heDogb3B0aW9ucy5tYXhDb25uZWN0aW9ucyA/PyAxMCxcbiAgICBtYXhfbGlmZXRpbWU6IG9wdGlvbnMuY29ubmVjdGlvblRUTCA/IE1hdGgucm91bmQoRHVyYXRpb24udG9NaWxsaXMoRHVyYXRpb24uZGVjb2RlKG9wdGlvbnMuY29ubmVjdGlvblRUTCkpIC8gMTAwMCkgOiB1bmRlZmluZWQsXG4gICAgaWRsZV90aW1lb3V0OiBvcHRpb25zLmlkbGVUaW1lb3V0ID8gTWF0aC5yb3VuZChEdXJhdGlvbi50b01pbGxpcyhEdXJhdGlvbi5kZWNvZGUob3B0aW9ucy5pZGxlVGltZW91dCkpIC8gMTAwMCkgOiB1bmRlZmluZWQsXG4gICAgY29ubmVjdF90aW1lb3V0OiBvcHRpb25zLmNvbm5lY3RUaW1lb3V0ID8gTWF0aC5yb3VuZChEdXJhdGlvbi50b01pbGxpcyhEdXJhdGlvbi5kZWNvZGUob3B0aW9ucy5jb25uZWN0VGltZW91dCkpIC8gMTAwMCkgOiB1bmRlZmluZWQsXG4gICAgaG9zdDogb3B0aW9ucy5ob3N0LFxuICAgIHBvcnQ6IG9wdGlvbnMucG9ydCxcbiAgICBzc2w6IG9wdGlvbnMuc3NsLFxuICAgIHBhdGg6IG9wdGlvbnMucGF0aCxcbiAgICBkYXRhYmFzZTogb3B0aW9ucy5kYXRhYmFzZSxcbiAgICB1c2VybmFtZTogb3B0aW9ucy51c2VybmFtZSxcbiAgICBwYXNzd29yZDogb3B0aW9ucy5wYXNzd29yZCA/IFJlZGFjdGVkLnZhbHVlKG9wdGlvbnMucGFzc3dvcmQpIDogdW5kZWZpbmVkLFxuICAgIGZldGNoX3R5cGVzOiBvcHRpb25zLmZldGNoVHlwZXMgPz8gdHJ1ZSxcbiAgICBwcmVwYXJlOiBvcHRpb25zLnByZXBhcmUgPz8gdHJ1ZSxcbiAgICBvbm5vdGljZTogb3B0aW9ucy5vbm5vdGljZSxcbiAgICB0eXBlczogb3B0aW9ucy50eXBlcyxcbiAgICBkZWJ1Zzogb3B0aW9ucy5kZWJ1ZyxcbiAgICBjb25uZWN0aW9uOiB7XG4gICAgICBhcHBsaWNhdGlvbl9uYW1lOiBvcHRpb25zLmFwcGxpY2F0aW9uTmFtZSA/PyBcIkBlZmZlY3Qvc3FsLXBnXCJcbiAgICB9LFxuICAgIHNvY2tldDogb3B0aW9ucy5zb2NrZXRcbiAgfTtcbiAgY29uc3QgY2xpZW50ID0gb3B0aW9ucy51cmwgPyBwb3N0Z3JlcyhSZWRhY3RlZC52YWx1ZShvcHRpb25zLnVybCksIG9wdHMpIDogcG9zdGdyZXMob3B0cyk7XG4gIHlpZWxkKiBFZmZlY3QuYWNxdWlyZVJlbGVhc2UoRWZmZWN0LnRyeVByb21pc2Uoe1xuICAgIHRyeTogKCkgPT4gY2xpZW50YHNlbGVjdCAxYCxcbiAgICBjYXRjaDogY2F1c2UgPT4gbmV3IFNxbEVycm9yKHtcbiAgICAgIGNhdXNlLFxuICAgICAgbWVzc2FnZTogXCJQZ0NsaWVudDogRmFpbGVkIHRvIGNvbm5lY3RcIlxuICAgIH0pXG4gIH0pLCAoKSA9PiBFZmZlY3QucHJvbWlzZSgoKSA9PiBjbGllbnQuZW5kKCkpKS5waXBlKEVmZmVjdC50aW1lb3V0RmFpbCh7XG4gICAgZHVyYXRpb246IG9wdGlvbnMuY29ubmVjdFRpbWVvdXQgPz8gRHVyYXRpb24uc2Vjb25kcyg1KSxcbiAgICBvblRpbWVvdXQ6ICgpID0+IG5ldyBTcWxFcnJvcih7XG4gICAgICBjYXVzZTogbmV3IEVycm9yKFwiQ29ubmVjdGlvbiB0aW1lZCBvdXRcIiksXG4gICAgICBtZXNzYWdlOiBcIlBnQ2xpZW50OiBDb25uZWN0aW9uIHRpbWVkIG91dFwiXG4gICAgfSlcbiAgfSkpO1xuICBjbGFzcyBDb25uZWN0aW9uSW1wbCB7XG4gICAgcGc7XG4gICAgY29uc3RydWN0b3IocGcpIHtcbiAgICAgIHRoaXMucGcgPSBwZztcbiAgICB9XG4gICAgcnVuKHF1ZXJ5KSB7XG4gICAgICByZXR1cm4gRWZmZWN0LmFzeW5jKHJlc3VtZSA9PiB7XG4gICAgICAgIHF1ZXJ5LnRoZW4oXyA9PiByZXN1bWUoRWZmZWN0LnN1Y2NlZWQoXykpLCBjYXVzZSA9PiByZXN1bWUobmV3IFNxbEVycm9yKHtcbiAgICAgICAgICBjYXVzZSxcbiAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBleGVjdXRlIHN0YXRlbWVudFwiXG4gICAgICAgIH0pKSk7XG4gICAgICAgIHJldHVybiBFZmZlY3Quc3luYygoKSA9PiBxdWVyeS5jYW5jZWwoKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZXhlY3V0ZShzcWwsIHBhcmFtcywgdHJhbnNmb3JtUm93cykge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybVJvd3MgPyBFZmZlY3QubWFwKHRoaXMucnVuKHRoaXMucGcudW5zYWZlKHNxbCwgcGFyYW1zKSksIHRyYW5zZm9ybVJvd3MpIDogdGhpcy5ydW4odGhpcy5wZy51bnNhZmUoc3FsLCBwYXJhbXMpKTtcbiAgICB9XG4gICAgZXhlY3V0ZVJhdyhzcWwsIHBhcmFtcykge1xuICAgICAgcmV0dXJuIHRoaXMucnVuKHRoaXMucGcudW5zYWZlKHNxbCwgcGFyYW1zKSk7XG4gICAgfVxuICAgIGV4ZWN1dGVXaXRob3V0VHJhbnNmb3JtKHNxbCwgcGFyYW1zKSB7XG4gICAgICByZXR1cm4gdGhpcy5ydW4odGhpcy5wZy51bnNhZmUoc3FsLCBwYXJhbXMpKTtcbiAgICB9XG4gICAgZXhlY3V0ZVZhbHVlcyhzcWwsIHBhcmFtcykge1xuICAgICAgcmV0dXJuIHRoaXMucnVuKHRoaXMucGcudW5zYWZlKHNxbCwgcGFyYW1zKS52YWx1ZXMoKSk7XG4gICAgfVxuICAgIGV4ZWN1dGVVbnByZXBhcmVkKHNxbCwgcGFyYW1zLCB0cmFuc2Zvcm1Sb3dzKSB7XG4gICAgICByZXR1cm4gdGhpcy5leGVjdXRlKHNxbCwgcGFyYW1zLCB0cmFuc2Zvcm1Sb3dzKTtcbiAgICB9XG4gICAgZXhlY3V0ZVN0cmVhbShzcWwsIHBhcmFtcywgdHJhbnNmb3JtUm93cykge1xuICAgICAgcmV0dXJuIFN0cmVhbS5tYXBDaHVua3MoU3RyZWFtLmZyb21Bc3luY0l0ZXJhYmxlKHRoaXMucGcudW5zYWZlKHNxbCwgcGFyYW1zKS5jdXJzb3IoMTYpLCBjYXVzZSA9PiBuZXcgU3FsRXJyb3Ioe1xuICAgICAgICBjYXVzZSxcbiAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gZXhlY3V0ZSBzdGF0ZW1lbnRcIlxuICAgICAgfSkpLCBDaHVuay5mbGF0TWFwKHJvd3MgPT4gQ2h1bmsudW5zYWZlRnJvbUFycmF5KHRyYW5zZm9ybVJvd3MgPyB0cmFuc2Zvcm1Sb3dzKHJvd3MpIDogcm93cykpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeWllbGQqIENsaWVudC5tYWtlKHtcbiAgICBhY3F1aXJlcjogRWZmZWN0LnN1Y2NlZWQobmV3IENvbm5lY3Rpb25JbXBsKGNsaWVudCkpLFxuICAgIHRyYW5zYWN0aW9uQWNxdWlyZXI6IEVmZmVjdC5tYXAoRWZmZWN0LmFjcXVpcmVSZWxlYXNlKEVmZmVjdC50cnlQcm9taXNlKHtcbiAgICAgIHRyeTogKCkgPT4gY2xpZW50LnJlc2VydmUoKSxcbiAgICAgIGNhdGNoOiBjYXVzZSA9PiBuZXcgU3FsRXJyb3Ioe1xuICAgICAgICBjYXVzZSxcbiAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gcmVzZXJ2ZSBjb25uZWN0aW9uXCJcbiAgICAgIH0pXG4gICAgfSksIHBnID0+IEVmZmVjdC5zeW5jKCgpID0+IHBnLnJlbGVhc2UoKSkpLCBfID0+IG5ldyBDb25uZWN0aW9uSW1wbChfKSksXG4gICAgY29tcGlsZXIsXG4gICAgc3BhbkF0dHJpYnV0ZXM6IFsuLi4ob3B0aW9ucy5zcGFuQXR0cmlidXRlcyA/IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuc3BhbkF0dHJpYnV0ZXMpIDogW10pLCBbT3RlbC5TRU1BVFRSU19EQl9TWVNURU0sIE90ZWwuREJTWVNURU1WQUxVRVNfUE9TVEdSRVNRTF0sIFtPdGVsLlNFTUFUVFJTX0RCX05BTUUsIG9wdHMuZGF0YWJhc2UgPz8gb3B0aW9ucy51c2VybmFtZSA/PyBcInBvc3RncmVzXCJdLCBbXCJzZXJ2ZXIuYWRkcmVzc1wiLCBvcHRzLmhvc3QgPz8gXCJsb2NhbGhvc3RcIl0sIFtcInNlcnZlci5wb3J0XCIsIG9wdHMucG9ydCA/PyA1NDMyXV0sXG4gICAgdHJhbnNmb3JtUm93c1xuICB9KSwge1xuICAgIFtUeXBlSWRdOiBUeXBlSWQsXG4gICAgY29uZmlnOiB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaG9zdDogY2xpZW50Lm9wdGlvbnMuaG9zdFswXSA/PyB1bmRlZmluZWQsXG4gICAgICBwb3J0OiBjbGllbnQub3B0aW9ucy5wb3J0WzBdID8/IHVuZGVmaW5lZCxcbiAgICAgIHVzZXJuYW1lOiBjbGllbnQub3B0aW9ucy51c2VyLFxuICAgICAgcGFzc3dvcmQ6IGNsaWVudC5vcHRpb25zLnBhc3MgPyBSZWRhY3RlZC5tYWtlKGNsaWVudC5vcHRpb25zLnBhc3MpIDogdW5kZWZpbmVkLFxuICAgICAgZGF0YWJhc2U6IGNsaWVudC5vcHRpb25zLmRhdGFiYXNlXG4gICAgfSxcbiAgICBqc29uOiBfID0+IFBnSnNvbihfKSxcbiAgICBhcnJheTogXyA9PiBQZ0FycmF5KF8pLFxuICAgIGxpc3RlbjogY2hhbm5lbCA9PiBTdHJlYW0uYXN5bmNQdXNoKGVtaXQgPT4gRWZmZWN0LmFjcXVpcmVSZWxlYXNlKEVmZmVjdC50cnlQcm9taXNlKHtcbiAgICAgIHRyeTogKCkgPT4gY2xpZW50Lmxpc3RlbihjaGFubmVsLCBwYXlsb2FkID0+IGVtaXQuc2luZ2xlKHBheWxvYWQpKSxcbiAgICAgIGNhdGNoOiBjYXVzZSA9PiBuZXcgU3FsRXJyb3Ioe1xuICAgICAgICBjYXVzZSxcbiAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gbGlzdGVuXCJcbiAgICAgIH0pXG4gICAgfSksICh7XG4gICAgICB1bmxpc3RlblxuICAgIH0pID0+IEVmZmVjdC5wcm9taXNlKCgpID0+IHVubGlzdGVuKCkpKSksXG4gICAgbm90aWZ5OiAoY2hhbm5lbCwgcGF5bG9hZCkgPT4gRWZmZWN0LnRyeVByb21pc2Uoe1xuICAgICAgdHJ5OiAoKSA9PiBjbGllbnQubm90aWZ5KGNoYW5uZWwsIHBheWxvYWQpLFxuICAgICAgY2F0Y2g6IGNhdXNlID0+IG5ldyBTcWxFcnJvcih7XG4gICAgICAgIGNhdXNlLFxuICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBub3RpZnlcIlxuICAgICAgfSlcbiAgICB9KVxuICB9KTtcbn0pO1xuLyoqXG4gKiBAY2F0ZWdvcnkgbGF5ZXJzXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyQ29uZmlnID0gY29uZmlnID0+IExheWVyLnNjb3BlZENvbnRleHQoQ29uZmlnLnVud3JhcChjb25maWcpLnBpcGUoRWZmZWN0LmZsYXRNYXAobWFrZSksIEVmZmVjdC5tYXAoY2xpZW50ID0+IENvbnRleHQubWFrZShQZ0NsaWVudCwgY2xpZW50KS5waXBlKENvbnRleHQuYWRkKENsaWVudC5TcWxDbGllbnQsIGNsaWVudCkpKSkpLnBpcGUoTGF5ZXIucHJvdmlkZShSZWFjdGl2aXR5LmxheWVyKSk7XG4vKipcbiAqIEBjYXRlZ29yeSBsYXllcnNcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgbGF5ZXIgPSBjb25maWcgPT4gTGF5ZXIuc2NvcGVkQ29udGV4dChFZmZlY3QubWFwKG1ha2UoY29uZmlnKSwgY2xpZW50ID0+IENvbnRleHQubWFrZShQZ0NsaWVudCwgY2xpZW50KS5waXBlKENvbnRleHQuYWRkKENsaWVudC5TcWxDbGllbnQsIGNsaWVudCkpKSkucGlwZShMYXllci5wcm92aWRlKFJlYWN0aXZpdHkubGF5ZXIpKTtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IG1ha2VDb21waWxlciA9ICh0cmFuc2Zvcm0sIHRyYW5zZm9ybUpzb24gPSB0cnVlKSA9PiB7XG4gIGNvbnN0IHBnID0gcG9zdGdyZXMoe1xuICAgIG1heDogMFxuICB9KTtcbiAgY29uc3QgdHJhbnNmb3JtVmFsdWUgPSB0cmFuc2Zvcm1Kc29uICYmIHRyYW5zZm9ybSA/IFN0YXRlbWVudC5kZWZhdWx0VHJhbnNmb3Jtcyh0cmFuc2Zvcm0pLnZhbHVlIDogdW5kZWZpbmVkO1xuICByZXR1cm4gU3RhdGVtZW50Lm1ha2VDb21waWxlcih7XG4gICAgZGlhbGVjdDogXCJwZ1wiLFxuICAgIHBsYWNlaG9sZGVyKF8pIHtcbiAgICAgIHJldHVybiBgJCR7X31gO1xuICAgIH0sXG4gICAgb25JZGVudGlmaWVyOiB0cmFuc2Zvcm0gPyBmdW5jdGlvbiAodmFsdWUsIHdpdGhvdXRUcmFuc2Zvcm0pIHtcbiAgICAgIHJldHVybiB3aXRob3V0VHJhbnNmb3JtID8gZXNjYXBlKHZhbHVlKSA6IGVzY2FwZSh0cmFuc2Zvcm0odmFsdWUpKTtcbiAgICB9IDogZXNjYXBlLFxuICAgIG9uUmVjb3JkVXBkYXRlKHBsYWNlaG9sZGVycywgdmFsdWVBbGlhcywgdmFsdWVDb2x1bW5zLCB2YWx1ZXMsIHJldHVybmluZykge1xuICAgICAgcmV0dXJuIFtgKHZhbHVlcyAke3BsYWNlaG9sZGVyc30pIEFTICR7dmFsdWVBbGlhc30ke3ZhbHVlQ29sdW1uc30ke3JldHVybmluZyA/IGAgUkVUVVJOSU5HICR7cmV0dXJuaW5nWzBdfWAgOiBcIlwifWAsIHJldHVybmluZyA/IHZhbHVlcy5mbGF0KCkuY29uY2F0KHJldHVybmluZ1sxXSkgOiB2YWx1ZXMuZmxhdCgpXTtcbiAgICB9LFxuICAgIG9uQ3VzdG9tKHR5cGUsIHBsYWNlaG9sZGVyLCB3aXRob3V0VHJhbnNmb3JtKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUua2luZCkge1xuICAgICAgICBjYXNlIFwiUGdKc29uXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFtwbGFjZWhvbGRlcih1bmRlZmluZWQpLCBbcGcuanNvbih3aXRob3V0VHJhbnNmb3JtIHx8IHRyYW5zZm9ybVZhbHVlID09PSB1bmRlZmluZWQgPyB0eXBlLmkwIDogdHJhbnNmb3JtVmFsdWUodHlwZS5pMCkpXV07XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiUGdBcnJheVwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gcGcuYXJyYXkodHlwZS5pMCk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdCA9IHR5cGUuaTBbMF07XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBmaXJzdCkge1xuICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHBhcmFtLnR5cGUgPSAxMDAwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcGFyYW0udHlwZSA9IDEwMjI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcGFyYW0udHlwZSA9IDEwMDk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3BsYWNlaG9sZGVyKHVuZGVmaW5lZCksIFtwYXJhbV1dO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcbmNvbnN0IGVzY2FwZSA9IC8qI19fUFVSRV9fKi9TdGF0ZW1lbnQuZGVmYXVsdEVzY2FwZShcIlxcXCJcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBjdXN0b20gdHlwZXNcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5jb25zdCBQZ0pzb24gPSAvKiNfX1BVUkVfXyovU3RhdGVtZW50LmN1c3RvbShcIlBnSnNvblwiKTtcbi8qKlxuICogQGNhdGVnb3J5IGN1c3RvbSB0eXBlc1xuICogQHNpbmNlIDEuMC4wXG4gKi9cbmNvbnN0IFBnQXJyYXkgPSAvKiNfX1BVUkVfXyovU3RhdGVtZW50LmN1c3RvbShcIlBnQXJyYXlcIik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QZ0NsaWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/sql-pg/dist/esm/PgClient.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/sql/dist/esm/SqlClient.js":
/*!************************************************************!*\
  !*** ../../node_modules/@effect/sql/dist/esm/SqlClient.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SqlClient: () => (/* binding */ SqlClient),\n/* harmony export */   TransactionConnection: () => (/* binding */ TransactionConnection),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeWithTransaction: () => (/* binding */ makeWithTransaction)\n/* harmony export */ });\n/* harmony import */ var _internal_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/client.js */ \"(rsc)/../../node_modules/@effect/sql/dist/esm/internal/client.js\");\n\n/**\n * @category type ids\n * @since 1.0.0\n */\nconst TypeId = _internal_client_js__WEBPACK_IMPORTED_MODULE_0__.TypeId;\n/**\n * @category models\n * @since 1.0.0\n */\nconst SqlClient = _internal_client_js__WEBPACK_IMPORTED_MODULE_0__.clientTag;\n/**\n * @category constructors\n * @since 1.0.0\n */\nconst make = _internal_client_js__WEBPACK_IMPORTED_MODULE_0__.make;\n/**\n * @since 1.0.0\n * @category transactions\n */\nconst makeWithTransaction = _internal_client_js__WEBPACK_IMPORTED_MODULE_0__.makeWithTransaction;\n/**\n * @since 1.0.0\n */\nconst TransactionConnection = _internal_client_js__WEBPACK_IMPORTED_MODULE_0__.TransactionConnection;\n//# sourceMappingURL=SqlClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsL2Rpc3QvZXNtL1NxbENsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxlQUFlLHVEQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sa0JBQWtCLDBEQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNPLGFBQWEscURBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0QkFBNEIsb0VBQTRCO0FBQy9EO0FBQ0E7QUFDQTtBQUNPLDhCQUE4QixzRUFBOEI7QUFDbkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsL2Rpc3QvZXNtL1NxbENsaWVudC5qcz9lOWQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGludGVybmFsIGZyb20gXCIuL2ludGVybmFsL2NsaWVudC5qc1wiO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZHNcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gaW50ZXJuYWwuVHlwZUlkO1xuLyoqXG4gKiBAY2F0ZWdvcnkgbW9kZWxzXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IFNxbENsaWVudCA9IGludGVybmFsLmNsaWVudFRhZztcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yc1xuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlID0gaW50ZXJuYWwubWFrZTtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgdHJhbnNhY3Rpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBtYWtlV2l0aFRyYW5zYWN0aW9uID0gaW50ZXJuYWwubWFrZVdpdGhUcmFuc2FjdGlvbjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFuc2FjdGlvbkNvbm5lY3Rpb24gPSBpbnRlcm5hbC5UcmFuc2FjdGlvbkNvbm5lY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcWxDbGllbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/sql/dist/esm/SqlClient.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/sql/dist/esm/SqlError.js":
/*!***********************************************************!*\
  !*** ../../node_modules/@effect/sql/dist/esm/SqlError.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResultLengthMismatch: () => (/* binding */ ResultLengthMismatch),\n/* harmony export */   SqlError: () => (/* binding */ SqlError),\n/* harmony export */   SqlErrorTypeId: () => (/* binding */ SqlErrorTypeId)\n/* harmony export */ });\n/* harmony import */ var _effect_platform_Error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @effect/platform/Error */ \"(rsc)/../../node_modules/@effect/platform/dist/esm/Error.js\");\n/**\n * @since 1.0.0\n */\n\n/**\n * @since 1.0.0\n */\nconst SqlErrorTypeId = /*#__PURE__*/Symbol.for(\"@effect/sql/SqlError\");\n/**\n * @since 1.0.0\n */\nclass SqlError extends /*#__PURE__*/(0,_effect_platform_Error__WEBPACK_IMPORTED_MODULE_0__.TypeIdError)(SqlErrorTypeId, \"SqlError\") {}\n/**\n * @since 1.0.0\n */\nclass ResultLengthMismatch extends /*#__PURE__*/(0,_effect_platform_Error__WEBPACK_IMPORTED_MODULE_0__.TypeIdError)(SqlErrorTypeId, \"ResultLengthMismatch\") {\n  get message() {\n    return `Expected ${this.expected} results but got ${this.actual}`;\n  }\n}\n//# sourceMappingURL=SqlError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsL2Rpc3QvZXNtL1NxbEVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTyxvQ0FBb0MsbUVBQVc7QUFDdEQ7QUFDQTtBQUNBO0FBQ08sZ0RBQWdELG1FQUFXO0FBQ2xFO0FBQ0EsdUJBQXVCLGVBQWUsa0JBQWtCLFlBQVk7QUFDcEU7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3NxbC9kaXN0L2VzbS9TcWxFcnJvci5qcz9jNzQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmltcG9ydCB7IFR5cGVJZEVycm9yIH0gZnJvbSBcIkBlZmZlY3QvcGxhdGZvcm0vRXJyb3JcIjtcbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBTcWxFcnJvclR5cGVJZCA9IC8qI19fUFVSRV9fKi9TeW1ib2wuZm9yKFwiQGVmZmVjdC9zcWwvU3FsRXJyb3JcIik7XG4vKipcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY2xhc3MgU3FsRXJyb3IgZXh0ZW5kcyAvKiNfX1BVUkVfXyovVHlwZUlkRXJyb3IoU3FsRXJyb3JUeXBlSWQsIFwiU3FsRXJyb3JcIikge31cbi8qKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXN1bHRMZW5ndGhNaXNtYXRjaCBleHRlbmRzIC8qI19fUFVSRV9fKi9UeXBlSWRFcnJvcihTcWxFcnJvclR5cGVJZCwgXCJSZXN1bHRMZW5ndGhNaXNtYXRjaFwiKSB7XG4gIGdldCBtZXNzYWdlKCkge1xuICAgIHJldHVybiBgRXhwZWN0ZWQgJHt0aGlzLmV4cGVjdGVkfSByZXN1bHRzIGJ1dCBnb3QgJHt0aGlzLmFjdHVhbH1gO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcWxFcnJvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/sql/dist/esm/SqlError.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/sql/dist/esm/SqlResolver.js":
/*!**************************************************************!*\
  !*** ../../node_modules/@effect/sql/dist/esm/SqlResolver.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findById: () => (/* binding */ findById),\n/* harmony export */   grouped: () => (/* binding */ grouped),\n/* harmony export */   ordered: () => (/* binding */ ordered),\n/* harmony export */   \"void\": () => (/* binding */ void_)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Equal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Equal */ \"(rsc)/../../node_modules/effect/dist/esm/Equal.js\");\n/* harmony import */ var effect_Exit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Exit */ \"(rsc)/../../node_modules/effect/dist/esm/Exit.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Hash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Hash */ \"(rsc)/../../node_modules/effect/dist/esm/Hash.js\");\n/* harmony import */ var effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/MutableHashMap */ \"(rsc)/../../node_modules/effect/dist/esm/MutableHashMap.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Request */ \"(rsc)/../../node_modules/effect/dist/esm/Request.js\");\n/* harmony import */ var effect_RequestResolver__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/RequestResolver */ \"(rsc)/../../node_modules/effect/dist/esm/RequestResolver.js\");\n/* harmony import */ var effect_Schema__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Schema */ \"(rsc)/../../node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var effect_Tracer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Tracer */ \"(rsc)/../../node_modules/effect/dist/esm/Tracer.js\");\n/* harmony import */ var _internal_client_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./internal/client.js */ \"(rsc)/../../node_modules/@effect/sql/dist/esm/internal/client.js\");\n/* harmony import */ var _SqlError_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./SqlError.js */ \"(rsc)/../../node_modules/@effect/sql/dist/esm/SqlError.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst SqlRequestProto = {\n  ...effect_Request__WEBPACK_IMPORTED_MODULE_0__.Class.prototype,\n  [effect_Equal__WEBPACK_IMPORTED_MODULE_1__.symbol](that) {\n    return this._tag === that._tag && effect_Equal__WEBPACK_IMPORTED_MODULE_1__.equals(this.input, that.input);\n  },\n  [effect_Hash__WEBPACK_IMPORTED_MODULE_2__.symbol]() {\n    return effect_Hash__WEBPACK_IMPORTED_MODULE_2__.cached(this, effect_Hash__WEBPACK_IMPORTED_MODULE_2__.combine(effect_Hash__WEBPACK_IMPORTED_MODULE_2__.hash(this.input))(effect_Hash__WEBPACK_IMPORTED_MODULE_2__.string(this._tag)));\n  }\n};\nconst makeRequest = (tag, input, encoded, span) => {\n  const self = Object.create(SqlRequestProto);\n  self._tag = tag;\n  self.spanLink = {\n    _tag: \"SpanLink\",\n    span,\n    attributes: {}\n  };\n  self.input = input;\n  self.encoded = encoded;\n  return self;\n};\nconst partitionRequests = requests => {\n  const len = requests.length;\n  const inputs = new Array(len);\n  const spanLinks = new Array(len);\n  for (let i = 0; i < len; i++) {\n    const request = requests[i];\n    inputs[i] = request.encoded;\n    spanLinks[i] = request.spanLink;\n  }\n  return [inputs, spanLinks];\n};\nconst partitionRequestsById = () => requests => {\n  const len = requests.length;\n  const inputs = new Array(len);\n  const spanLinks = new Array(len);\n  const byIdMap = effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__.empty();\n  for (let i = 0; i < len; i++) {\n    const request = requests[i];\n    inputs[i] = request.encoded;\n    spanLinks[i] = request.spanLink;\n    effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__.set(byIdMap, request.input, request);\n  }\n  return [inputs, spanLinks, byIdMap];\n};\nconst makeResolver = (self, tag, Request, withContext) => {\n  function make(context) {\n    const encode = effect_Schema__WEBPACK_IMPORTED_MODULE_4__.encode(Request);\n    function makeExecute(self) {\n      return function (input) {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.useSpan(`sql.Resolver.execute ${tag}`, {\n          kind: \"client\",\n          captureStackTrace: false\n        }, span => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withFiberRuntime(fiber => {\n          span.attribute(\"request.input\", input);\n          const currentContext = fiber.currentContext;\n          const connection = currentContext.unsafeMap.get(_internal_client_js__WEBPACK_IMPORTED_MODULE_6__.TransactionConnection.key);\n          let toProvide = context;\n          if (connection !== undefined) {\n            if (toProvide === undefined) {\n              toProvide = effect_Context__WEBPACK_IMPORTED_MODULE_7__.make(_internal_client_js__WEBPACK_IMPORTED_MODULE_6__.TransactionConnection, connection);\n            } else {\n              toProvide = effect_Context__WEBPACK_IMPORTED_MODULE_7__.add(toProvide, _internal_client_js__WEBPACK_IMPORTED_MODULE_6__.TransactionConnection, connection);\n            }\n          }\n          const resolver = toProvide === undefined ? self : effect_RequestResolver__WEBPACK_IMPORTED_MODULE_8__.provideContext(self, toProvide);\n          return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(encode(input), encoded => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.request(makeRequest(tag, input, encoded, span), resolver));\n        }));\n      };\n    }\n    return Object.assign(self, {\n      request(input) {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withFiberRuntime(fiber => {\n          const span = fiber.currentContext.unsafeMap.get(effect_Tracer__WEBPACK_IMPORTED_MODULE_9__.ParentSpan.key);\n          return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.map(encode(input), encoded => makeRequest(tag, input, encoded, span));\n        });\n      },\n      cachePopulate(input, value) {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.cacheRequestResult(makeRequest(tag, input, null, null), effect_Exit__WEBPACK_IMPORTED_MODULE_10__.succeed(value));\n      },\n      cacheInvalidate(input) {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withFiberRuntime(fiber => {\n          const cache = fiber.getFiberRef(effect_FiberRef__WEBPACK_IMPORTED_MODULE_11__.currentRequestCache);\n          return cache.invalidate(makeRequest(tag, input, null, null));\n        });\n      },\n      makeExecute,\n      execute: makeExecute(self)\n    });\n  }\n  return withContext === true ? effect_Effect__WEBPACK_IMPORTED_MODULE_5__.map(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.context(), make) : effect_Effect__WEBPACK_IMPORTED_MODULE_5__.succeed(make(undefined));\n};\n/**\n * Create a resolver for a sql query with a request schema and a result schema.\n *\n * The request schema is used to validate the input of the query.\n * The result schema is used to validate the output of the query.\n *\n * Results are mapped to the requests in order, so the length of the results must match the length of the requests.\n *\n * @since 1.0.0\n * @category resolvers\n */\nconst ordered = (tag, options) => {\n  const decodeResults = effect_Schema__WEBPACK_IMPORTED_MODULE_4__.decodeUnknown(effect_Schema__WEBPACK_IMPORTED_MODULE_4__.Array(options.Result));\n  const resolver = effect_RequestResolver__WEBPACK_IMPORTED_MODULE_8__.makeBatched(requests => {\n    const [inputs, spanLinks] = partitionRequests(requests);\n    return options.execute(inputs).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.filterOrFail(results => results.length === inputs.length, ({\n      length\n    }) => new _SqlError_js__WEBPACK_IMPORTED_MODULE_12__.ResultLengthMismatch({\n      expected: inputs.length,\n      actual: length\n    })), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(decodeResults), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach((result, i) => effect_Request__WEBPACK_IMPORTED_MODULE_0__.succeed(requests[i], result), {\n      discard: true\n    })), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchAllCause(cause => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(requests, request => effect_Request__WEBPACK_IMPORTED_MODULE_0__.failCause(request, cause), {\n      discard: true\n    })), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withSpan(`sql.Resolver.batch ${tag}`, {\n      kind: \"client\",\n      links: spanLinks,\n      attributes: {\n        \"request.count\": inputs.length\n      },\n      captureStackTrace: false\n    }));\n  }).identified(`@effect/sql/SqlResolver.ordered/${tag}`);\n  return makeResolver(resolver, tag, options.Request, options.withContext);\n};\n/**\n * Create a resolver the can return multiple results for a single request.\n *\n * Results are grouped by a common key extracted from the request and result.\n *\n * @since 1.0.0\n * @category resolvers\n */\nconst grouped = (tag, options) => {\n  const decodeResults = effect_Schema__WEBPACK_IMPORTED_MODULE_4__.decodeUnknown(effect_Schema__WEBPACK_IMPORTED_MODULE_4__.Array(options.Result));\n  const resolver = effect_RequestResolver__WEBPACK_IMPORTED_MODULE_8__.makeBatched(requests => {\n    const [inputs, spanLinks] = partitionRequests(requests);\n    const resultMap = effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__.empty();\n    return options.execute(inputs).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.bindTo(\"rawResults\"), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.bind(\"results\", ({\n      rawResults\n    }) => decodeResults(rawResults)), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tap(({\n      rawResults,\n      results\n    }) => {\n      for (let i = 0, len = results.length; i < len; i++) {\n        const result = results[i];\n        const key = options.ResultGroupKey(result, rawResults[i]);\n        const group = effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__.get(resultMap, key);\n        if (group._tag === \"None\") {\n          effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__.set(resultMap, key, [result]);\n        } else {\n          group.value.push(result);\n        }\n      }\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(requests, request => {\n        const key = options.RequestGroupKey(request.input);\n        const result = effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__.get(resultMap, key);\n        return effect_Request__WEBPACK_IMPORTED_MODULE_0__.succeed(request, result._tag === \"None\" ? [] : result.value);\n      }, {\n        discard: true\n      });\n    }), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchAllCause(cause => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(requests, request => effect_Request__WEBPACK_IMPORTED_MODULE_0__.failCause(request, cause), {\n      discard: true\n    })), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withSpan(`sql.Resolver.batch ${tag}`, {\n      kind: \"client\",\n      links: spanLinks,\n      attributes: {\n        \"request.count\": inputs.length\n      },\n      captureStackTrace: false\n    }));\n  }).identified(`@effect/sql/SqlResolver.grouped/${tag}`);\n  return makeResolver(resolver, tag, options.Request, options.withContext);\n};\n/**\n * Create a resolver that resolves results by id.\n *\n * @since 1.0.0\n * @category resolvers\n */\nconst findById = (tag, options) => {\n  const decodeResults = effect_Schema__WEBPACK_IMPORTED_MODULE_4__.decodeUnknown(effect_Schema__WEBPACK_IMPORTED_MODULE_4__.Array(options.Result));\n  const resolver = effect_RequestResolver__WEBPACK_IMPORTED_MODULE_8__.makeBatched(requests => {\n    const [inputs, spanLinks, idMap] = partitionRequestsById()(requests);\n    return options.execute(inputs).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.bindTo(\"rawResults\"), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.bind(\"results\", ({\n      rawResults\n    }) => decodeResults(rawResults)), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(({\n      rawResults,\n      results\n    }) => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(results, (result, i) => {\n      const id = options.ResultId(result, rawResults[i]);\n      const request = effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__.get(idMap, id);\n      if (request._tag === \"None\") {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_5__[\"void\"];\n      }\n      effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__.remove(idMap, id);\n      return effect_Request__WEBPACK_IMPORTED_MODULE_0__.succeed(request.value, effect_Option__WEBPACK_IMPORTED_MODULE_13__.some(result));\n    }, {\n      discard: true\n    })), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.tap(_ => {\n      if (effect_MutableHashMap__WEBPACK_IMPORTED_MODULE_3__.size(idMap) === 0) {\n        return effect_Effect__WEBPACK_IMPORTED_MODULE_5__[\"void\"];\n      }\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(idMap, ([, request]) => effect_Request__WEBPACK_IMPORTED_MODULE_0__.succeed(request, effect_Option__WEBPACK_IMPORTED_MODULE_13__.none()), {\n        discard: true\n      });\n    }), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchAllCause(cause => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(requests, request => effect_Request__WEBPACK_IMPORTED_MODULE_0__.failCause(request, cause), {\n      discard: true\n    })), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withSpan(`sql.Resolver.batch ${tag}`, {\n      kind: \"client\",\n      links: spanLinks,\n      attributes: {\n        \"request.count\": inputs.length\n      },\n      captureStackTrace: false\n    }));\n  }).identified(`@effect/sql/SqlResolver.findById/${tag}`);\n  return makeResolver(resolver, tag, options.Id, options.withContext);\n};\nconst void_ = (tag, options) => {\n  const resolver = effect_RequestResolver__WEBPACK_IMPORTED_MODULE_8__.makeBatched(requests => {\n    const [inputs, spanLinks] = partitionRequests(requests);\n    return options.execute(inputs).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.andThen(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(requests, request => effect_Request__WEBPACK_IMPORTED_MODULE_0__.complete(request, effect_Exit__WEBPACK_IMPORTED_MODULE_10__[\"void\"]), {\n      discard: true\n    })), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.catchAllCause(cause => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.forEach(requests, request => effect_Request__WEBPACK_IMPORTED_MODULE_0__.failCause(request, cause), {\n      discard: true\n    })), effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withSpan(`sql.Resolver.batch ${tag}`, {\n      kind: \"client\",\n      links: spanLinks,\n      attributes: {\n        \"request.count\": inputs.length\n      },\n      captureStackTrace: false\n    }));\n  }).identified(`@effect/sql/SqlResolver.void/${tag}`);\n  return makeResolver(resolver, tag, options.Request, options.withContext);\n};\n\n//# sourceMappingURL=SqlResolver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsL2Rpc3QvZXNtL1NxbFJlc29sdmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNGO0FBQ0Y7QUFDRjtBQUNRO0FBQ1I7QUFDb0I7QUFDaEI7QUFDRTtBQUNnQjtBQUNsQjtBQUNBO0FBQ2U7QUFDRjtBQUNyRDtBQUNBLEtBQUssaURBQWE7QUFDbEIsR0FBRyxnREFBWTtBQUNmLHNDQUFzQyxnREFBWTtBQUNsRCxHQUFHO0FBQ0gsR0FBRywrQ0FBVztBQUNkLFdBQVcsK0NBQVcsT0FBTyxnREFBWSxDQUFDLDZDQUFTLGNBQWMsK0NBQVc7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0RBQW9CO0FBQ3RDLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLElBQUksc0RBQWtCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaURBQWE7QUFDaEM7QUFDQTtBQUNBLGVBQWUsa0RBQWMseUJBQXlCLElBQUk7QUFDMUQ7QUFDQTtBQUNBLFNBQVMsVUFBVSwyREFBdUI7QUFDMUM7QUFDQTtBQUNBLDBEQUEwRCxzRUFBb0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdEQUFZLENBQUMsc0VBQW9DO0FBQzNFLGNBQWM7QUFDZCwwQkFBMEIsK0NBQVcsWUFBWSxzRUFBb0M7QUFDckY7QUFDQTtBQUNBLDREQUE0RCxrRUFBOEI7QUFDMUYsaUJBQWlCLGtEQUFjLDJCQUEyQixrREFBYztBQUN4RSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDJEQUF1QjtBQUN0QywwREFBMEQscURBQWlCO0FBQzNFLGlCQUFpQiw4Q0FBVTtBQUMzQixTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsZUFBZSw2REFBeUIsc0NBQXNDLGlEQUFZO0FBQzFGLE9BQU87QUFDUDtBQUNBLGVBQWUsMkRBQXVCO0FBQ3RDLDBDQUEwQyxpRUFBNEI7QUFDdEU7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQ0FBZ0MsOENBQVUsQ0FBQyxrREFBYyxZQUFZLGtEQUFjO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asd0JBQXdCLHdEQUFvQixDQUFDLGdEQUFZO0FBQ3pELG1CQUFtQiwrREFBMkI7QUFDOUM7QUFDQSx3Q0FBd0MsdURBQW1CO0FBQzNEO0FBQ0EsS0FBSyxTQUFTLCtEQUFvQjtBQUNsQztBQUNBO0FBQ0EsS0FBSyxJQUFJLGtEQUFjLGlCQUFpQixrREFBYyxDQUFDLGtEQUFjLGdCQUFnQixtREFBZTtBQUNwRztBQUNBLEtBQUssSUFBSSx3REFBb0IsVUFBVSxrREFBYyxzQkFBc0IscURBQWlCO0FBQzVGO0FBQ0EsS0FBSyxJQUFJLG1EQUFlLHVCQUF1QixJQUFJO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMLEdBQUcsZ0RBQWdELElBQUk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHdCQUF3Qix3REFBb0IsQ0FBQyxnREFBWTtBQUN6RCxtQkFBbUIsK0RBQTJCO0FBQzlDO0FBQ0Esc0JBQXNCLHdEQUFvQjtBQUMxQyx3Q0FBd0MsaURBQWEsZ0JBQWdCLCtDQUFXO0FBQ2hGO0FBQ0EsS0FBSyxpQ0FBaUMsOENBQVU7QUFDaEQ7QUFDQTtBQUNBLEtBQUs7QUFDTCw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFrQjtBQUN4QztBQUNBLFVBQVUsc0RBQWtCO0FBQzVCLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtEQUFjO0FBQzNCO0FBQ0EsdUJBQXVCLHNEQUFrQjtBQUN6QyxlQUFlLG1EQUFlO0FBQzlCLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUCxLQUFLLEdBQUcsd0RBQW9CLFVBQVUsa0RBQWMsc0JBQXNCLHFEQUFpQjtBQUMzRjtBQUNBLEtBQUssSUFBSSxtREFBZSx1QkFBdUIsSUFBSTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxHQUFHLGdEQUFnRCxJQUFJO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHdCQUF3Qix3REFBb0IsQ0FBQyxnREFBWTtBQUN6RCxtQkFBbUIsK0RBQTJCO0FBQzlDO0FBQ0Esd0NBQXdDLGlEQUFhLGdCQUFnQiwrQ0FBVztBQUNoRjtBQUNBLEtBQUssaUNBQWlDLGtEQUFjO0FBQ3BEO0FBQ0E7QUFDQSxLQUFLLEtBQUssa0RBQWM7QUFDeEI7QUFDQSxzQkFBc0Isc0RBQWtCO0FBQ3hDO0FBQ0EsZUFBZSxrREFBVztBQUMxQjtBQUNBLE1BQU0seURBQXFCO0FBQzNCLGFBQWEsbURBQWUsZ0JBQWdCLGdEQUFXO0FBQ3ZELEtBQUs7QUFDTDtBQUNBLEtBQUssSUFBSSw4Q0FBVTtBQUNuQixVQUFVLHVEQUFtQjtBQUM3QixlQUFlLGtEQUFXO0FBQzFCO0FBQ0EsYUFBYSxrREFBYyx5QkFBeUIsbURBQWUsVUFBVSxnREFBVztBQUN4RjtBQUNBLE9BQU87QUFDUCxLQUFLLEdBQUcsd0RBQW9CLFVBQVUsa0RBQWMsc0JBQXNCLHFEQUFpQjtBQUMzRjtBQUNBLEtBQUssSUFBSSxtREFBZSx1QkFBdUIsSUFBSTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxHQUFHLGlEQUFpRCxJQUFJO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrREFBMkI7QUFDOUM7QUFDQSx3Q0FBd0Msa0RBQWMsQ0FBQyxrREFBYyxzQkFBc0Isb0RBQWdCLFVBQVUsaURBQVM7QUFDOUg7QUFDQSxLQUFLLElBQUksd0RBQW9CLFVBQVUsa0RBQWMsc0JBQXNCLHFEQUFpQjtBQUM1RjtBQUNBLEtBQUssSUFBSSxtREFBZSx1QkFBdUIsSUFBSTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxHQUFHLDZDQUE2QyxJQUFJO0FBQ3BEO0FBQ0E7QUFRZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsL2Rpc3QvZXNtL1NxbFJlc29sdmVyLmpzPzliYTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ29udGV4dCBmcm9tIFwiZWZmZWN0L0NvbnRleHRcIjtcbmltcG9ydCAqIGFzIEVmZmVjdCBmcm9tIFwiZWZmZWN0L0VmZmVjdFwiO1xuaW1wb3J0ICogYXMgRXF1YWwgZnJvbSBcImVmZmVjdC9FcXVhbFwiO1xuaW1wb3J0ICogYXMgRXhpdCBmcm9tIFwiZWZmZWN0L0V4aXRcIjtcbmltcG9ydCAqIGFzIEZpYmVyUmVmIGZyb20gXCJlZmZlY3QvRmliZXJSZWZcIjtcbmltcG9ydCAqIGFzIEhhc2ggZnJvbSBcImVmZmVjdC9IYXNoXCI7XG5pbXBvcnQgKiBhcyBNdXRhYmxlSGFzaE1hcCBmcm9tIFwiZWZmZWN0L011dGFibGVIYXNoTWFwXCI7XG5pbXBvcnQgKiBhcyBPcHRpb24gZnJvbSBcImVmZmVjdC9PcHRpb25cIjtcbmltcG9ydCAqIGFzIFJlcXVlc3QgZnJvbSBcImVmZmVjdC9SZXF1ZXN0XCI7XG5pbXBvcnQgKiBhcyBSZXF1ZXN0UmVzb2x2ZXIgZnJvbSBcImVmZmVjdC9SZXF1ZXN0UmVzb2x2ZXJcIjtcbmltcG9ydCAqIGFzIFNjaGVtYSBmcm9tIFwiZWZmZWN0L1NjaGVtYVwiO1xuaW1wb3J0ICogYXMgVHJhY2VyIGZyb20gXCJlZmZlY3QvVHJhY2VyXCI7XG5pbXBvcnQgKiBhcyBpbnRlcm5hbENsaWVudCBmcm9tIFwiLi9pbnRlcm5hbC9jbGllbnQuanNcIjtcbmltcG9ydCB7IFJlc3VsdExlbmd0aE1pc21hdGNoIH0gZnJvbSBcIi4vU3FsRXJyb3IuanNcIjtcbmNvbnN0IFNxbFJlcXVlc3RQcm90byA9IHtcbiAgLi4uUmVxdWVzdC5DbGFzcy5wcm90b3R5cGUsXG4gIFtFcXVhbC5zeW1ib2xdKHRoYXQpIHtcbiAgICByZXR1cm4gdGhpcy5fdGFnID09PSB0aGF0Ll90YWcgJiYgRXF1YWwuZXF1YWxzKHRoaXMuaW5wdXQsIHRoYXQuaW5wdXQpO1xuICB9LFxuICBbSGFzaC5zeW1ib2xdKCkge1xuICAgIHJldHVybiBIYXNoLmNhY2hlZCh0aGlzLCBIYXNoLmNvbWJpbmUoSGFzaC5oYXNoKHRoaXMuaW5wdXQpKShIYXNoLnN0cmluZyh0aGlzLl90YWcpKSk7XG4gIH1cbn07XG5jb25zdCBtYWtlUmVxdWVzdCA9ICh0YWcsIGlucHV0LCBlbmNvZGVkLCBzcGFuKSA9PiB7XG4gIGNvbnN0IHNlbGYgPSBPYmplY3QuY3JlYXRlKFNxbFJlcXVlc3RQcm90byk7XG4gIHNlbGYuX3RhZyA9IHRhZztcbiAgc2VsZi5zcGFuTGluayA9IHtcbiAgICBfdGFnOiBcIlNwYW5MaW5rXCIsXG4gICAgc3BhbixcbiAgICBhdHRyaWJ1dGVzOiB7fVxuICB9O1xuICBzZWxmLmlucHV0ID0gaW5wdXQ7XG4gIHNlbGYuZW5jb2RlZCA9IGVuY29kZWQ7XG4gIHJldHVybiBzZWxmO1xufTtcbmNvbnN0IHBhcnRpdGlvblJlcXVlc3RzID0gcmVxdWVzdHMgPT4ge1xuICBjb25zdCBsZW4gPSByZXF1ZXN0cy5sZW5ndGg7XG4gIGNvbnN0IGlucHV0cyA9IG5ldyBBcnJheShsZW4pO1xuICBjb25zdCBzcGFuTGlua3MgPSBuZXcgQXJyYXkobGVuKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0c1tpXTtcbiAgICBpbnB1dHNbaV0gPSByZXF1ZXN0LmVuY29kZWQ7XG4gICAgc3BhbkxpbmtzW2ldID0gcmVxdWVzdC5zcGFuTGluaztcbiAgfVxuICByZXR1cm4gW2lucHV0cywgc3BhbkxpbmtzXTtcbn07XG5jb25zdCBwYXJ0aXRpb25SZXF1ZXN0c0J5SWQgPSAoKSA9PiByZXF1ZXN0cyA9PiB7XG4gIGNvbnN0IGxlbiA9IHJlcXVlc3RzLmxlbmd0aDtcbiAgY29uc3QgaW5wdXRzID0gbmV3IEFycmF5KGxlbik7XG4gIGNvbnN0IHNwYW5MaW5rcyA9IG5ldyBBcnJheShsZW4pO1xuICBjb25zdCBieUlkTWFwID0gTXV0YWJsZUhhc2hNYXAuZW1wdHkoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0c1tpXTtcbiAgICBpbnB1dHNbaV0gPSByZXF1ZXN0LmVuY29kZWQ7XG4gICAgc3BhbkxpbmtzW2ldID0gcmVxdWVzdC5zcGFuTGluaztcbiAgICBNdXRhYmxlSGFzaE1hcC5zZXQoYnlJZE1hcCwgcmVxdWVzdC5pbnB1dCwgcmVxdWVzdCk7XG4gIH1cbiAgcmV0dXJuIFtpbnB1dHMsIHNwYW5MaW5rcywgYnlJZE1hcF07XG59O1xuY29uc3QgbWFrZVJlc29sdmVyID0gKHNlbGYsIHRhZywgUmVxdWVzdCwgd2l0aENvbnRleHQpID0+IHtcbiAgZnVuY3Rpb24gbWFrZShjb250ZXh0KSB7XG4gICAgY29uc3QgZW5jb2RlID0gU2NoZW1hLmVuY29kZShSZXF1ZXN0KTtcbiAgICBmdW5jdGlvbiBtYWtlRXhlY3V0ZShzZWxmKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBFZmZlY3QudXNlU3Bhbihgc3FsLlJlc29sdmVyLmV4ZWN1dGUgJHt0YWd9YCwge1xuICAgICAgICAgIGtpbmQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgY2FwdHVyZVN0YWNrVHJhY2U6IGZhbHNlXG4gICAgICAgIH0sIHNwYW4gPT4gRWZmZWN0LndpdGhGaWJlclJ1bnRpbWUoZmliZXIgPT4ge1xuICAgICAgICAgIHNwYW4uYXR0cmlidXRlKFwicmVxdWVzdC5pbnB1dFwiLCBpbnB1dCk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbnRleHQgPSBmaWJlci5jdXJyZW50Q29udGV4dDtcbiAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gY3VycmVudENvbnRleHQudW5zYWZlTWFwLmdldChpbnRlcm5hbENsaWVudC5UcmFuc2FjdGlvbkNvbm5lY3Rpb24ua2V5KTtcbiAgICAgICAgICBsZXQgdG9Qcm92aWRlID0gY29udGV4dDtcbiAgICAgICAgICBpZiAoY29ubmVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodG9Qcm92aWRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgdG9Qcm92aWRlID0gQ29udGV4dC5tYWtlKGludGVybmFsQ2xpZW50LlRyYW5zYWN0aW9uQ29ubmVjdGlvbiwgY29ubmVjdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0b1Byb3ZpZGUgPSBDb250ZXh0LmFkZCh0b1Byb3ZpZGUsIGludGVybmFsQ2xpZW50LlRyYW5zYWN0aW9uQ29ubmVjdGlvbiwgY29ubmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gdG9Qcm92aWRlID09PSB1bmRlZmluZWQgPyBzZWxmIDogUmVxdWVzdFJlc29sdmVyLnByb3ZpZGVDb250ZXh0KHNlbGYsIHRvUHJvdmlkZSk7XG4gICAgICAgICAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKGVuY29kZShpbnB1dCksIGVuY29kZWQgPT4gRWZmZWN0LnJlcXVlc3QobWFrZVJlcXVlc3QodGFnLCBpbnB1dCwgZW5jb2RlZCwgc3BhbiksIHJlc29sdmVyKSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHNlbGYsIHtcbiAgICAgIHJlcXVlc3QoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIEVmZmVjdC53aXRoRmliZXJSdW50aW1lKGZpYmVyID0+IHtcbiAgICAgICAgICBjb25zdCBzcGFuID0gZmliZXIuY3VycmVudENvbnRleHQudW5zYWZlTWFwLmdldChUcmFjZXIuUGFyZW50U3Bhbi5rZXkpO1xuICAgICAgICAgIHJldHVybiBFZmZlY3QubWFwKGVuY29kZShpbnB1dCksIGVuY29kZWQgPT4gbWFrZVJlcXVlc3QodGFnLCBpbnB1dCwgZW5jb2RlZCwgc3BhbikpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBjYWNoZVBvcHVsYXRlKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gRWZmZWN0LmNhY2hlUmVxdWVzdFJlc3VsdChtYWtlUmVxdWVzdCh0YWcsIGlucHV0LCBudWxsLCBudWxsKSwgRXhpdC5zdWNjZWVkKHZhbHVlKSk7XG4gICAgICB9LFxuICAgICAgY2FjaGVJbnZhbGlkYXRlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBFZmZlY3Qud2l0aEZpYmVyUnVudGltZShmaWJlciA9PiB7XG4gICAgICAgICAgY29uc3QgY2FjaGUgPSBmaWJlci5nZXRGaWJlclJlZihGaWJlclJlZi5jdXJyZW50UmVxdWVzdENhY2hlKTtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuaW52YWxpZGF0ZShtYWtlUmVxdWVzdCh0YWcsIGlucHV0LCBudWxsLCBudWxsKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG1ha2VFeGVjdXRlLFxuICAgICAgZXhlY3V0ZTogbWFrZUV4ZWN1dGUoc2VsZilcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gd2l0aENvbnRleHQgPT09IHRydWUgPyBFZmZlY3QubWFwKEVmZmVjdC5jb250ZXh0KCksIG1ha2UpIDogRWZmZWN0LnN1Y2NlZWQobWFrZSh1bmRlZmluZWQpKTtcbn07XG4vKipcbiAqIENyZWF0ZSBhIHJlc29sdmVyIGZvciBhIHNxbCBxdWVyeSB3aXRoIGEgcmVxdWVzdCBzY2hlbWEgYW5kIGEgcmVzdWx0IHNjaGVtYS5cbiAqXG4gKiBUaGUgcmVxdWVzdCBzY2hlbWEgaXMgdXNlZCB0byB2YWxpZGF0ZSB0aGUgaW5wdXQgb2YgdGhlIHF1ZXJ5LlxuICogVGhlIHJlc3VsdCBzY2hlbWEgaXMgdXNlZCB0byB2YWxpZGF0ZSB0aGUgb3V0cHV0IG9mIHRoZSBxdWVyeS5cbiAqXG4gKiBSZXN1bHRzIGFyZSBtYXBwZWQgdG8gdGhlIHJlcXVlc3RzIGluIG9yZGVyLCBzbyB0aGUgbGVuZ3RoIG9mIHRoZSByZXN1bHRzIG11c3QgbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgcmVxdWVzdHMuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgcmVzb2x2ZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBvcmRlcmVkID0gKHRhZywgb3B0aW9ucykgPT4ge1xuICBjb25zdCBkZWNvZGVSZXN1bHRzID0gU2NoZW1hLmRlY29kZVVua25vd24oU2NoZW1hLkFycmF5KG9wdGlvbnMuUmVzdWx0KSk7XG4gIGNvbnN0IHJlc29sdmVyID0gUmVxdWVzdFJlc29sdmVyLm1ha2VCYXRjaGVkKHJlcXVlc3RzID0+IHtcbiAgICBjb25zdCBbaW5wdXRzLCBzcGFuTGlua3NdID0gcGFydGl0aW9uUmVxdWVzdHMocmVxdWVzdHMpO1xuICAgIHJldHVybiBvcHRpb25zLmV4ZWN1dGUoaW5wdXRzKS5waXBlKEVmZmVjdC5maWx0ZXJPckZhaWwocmVzdWx0cyA9PiByZXN1bHRzLmxlbmd0aCA9PT0gaW5wdXRzLmxlbmd0aCwgKHtcbiAgICAgIGxlbmd0aFxuICAgIH0pID0+IG5ldyBSZXN1bHRMZW5ndGhNaXNtYXRjaCh7XG4gICAgICBleHBlY3RlZDogaW5wdXRzLmxlbmd0aCxcbiAgICAgIGFjdHVhbDogbGVuZ3RoXG4gICAgfSkpLCBFZmZlY3QuZmxhdE1hcChkZWNvZGVSZXN1bHRzKSwgRWZmZWN0LmZsYXRNYXAoRWZmZWN0LmZvckVhY2goKHJlc3VsdCwgaSkgPT4gUmVxdWVzdC5zdWNjZWVkKHJlcXVlc3RzW2ldLCByZXN1bHQpLCB7XG4gICAgICBkaXNjYXJkOiB0cnVlXG4gICAgfSkpLCBFZmZlY3QuY2F0Y2hBbGxDYXVzZShjYXVzZSA9PiBFZmZlY3QuZm9yRWFjaChyZXF1ZXN0cywgcmVxdWVzdCA9PiBSZXF1ZXN0LmZhaWxDYXVzZShyZXF1ZXN0LCBjYXVzZSksIHtcbiAgICAgIGRpc2NhcmQ6IHRydWVcbiAgICB9KSksIEVmZmVjdC53aXRoU3Bhbihgc3FsLlJlc29sdmVyLmJhdGNoICR7dGFnfWAsIHtcbiAgICAgIGtpbmQ6IFwiY2xpZW50XCIsXG4gICAgICBsaW5rczogc3BhbkxpbmtzLFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICBcInJlcXVlc3QuY291bnRcIjogaW5wdXRzLmxlbmd0aFxuICAgICAgfSxcbiAgICAgIGNhcHR1cmVTdGFja1RyYWNlOiBmYWxzZVxuICAgIH0pKTtcbiAgfSkuaWRlbnRpZmllZChgQGVmZmVjdC9zcWwvU3FsUmVzb2x2ZXIub3JkZXJlZC8ke3RhZ31gKTtcbiAgcmV0dXJuIG1ha2VSZXNvbHZlcihyZXNvbHZlciwgdGFnLCBvcHRpb25zLlJlcXVlc3QsIG9wdGlvbnMud2l0aENvbnRleHQpO1xufTtcbi8qKlxuICogQ3JlYXRlIGEgcmVzb2x2ZXIgdGhlIGNhbiByZXR1cm4gbXVsdGlwbGUgcmVzdWx0cyBmb3IgYSBzaW5nbGUgcmVxdWVzdC5cbiAqXG4gKiBSZXN1bHRzIGFyZSBncm91cGVkIGJ5IGEgY29tbW9uIGtleSBleHRyYWN0ZWQgZnJvbSB0aGUgcmVxdWVzdCBhbmQgcmVzdWx0LlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJlc29sdmVyc1xuICovXG5leHBvcnQgY29uc3QgZ3JvdXBlZCA9ICh0YWcsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgZGVjb2RlUmVzdWx0cyA9IFNjaGVtYS5kZWNvZGVVbmtub3duKFNjaGVtYS5BcnJheShvcHRpb25zLlJlc3VsdCkpO1xuICBjb25zdCByZXNvbHZlciA9IFJlcXVlc3RSZXNvbHZlci5tYWtlQmF0Y2hlZChyZXF1ZXN0cyA9PiB7XG4gICAgY29uc3QgW2lucHV0cywgc3BhbkxpbmtzXSA9IHBhcnRpdGlvblJlcXVlc3RzKHJlcXVlc3RzKTtcbiAgICBjb25zdCByZXN1bHRNYXAgPSBNdXRhYmxlSGFzaE1hcC5lbXB0eSgpO1xuICAgIHJldHVybiBvcHRpb25zLmV4ZWN1dGUoaW5wdXRzKS5waXBlKEVmZmVjdC5iaW5kVG8oXCJyYXdSZXN1bHRzXCIpLCBFZmZlY3QuYmluZChcInJlc3VsdHNcIiwgKHtcbiAgICAgIHJhd1Jlc3VsdHNcbiAgICB9KSA9PiBkZWNvZGVSZXN1bHRzKHJhd1Jlc3VsdHMpKSwgRWZmZWN0LnRhcCgoe1xuICAgICAgcmF3UmVzdWx0cyxcbiAgICAgIHJlc3VsdHNcbiAgICB9KSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSByZXN1bHRzW2ldO1xuICAgICAgICBjb25zdCBrZXkgPSBvcHRpb25zLlJlc3VsdEdyb3VwS2V5KHJlc3VsdCwgcmF3UmVzdWx0c1tpXSk7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gTXV0YWJsZUhhc2hNYXAuZ2V0KHJlc3VsdE1hcCwga2V5KTtcbiAgICAgICAgaWYgKGdyb3VwLl90YWcgPT09IFwiTm9uZVwiKSB7XG4gICAgICAgICAgTXV0YWJsZUhhc2hNYXAuc2V0KHJlc3VsdE1hcCwga2V5LCBbcmVzdWx0XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ3JvdXAudmFsdWUucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gRWZmZWN0LmZvckVhY2gocmVxdWVzdHMsIHJlcXVlc3QgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBvcHRpb25zLlJlcXVlc3RHcm91cEtleShyZXF1ZXN0LmlucHV0KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gTXV0YWJsZUhhc2hNYXAuZ2V0KHJlc3VsdE1hcCwga2V5KTtcbiAgICAgICAgcmV0dXJuIFJlcXVlc3Quc3VjY2VlZChyZXF1ZXN0LCByZXN1bHQuX3RhZyA9PT0gXCJOb25lXCIgPyBbXSA6IHJlc3VsdC52YWx1ZSk7XG4gICAgICB9LCB7XG4gICAgICAgIGRpc2NhcmQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pLCBFZmZlY3QuY2F0Y2hBbGxDYXVzZShjYXVzZSA9PiBFZmZlY3QuZm9yRWFjaChyZXF1ZXN0cywgcmVxdWVzdCA9PiBSZXF1ZXN0LmZhaWxDYXVzZShyZXF1ZXN0LCBjYXVzZSksIHtcbiAgICAgIGRpc2NhcmQ6IHRydWVcbiAgICB9KSksIEVmZmVjdC53aXRoU3Bhbihgc3FsLlJlc29sdmVyLmJhdGNoICR7dGFnfWAsIHtcbiAgICAgIGtpbmQ6IFwiY2xpZW50XCIsXG4gICAgICBsaW5rczogc3BhbkxpbmtzLFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICBcInJlcXVlc3QuY291bnRcIjogaW5wdXRzLmxlbmd0aFxuICAgICAgfSxcbiAgICAgIGNhcHR1cmVTdGFja1RyYWNlOiBmYWxzZVxuICAgIH0pKTtcbiAgfSkuaWRlbnRpZmllZChgQGVmZmVjdC9zcWwvU3FsUmVzb2x2ZXIuZ3JvdXBlZC8ke3RhZ31gKTtcbiAgcmV0dXJuIG1ha2VSZXNvbHZlcihyZXNvbHZlciwgdGFnLCBvcHRpb25zLlJlcXVlc3QsIG9wdGlvbnMud2l0aENvbnRleHQpO1xufTtcbi8qKlxuICogQ3JlYXRlIGEgcmVzb2x2ZXIgdGhhdCByZXNvbHZlcyByZXN1bHRzIGJ5IGlkLlxuICpcbiAqIEBzaW5jZSAxLjAuMFxuICogQGNhdGVnb3J5IHJlc29sdmVyc1xuICovXG5leHBvcnQgY29uc3QgZmluZEJ5SWQgPSAodGFnLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGRlY29kZVJlc3VsdHMgPSBTY2hlbWEuZGVjb2RlVW5rbm93bihTY2hlbWEuQXJyYXkob3B0aW9ucy5SZXN1bHQpKTtcbiAgY29uc3QgcmVzb2x2ZXIgPSBSZXF1ZXN0UmVzb2x2ZXIubWFrZUJhdGNoZWQocmVxdWVzdHMgPT4ge1xuICAgIGNvbnN0IFtpbnB1dHMsIHNwYW5MaW5rcywgaWRNYXBdID0gcGFydGl0aW9uUmVxdWVzdHNCeUlkKCkocmVxdWVzdHMpO1xuICAgIHJldHVybiBvcHRpb25zLmV4ZWN1dGUoaW5wdXRzKS5waXBlKEVmZmVjdC5iaW5kVG8oXCJyYXdSZXN1bHRzXCIpLCBFZmZlY3QuYmluZChcInJlc3VsdHNcIiwgKHtcbiAgICAgIHJhd1Jlc3VsdHNcbiAgICB9KSA9PiBkZWNvZGVSZXN1bHRzKHJhd1Jlc3VsdHMpKSwgRWZmZWN0LmZsYXRNYXAoKHtcbiAgICAgIHJhd1Jlc3VsdHMsXG4gICAgICByZXN1bHRzXG4gICAgfSkgPT4gRWZmZWN0LmZvckVhY2gocmVzdWx0cywgKHJlc3VsdCwgaSkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBvcHRpb25zLlJlc3VsdElkKHJlc3VsdCwgcmF3UmVzdWx0c1tpXSk7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gTXV0YWJsZUhhc2hNYXAuZ2V0KGlkTWFwLCBpZCk7XG4gICAgICBpZiAocmVxdWVzdC5fdGFnID09PSBcIk5vbmVcIikge1xuICAgICAgICByZXR1cm4gRWZmZWN0LnZvaWQ7XG4gICAgICB9XG4gICAgICBNdXRhYmxlSGFzaE1hcC5yZW1vdmUoaWRNYXAsIGlkKTtcbiAgICAgIHJldHVybiBSZXF1ZXN0LnN1Y2NlZWQocmVxdWVzdC52YWx1ZSwgT3B0aW9uLnNvbWUocmVzdWx0KSk7XG4gICAgfSwge1xuICAgICAgZGlzY2FyZDogdHJ1ZVxuICAgIH0pKSwgRWZmZWN0LnRhcChfID0+IHtcbiAgICAgIGlmIChNdXRhYmxlSGFzaE1hcC5zaXplKGlkTWFwKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gRWZmZWN0LnZvaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gRWZmZWN0LmZvckVhY2goaWRNYXAsIChbLCByZXF1ZXN0XSkgPT4gUmVxdWVzdC5zdWNjZWVkKHJlcXVlc3QsIE9wdGlvbi5ub25lKCkpLCB7XG4gICAgICAgIGRpc2NhcmQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pLCBFZmZlY3QuY2F0Y2hBbGxDYXVzZShjYXVzZSA9PiBFZmZlY3QuZm9yRWFjaChyZXF1ZXN0cywgcmVxdWVzdCA9PiBSZXF1ZXN0LmZhaWxDYXVzZShyZXF1ZXN0LCBjYXVzZSksIHtcbiAgICAgIGRpc2NhcmQ6IHRydWVcbiAgICB9KSksIEVmZmVjdC53aXRoU3Bhbihgc3FsLlJlc29sdmVyLmJhdGNoICR7dGFnfWAsIHtcbiAgICAgIGtpbmQ6IFwiY2xpZW50XCIsXG4gICAgICBsaW5rczogc3BhbkxpbmtzLFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICBcInJlcXVlc3QuY291bnRcIjogaW5wdXRzLmxlbmd0aFxuICAgICAgfSxcbiAgICAgIGNhcHR1cmVTdGFja1RyYWNlOiBmYWxzZVxuICAgIH0pKTtcbiAgfSkuaWRlbnRpZmllZChgQGVmZmVjdC9zcWwvU3FsUmVzb2x2ZXIuZmluZEJ5SWQvJHt0YWd9YCk7XG4gIHJldHVybiBtYWtlUmVzb2x2ZXIocmVzb2x2ZXIsIHRhZywgb3B0aW9ucy5JZCwgb3B0aW9ucy53aXRoQ29udGV4dCk7XG59O1xuY29uc3Qgdm9pZF8gPSAodGFnLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHJlc29sdmVyID0gUmVxdWVzdFJlc29sdmVyLm1ha2VCYXRjaGVkKHJlcXVlc3RzID0+IHtcbiAgICBjb25zdCBbaW5wdXRzLCBzcGFuTGlua3NdID0gcGFydGl0aW9uUmVxdWVzdHMocmVxdWVzdHMpO1xuICAgIHJldHVybiBvcHRpb25zLmV4ZWN1dGUoaW5wdXRzKS5waXBlKEVmZmVjdC5hbmRUaGVuKEVmZmVjdC5mb3JFYWNoKHJlcXVlc3RzLCByZXF1ZXN0ID0+IFJlcXVlc3QuY29tcGxldGUocmVxdWVzdCwgRXhpdC52b2lkKSwge1xuICAgICAgZGlzY2FyZDogdHJ1ZVxuICAgIH0pKSwgRWZmZWN0LmNhdGNoQWxsQ2F1c2UoY2F1c2UgPT4gRWZmZWN0LmZvckVhY2gocmVxdWVzdHMsIHJlcXVlc3QgPT4gUmVxdWVzdC5mYWlsQ2F1c2UocmVxdWVzdCwgY2F1c2UpLCB7XG4gICAgICBkaXNjYXJkOiB0cnVlXG4gICAgfSkpLCBFZmZlY3Qud2l0aFNwYW4oYHNxbC5SZXNvbHZlci5iYXRjaCAke3RhZ31gLCB7XG4gICAgICBraW5kOiBcImNsaWVudFwiLFxuICAgICAgbGlua3M6IHNwYW5MaW5rcyxcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgXCJyZXF1ZXN0LmNvdW50XCI6IGlucHV0cy5sZW5ndGhcbiAgICAgIH0sXG4gICAgICBjYXB0dXJlU3RhY2tUcmFjZTogZmFsc2VcbiAgICB9KSk7XG4gIH0pLmlkZW50aWZpZWQoYEBlZmZlY3Qvc3FsL1NxbFJlc29sdmVyLnZvaWQvJHt0YWd9YCk7XG4gIHJldHVybiBtYWtlUmVzb2x2ZXIocmVzb2x2ZXIsIHRhZywgb3B0aW9ucy5SZXF1ZXN0LCBvcHRpb25zLndpdGhDb250ZXh0KTtcbn07XG5leHBvcnQge1xuLyoqXG4gKiBDcmVhdGUgYSByZXNvbHZlciB0aGF0IHBlcmZvcm1zIHNpZGUgZWZmZWN0cy5cbiAqXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSByZXNvbHZlcnNcbiAqL1xudm9pZF8gYXMgdm9pZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3FsUmVzb2x2ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/sql/dist/esm/SqlResolver.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/sql/dist/esm/Statement.js":
/*!************************************************************!*\
  !*** ../../node_modules/@effect/sql/dist/esm/Statement.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FragmentId: () => (/* binding */ FragmentId),\n/* harmony export */   and: () => (/* binding */ and),\n/* harmony export */   csv: () => (/* binding */ csv),\n/* harmony export */   currentTransformer: () => (/* binding */ currentTransformer),\n/* harmony export */   custom: () => (/* binding */ custom),\n/* harmony export */   defaultEscape: () => (/* binding */ defaultEscape),\n/* harmony export */   defaultTransforms: () => (/* binding */ defaultTransforms),\n/* harmony export */   isCustom: () => (/* binding */ isCustom),\n/* harmony export */   isFragment: () => (/* binding */ isFragment),\n/* harmony export */   join: () => (/* binding */ join),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeCompiler: () => (/* binding */ makeCompiler),\n/* harmony export */   makeCompilerSqlite: () => (/* binding */ makeCompilerSqlite),\n/* harmony export */   or: () => (/* binding */ or),\n/* harmony export */   primitiveKind: () => (/* binding */ primitiveKind),\n/* harmony export */   setTransformer: () => (/* binding */ setTransformer),\n/* harmony export */   unsafeFragment: () => (/* binding */ unsafeFragment),\n/* harmony export */   withTransformer: () => (/* binding */ withTransformer),\n/* harmony export */   withTransformerDisabled: () => (/* binding */ withTransformerDisabled)\n/* harmony export */ });\n/* harmony import */ var _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/statement.js */ \"(rsc)/../../node_modules/@effect/sql/dist/esm/internal/statement.js\");\n\n/**\n * @category type id\n * @since 1.0.0\n */\nconst FragmentId = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.FragmentId;\n/**\n * @category transformer\n * @since 1.0.0\n */\nconst currentTransformer = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.currentTransformer;\n/**\n * @category transformer\n * @since 1.0.0\n */\nconst withTransformer = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.withTransformer;\n/**\n * @category transformer\n * @since 1.0.0\n */\nconst withTransformerDisabled = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.withTransformerDisabled;\n/**\n * @category transformer\n * @since 1.0.0\n */\nconst setTransformer = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.setTransformer;\n/**\n * @category guard\n * @since 1.0.0\n */\nconst isFragment = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.isFragment;\n/**\n * @category guard\n * @since 1.0.0\n */\nconst isCustom = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.isCustom;\n/**\n * @category constructor\n * @since 1.0.0\n */\nconst custom = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.custom;\n/**\n * @category constructor\n * @since 1.0.0\n */\nconst make = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.make;\n/**\n * @category constructor\n * @since 1.0.0\n */\nconst unsafeFragment = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.unsafeFragment;\n/**\n * @category constructor\n * @since 1.0.0\n */\nconst and = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.and;\n/**\n * @category constructor\n * @since 1.0.0\n */\nconst or = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.or;\n/**\n * @category constructor\n * @since 1.0.0\n */\nconst csv = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.csv;\n/**\n * @category constructor\n * @since 1.0.0\n */\nconst join = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.join;\n/**\n * @category compiler\n * @since 1.0.0\n */\nconst makeCompiler = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.makeCompiler;\n/**\n * @category compiler\n * @since 1.0.0\n */\nconst makeCompilerSqlite = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.makeCompilerSqlite;\n/**\n * @since 1.0.0\n */\nconst defaultEscape = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.defaultEscape;\n/**\n * @since 1.0.0\n */\nconst primitiveKind = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.primitiveKind;\n/**\n * @since 1.0.0\n */\nconst defaultTransforms = _internal_statement_js__WEBPACK_IMPORTED_MODULE_0__.defaultTransforms;\n//# sourceMappingURL=Statement.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsL2Rpc3QvZXNtL1N0YXRlbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQiw4REFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQkFBMkIsc0VBQTJCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLG1FQUF3QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLGdDQUFnQywyRUFBZ0M7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsa0VBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUJBQW1CLDhEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNPLGlCQUFpQiw0REFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxlQUFlLDBEQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sYUFBYSx3REFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNPLHVCQUF1QixrRUFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxZQUFZLHVEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ08sV0FBVyxzREFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNPLFlBQVksdURBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDTyxhQUFhLHdEQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLGdFQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDJCQUEyQixzRUFBMkI7QUFDN0Q7QUFDQTtBQUNBO0FBQ08sc0JBQXNCLGlFQUFzQjtBQUNuRDtBQUNBO0FBQ0E7QUFDTyxzQkFBc0IsaUVBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNPLDBCQUEwQixxRUFBMEI7QUFDM0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeS1zZXJ2ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsL2Rpc3QvZXNtL1N0YXRlbWVudC5qcz8xMzA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGludGVybmFsIGZyb20gXCIuL2ludGVybmFsL3N0YXRlbWVudC5qc1wiO1xuLyoqXG4gKiBAY2F0ZWdvcnkgdHlwZSBpZFxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBGcmFnbWVudElkID0gaW50ZXJuYWwuRnJhZ21lbnRJZDtcbi8qKlxuICogQGNhdGVnb3J5IHRyYW5zZm9ybWVyXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGN1cnJlbnRUcmFuc2Zvcm1lciA9IGludGVybmFsLmN1cnJlbnRUcmFuc2Zvcm1lcjtcbi8qKlxuICogQGNhdGVnb3J5IHRyYW5zZm9ybWVyXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2Zvcm1lciA9IGludGVybmFsLndpdGhUcmFuc2Zvcm1lcjtcbi8qKlxuICogQGNhdGVnb3J5IHRyYW5zZm9ybWVyXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2Zvcm1lckRpc2FibGVkID0gaW50ZXJuYWwud2l0aFRyYW5zZm9ybWVyRGlzYWJsZWQ7XG4vKipcbiAqIEBjYXRlZ29yeSB0cmFuc2Zvcm1lclxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRUcmFuc2Zvcm1lciA9IGludGVybmFsLnNldFRyYW5zZm9ybWVyO1xuLyoqXG4gKiBAY2F0ZWdvcnkgZ3VhcmRcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgaXNGcmFnbWVudCA9IGludGVybmFsLmlzRnJhZ21lbnQ7XG4vKipcbiAqIEBjYXRlZ29yeSBndWFyZFxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCBpc0N1c3RvbSA9IGludGVybmFsLmlzQ3VzdG9tO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgY3VzdG9tID0gaW50ZXJuYWwuY3VzdG9tO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgbWFrZSA9IGludGVybmFsLm1ha2U7XG4vKipcbiAqIEBjYXRlZ29yeSBjb25zdHJ1Y3RvclxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVGcmFnbWVudCA9IGludGVybmFsLnVuc2FmZUZyYWdtZW50O1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgYW5kID0gaW50ZXJuYWwuYW5kO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29uc3RydWN0b3JcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3Qgb3IgPSBpbnRlcm5hbC5vcjtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGNzdiA9IGludGVybmFsLmNzdjtcbi8qKlxuICogQGNhdGVnb3J5IGNvbnN0cnVjdG9yXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGpvaW4gPSBpbnRlcm5hbC5qb2luO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29tcGlsZXJcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgbWFrZUNvbXBpbGVyID0gaW50ZXJuYWwubWFrZUNvbXBpbGVyO1xuLyoqXG4gKiBAY2F0ZWdvcnkgY29tcGlsZXJcbiAqIEBzaW5jZSAxLjAuMFxuICovXG5leHBvcnQgY29uc3QgbWFrZUNvbXBpbGVyU3FsaXRlID0gaW50ZXJuYWwubWFrZUNvbXBpbGVyU3FsaXRlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRFc2NhcGUgPSBpbnRlcm5hbC5kZWZhdWx0RXNjYXBlO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IHByaW1pdGl2ZUtpbmQgPSBpbnRlcm5hbC5wcmltaXRpdmVLaW5kO1xuLyoqXG4gKiBAc2luY2UgMS4wLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRUcmFuc2Zvcm1zID0gaW50ZXJuYWwuZGVmYXVsdFRyYW5zZm9ybXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGF0ZW1lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/sql/dist/esm/Statement.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/sql/dist/esm/internal/client.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@effect/sql/dist/esm/internal/client.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionConnection: () => (/* binding */ TransactionConnection),\n/* harmony export */   TypeId: () => (/* binding */ TypeId),\n/* harmony export */   clientTag: () => (/* binding */ clientTag),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeWithTransaction: () => (/* binding */ makeWithTransaction)\n/* harmony export */ });\n/* harmony import */ var _effect_experimental_Reactivity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @effect/experimental/Reactivity */ \"(rsc)/../../node_modules/@effect/experimental/dist/esm/Reactivity.js\");\n/* harmony import */ var effect_Clock__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/Clock */ \"(rsc)/../../node_modules/effect/dist/esm/Clock.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"(rsc)/../../node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Exit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! effect/Exit */ \"(rsc)/../../node_modules/effect/dist/esm/Exit.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Mailbox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Mailbox */ \"(rsc)/../../node_modules/effect/dist/esm/Mailbox.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Scope__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Scope */ \"(rsc)/../../node_modules/effect/dist/esm/Scope.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n/* harmony import */ var effect_Tracer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Tracer */ \"(rsc)/../../node_modules/effect/dist/esm/Tracer.js\");\n/* harmony import */ var _Statement_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Statement.js */ \"(rsc)/../../node_modules/@effect/sql/dist/esm/Statement.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst TypeId = /*#__PURE__*/Symbol.for(\"@effect/sql/SqlClient\");\n/** @internal */\nconst clientTag = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@effect/sql/SqlClient\");\n/** @internal */\nconst TransactionConnection = /*#__PURE__*/effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@effect/sql/SqlClient/TransactionConnection\");\n/** @internal */\nfunction make({\n  acquirer,\n  beginTransaction = \"BEGIN\",\n  commit = \"COMMIT\",\n  compiler,\n  reactiveMailbox,\n  rollback = \"ROLLBACK\",\n  rollbackSavepoint = id => `ROLLBACK TO SAVEPOINT ${id}`,\n  savepoint = id => `SAVEPOINT ${id}`,\n  spanAttributes,\n  transactionAcquirer,\n  transformRows\n}) {\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.gen(function* () {\n    const getConnection = effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.serviceOption(TransactionConnection), effect_Option__WEBPACK_IMPORTED_MODULE_2__.match({\n      onNone: () => acquirer,\n      onSome: ([conn]) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.succeed(conn)\n    }));\n    transactionAcquirer = transactionAcquirer ?? acquirer;\n    const withTransaction = makeWithTransaction({\n      transactionTag: TransactionConnection,\n      spanAttributes,\n      acquireConnection: effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(effect_Scope__WEBPACK_IMPORTED_MODULE_3__.make(), scope => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(effect_Scope__WEBPACK_IMPORTED_MODULE_3__.extend(transactionAcquirer, scope), conn => [scope, conn])),\n      begin: conn => conn.executeUnprepared(beginTransaction, [], undefined),\n      savepoint: (conn, id) => conn.executeUnprepared(savepoint(`effect_sql_${id}`), [], undefined),\n      commit: conn => conn.executeUnprepared(commit, [], undefined),\n      rollback: conn => conn.executeUnprepared(rollback, [], undefined),\n      rollbackSavepoint: (conn, id) => conn.executeUnprepared(rollbackSavepoint(`effect_sql_${id}`), [], undefined)\n    });\n    const reactivity = yield* _effect_experimental_Reactivity__WEBPACK_IMPORTED_MODULE_4__.Reactivity;\n    const client = Object.assign(_Statement_js__WEBPACK_IMPORTED_MODULE_5__.make(getConnection, compiler, spanAttributes, transformRows), {\n      [TypeId]: TypeId,\n      safe: undefined,\n      withTransaction,\n      reserve: transactionAcquirer,\n      withoutTransforms() {\n        if (transformRows === undefined) {\n          return this;\n        }\n        const statement = _Statement_js__WEBPACK_IMPORTED_MODULE_5__.make(getConnection, compiler.withoutTransform, spanAttributes, undefined);\n        const client = Object.assign(statement, {\n          ...this,\n          ...statement\n        });\n        client.safe = client;\n        client.withoutTransforms = () => client;\n        return client;\n      },\n      reactive: reactiveMailbox ? (keys, effect) => reactiveMailbox(keys, effect).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map(effect_Mailbox__WEBPACK_IMPORTED_MODULE_6__.toStream), effect_Stream__WEBPACK_IMPORTED_MODULE_7__.unwrapScoped) : reactivity.stream,\n      reactiveMailbox: reactiveMailbox ?? reactivity.query\n    });\n    client.safe = client;\n    return client;\n  });\n}\n/** @internal */\nconst makeWithTransaction = options => effect => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.uninterruptibleMask(restore => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.useSpan(\"sql.transaction\", {\n  kind: \"client\",\n  captureStackTrace: false\n}, span => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.withFiberRuntime(fiber => {\n  for (const [key, value] of options.spanAttributes) {\n    span.attribute(key, value);\n  }\n  const context = fiber.currentContext;\n  const clock = effect_Context__WEBPACK_IMPORTED_MODULE_0__.get(fiber.currentDefaultServices, effect_Clock__WEBPACK_IMPORTED_MODULE_8__.Clock);\n  const connOption = effect_Context__WEBPACK_IMPORTED_MODULE_0__.getOption(context, options.transactionTag);\n  const conn = connOption._tag === \"Some\" ? effect_Effect__WEBPACK_IMPORTED_MODULE_1__.succeed([undefined, connOption.value[0]]) : options.acquireConnection;\n  const id = connOption._tag === \"Some\" ? connOption.value[1] + 1 : 0;\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(conn, ([scope, conn]) => (id === 0 ? options.begin(conn) : options.savepoint(conn, id)).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.zipRight(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.locally(restore(effect), effect_FiberRef__WEBPACK_IMPORTED_MODULE_9__.currentContext, effect_Context__WEBPACK_IMPORTED_MODULE_0__.add(context, options.transactionTag, [conn, id]).pipe(effect_Context__WEBPACK_IMPORTED_MODULE_0__.add(effect_Tracer__WEBPACK_IMPORTED_MODULE_10__.ParentSpan, span)))), effect_Effect__WEBPACK_IMPORTED_MODULE_1__.exit, effect_Effect__WEBPACK_IMPORTED_MODULE_1__.flatMap(exit => {\n    let effect;\n    if (effect_Exit__WEBPACK_IMPORTED_MODULE_11__.isSuccess(exit)) {\n      if (id === 0) {\n        span.event(\"db.transaction.commit\", clock.unsafeCurrentTimeNanos());\n        effect = effect_Effect__WEBPACK_IMPORTED_MODULE_1__.orDie(options.commit(conn));\n      } else {\n        span.event(\"db.transaction.savepoint\", clock.unsafeCurrentTimeNanos());\n        effect = effect_Effect__WEBPACK_IMPORTED_MODULE_1__[\"void\"];\n      }\n    } else {\n      span.event(\"db.transaction.rollback\", clock.unsafeCurrentTimeNanos());\n      effect = effect_Effect__WEBPACK_IMPORTED_MODULE_1__.orDie(id > 0 ? options.rollbackSavepoint(conn, id) : options.rollback(conn));\n    }\n    const withScope = scope !== undefined ? effect_Effect__WEBPACK_IMPORTED_MODULE_1__.ensuring(effect, effect_Scope__WEBPACK_IMPORTED_MODULE_3__.close(scope, exit)) : effect;\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_1__.zipRight(withScope, exit);\n  })));\n})));\n//# sourceMappingURL=client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsL2Rpc3QvZXNtL2ludGVybmFsL2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4RDtBQUN4QjtBQUNJO0FBQ0Y7QUFDSjtBQUNRO0FBQ0Y7QUFDRjtBQUNGO0FBQ0U7QUFDQTtBQUNLO0FBQzdDO0FBQ087QUFDUDtBQUNPLCtCQUErQixzREFBa0I7QUFDeEQ7QUFDTywyQ0FBMkMsc0RBQWtCO0FBQ3BFO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsR0FBRztBQUN4RCxpQ0FBaUMsR0FBRztBQUNwQztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsU0FBUyw4Q0FBVTtBQUNuQiwwQkFBMEIsa0RBQWMsQ0FBQyx3REFBb0IseUJBQXlCLGdEQUFZO0FBQ2xHO0FBQ0EsMEJBQTBCLGtEQUFjO0FBQ3hDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixrREFBYyxDQUFDLDhDQUFVLGFBQWEsOENBQVUsQ0FBQyxnREFBWTtBQUN0RjtBQUNBLDhFQUE4RSxHQUFHO0FBQ2pGO0FBQ0E7QUFDQSw4RkFBOEYsR0FBRztBQUNqRyxLQUFLO0FBQ0wsOEJBQThCLHVFQUFxQjtBQUNuRCxpQ0FBaUMsK0NBQWM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwrQ0FBYztBQUN4QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLHVGQUF1Riw4Q0FBVSxDQUFDLG9EQUFnQixHQUFHLHVEQUFtQjtBQUN4STtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDTyxpREFBaUQsOERBQTBCLFlBQVksa0RBQWM7QUFDNUc7QUFDQTtBQUNBLENBQUMsVUFBVSwyREFBdUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0NBQVcsK0JBQStCLCtDQUFXO0FBQ3JFLHFCQUFxQixxREFBaUI7QUFDdEMsNENBQTRDLGtEQUFjO0FBQzFEO0FBQ0EsU0FBUyxrREFBYyw4RkFBOEYsbURBQWUsQ0FBQyxrREFBYyxrQkFBa0IsMkRBQXVCLEVBQUUsK0NBQVcsbURBQW1ELCtDQUFXLENBQUMsc0RBQWlCLFlBQVksK0NBQVcsRUFBRSxrREFBYztBQUNoVTtBQUNBLFFBQVEsbURBQWM7QUFDdEI7QUFDQTtBQUNBLGlCQUFpQixnREFBWTtBQUM3QixRQUFRO0FBQ1I7QUFDQSxpQkFBaUIsa0RBQVc7QUFDNUI7QUFDQSxNQUFNO0FBQ047QUFDQSxlQUFlLGdEQUFZO0FBQzNCO0FBQ0EsNENBQTRDLG1EQUFlLFNBQVMsK0NBQVc7QUFDL0UsV0FBVyxtREFBZTtBQUMxQixHQUFHO0FBQ0gsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3NxbC9kaXN0L2VzbS9pbnRlcm5hbC9jbGllbnQuanM/NmMxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdGl2aXR5IGZyb20gXCJAZWZmZWN0L2V4cGVyaW1lbnRhbC9SZWFjdGl2aXR5XCI7XG5pbXBvcnQgKiBhcyBDbG9jayBmcm9tIFwiZWZmZWN0L0Nsb2NrXCI7XG5pbXBvcnQgKiBhcyBDb250ZXh0IGZyb20gXCJlZmZlY3QvQ29udGV4dFwiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgKiBhcyBFeGl0IGZyb20gXCJlZmZlY3QvRXhpdFwiO1xuaW1wb3J0ICogYXMgRmliZXJSZWYgZnJvbSBcImVmZmVjdC9GaWJlclJlZlwiO1xuaW1wb3J0ICogYXMgTWFpbGJveCBmcm9tIFwiZWZmZWN0L01haWxib3hcIjtcbmltcG9ydCAqIGFzIE9wdGlvbiBmcm9tIFwiZWZmZWN0L09wdGlvblwiO1xuaW1wb3J0ICogYXMgU2NvcGUgZnJvbSBcImVmZmVjdC9TY29wZVwiO1xuaW1wb3J0ICogYXMgU3RyZWFtIGZyb20gXCJlZmZlY3QvU3RyZWFtXCI7XG5pbXBvcnQgKiBhcyBUcmFjZXIgZnJvbSBcImVmZmVjdC9UcmFjZXJcIjtcbmltcG9ydCAqIGFzIFN0YXRlbWVudCBmcm9tIFwiLi4vU3RhdGVtZW50LmpzXCI7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgVHlwZUlkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NxbC9TcWxDbGllbnRcIik7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgY2xpZW50VGFnID0gLyojX19QVVJFX18qL0NvbnRleHQuR2VuZXJpY1RhZyhcIkBlZmZlY3Qvc3FsL1NxbENsaWVudFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBUcmFuc2FjdGlvbkNvbm5lY3Rpb24gPSAvKiNfX1BVUkVfXyovQ29udGV4dC5HZW5lcmljVGFnKFwiQGVmZmVjdC9zcWwvU3FsQ2xpZW50L1RyYW5zYWN0aW9uQ29ubmVjdGlvblwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlKHtcbiAgYWNxdWlyZXIsXG4gIGJlZ2luVHJhbnNhY3Rpb24gPSBcIkJFR0lOXCIsXG4gIGNvbW1pdCA9IFwiQ09NTUlUXCIsXG4gIGNvbXBpbGVyLFxuICByZWFjdGl2ZU1haWxib3gsXG4gIHJvbGxiYWNrID0gXCJST0xMQkFDS1wiLFxuICByb2xsYmFja1NhdmVwb2ludCA9IGlkID0+IGBST0xMQkFDSyBUTyBTQVZFUE9JTlQgJHtpZH1gLFxuICBzYXZlcG9pbnQgPSBpZCA9PiBgU0FWRVBPSU5UICR7aWR9YCxcbiAgc3BhbkF0dHJpYnV0ZXMsXG4gIHRyYW5zYWN0aW9uQWNxdWlyZXIsXG4gIHRyYW5zZm9ybVJvd3Ncbn0pIHtcbiAgcmV0dXJuIEVmZmVjdC5nZW4oZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBnZXRDb25uZWN0aW9uID0gRWZmZWN0LmZsYXRNYXAoRWZmZWN0LnNlcnZpY2VPcHRpb24oVHJhbnNhY3Rpb25Db25uZWN0aW9uKSwgT3B0aW9uLm1hdGNoKHtcbiAgICAgIG9uTm9uZTogKCkgPT4gYWNxdWlyZXIsXG4gICAgICBvblNvbWU6IChbY29ubl0pID0+IEVmZmVjdC5zdWNjZWVkKGNvbm4pXG4gICAgfSkpO1xuICAgIHRyYW5zYWN0aW9uQWNxdWlyZXIgPSB0cmFuc2FjdGlvbkFjcXVpcmVyID8/IGFjcXVpcmVyO1xuICAgIGNvbnN0IHdpdGhUcmFuc2FjdGlvbiA9IG1ha2VXaXRoVHJhbnNhY3Rpb24oe1xuICAgICAgdHJhbnNhY3Rpb25UYWc6IFRyYW5zYWN0aW9uQ29ubmVjdGlvbixcbiAgICAgIHNwYW5BdHRyaWJ1dGVzLFxuICAgICAgYWNxdWlyZUNvbm5lY3Rpb246IEVmZmVjdC5mbGF0TWFwKFNjb3BlLm1ha2UoKSwgc2NvcGUgPT4gRWZmZWN0Lm1hcChTY29wZS5leHRlbmQodHJhbnNhY3Rpb25BY3F1aXJlciwgc2NvcGUpLCBjb25uID0+IFtzY29wZSwgY29ubl0pKSxcbiAgICAgIGJlZ2luOiBjb25uID0+IGNvbm4uZXhlY3V0ZVVucHJlcGFyZWQoYmVnaW5UcmFuc2FjdGlvbiwgW10sIHVuZGVmaW5lZCksXG4gICAgICBzYXZlcG9pbnQ6IChjb25uLCBpZCkgPT4gY29ubi5leGVjdXRlVW5wcmVwYXJlZChzYXZlcG9pbnQoYGVmZmVjdF9zcWxfJHtpZH1gKSwgW10sIHVuZGVmaW5lZCksXG4gICAgICBjb21taXQ6IGNvbm4gPT4gY29ubi5leGVjdXRlVW5wcmVwYXJlZChjb21taXQsIFtdLCB1bmRlZmluZWQpLFxuICAgICAgcm9sbGJhY2s6IGNvbm4gPT4gY29ubi5leGVjdXRlVW5wcmVwYXJlZChyb2xsYmFjaywgW10sIHVuZGVmaW5lZCksXG4gICAgICByb2xsYmFja1NhdmVwb2ludDogKGNvbm4sIGlkKSA9PiBjb25uLmV4ZWN1dGVVbnByZXBhcmVkKHJvbGxiYWNrU2F2ZXBvaW50KGBlZmZlY3Rfc3FsXyR7aWR9YCksIFtdLCB1bmRlZmluZWQpXG4gICAgfSk7XG4gICAgY29uc3QgcmVhY3Rpdml0eSA9IHlpZWxkKiBSZWFjdGl2aXR5LlJlYWN0aXZpdHk7XG4gICAgY29uc3QgY2xpZW50ID0gT2JqZWN0LmFzc2lnbihTdGF0ZW1lbnQubWFrZShnZXRDb25uZWN0aW9uLCBjb21waWxlciwgc3BhbkF0dHJpYnV0ZXMsIHRyYW5zZm9ybVJvd3MpLCB7XG4gICAgICBbVHlwZUlkXTogVHlwZUlkLFxuICAgICAgc2FmZTogdW5kZWZpbmVkLFxuICAgICAgd2l0aFRyYW5zYWN0aW9uLFxuICAgICAgcmVzZXJ2ZTogdHJhbnNhY3Rpb25BY3F1aXJlcixcbiAgICAgIHdpdGhvdXRUcmFuc2Zvcm1zKCkge1xuICAgICAgICBpZiAodHJhbnNmb3JtUm93cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGVtZW50ID0gU3RhdGVtZW50Lm1ha2UoZ2V0Q29ubmVjdGlvbiwgY29tcGlsZXIud2l0aG91dFRyYW5zZm9ybSwgc3BhbkF0dHJpYnV0ZXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IE9iamVjdC5hc3NpZ24oc3RhdGVtZW50LCB7XG4gICAgICAgICAgLi4udGhpcyxcbiAgICAgICAgICAuLi5zdGF0ZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICAgIGNsaWVudC5zYWZlID0gY2xpZW50O1xuICAgICAgICBjbGllbnQud2l0aG91dFRyYW5zZm9ybXMgPSAoKSA9PiBjbGllbnQ7XG4gICAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgICB9LFxuICAgICAgcmVhY3RpdmU6IHJlYWN0aXZlTWFpbGJveCA/IChrZXlzLCBlZmZlY3QpID0+IHJlYWN0aXZlTWFpbGJveChrZXlzLCBlZmZlY3QpLnBpcGUoRWZmZWN0Lm1hcChNYWlsYm94LnRvU3RyZWFtKSwgU3RyZWFtLnVud3JhcFNjb3BlZCkgOiByZWFjdGl2aXR5LnN0cmVhbSxcbiAgICAgIHJlYWN0aXZlTWFpbGJveDogcmVhY3RpdmVNYWlsYm94ID8/IHJlYWN0aXZpdHkucXVlcnlcbiAgICB9KTtcbiAgICBjbGllbnQuc2FmZSA9IGNsaWVudDtcbiAgICByZXR1cm4gY2xpZW50O1xuICB9KTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBtYWtlV2l0aFRyYW5zYWN0aW9uID0gb3B0aW9ucyA9PiBlZmZlY3QgPT4gRWZmZWN0LnVuaW50ZXJydXB0aWJsZU1hc2socmVzdG9yZSA9PiBFZmZlY3QudXNlU3BhbihcInNxbC50cmFuc2FjdGlvblwiLCB7XG4gIGtpbmQ6IFwiY2xpZW50XCIsXG4gIGNhcHR1cmVTdGFja1RyYWNlOiBmYWxzZVxufSwgc3BhbiA9PiBFZmZlY3Qud2l0aEZpYmVyUnVudGltZShmaWJlciA9PiB7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIG9wdGlvbnMuc3BhbkF0dHJpYnV0ZXMpIHtcbiAgICBzcGFuLmF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgfVxuICBjb25zdCBjb250ZXh0ID0gZmliZXIuY3VycmVudENvbnRleHQ7XG4gIGNvbnN0IGNsb2NrID0gQ29udGV4dC5nZXQoZmliZXIuY3VycmVudERlZmF1bHRTZXJ2aWNlcywgQ2xvY2suQ2xvY2spO1xuICBjb25zdCBjb25uT3B0aW9uID0gQ29udGV4dC5nZXRPcHRpb24oY29udGV4dCwgb3B0aW9ucy50cmFuc2FjdGlvblRhZyk7XG4gIGNvbnN0IGNvbm4gPSBjb25uT3B0aW9uLl90YWcgPT09IFwiU29tZVwiID8gRWZmZWN0LnN1Y2NlZWQoW3VuZGVmaW5lZCwgY29ubk9wdGlvbi52YWx1ZVswXV0pIDogb3B0aW9ucy5hY3F1aXJlQ29ubmVjdGlvbjtcbiAgY29uc3QgaWQgPSBjb25uT3B0aW9uLl90YWcgPT09IFwiU29tZVwiID8gY29ubk9wdGlvbi52YWx1ZVsxXSArIDEgOiAwO1xuICByZXR1cm4gRWZmZWN0LmZsYXRNYXAoY29ubiwgKFtzY29wZSwgY29ubl0pID0+IChpZCA9PT0gMCA/IG9wdGlvbnMuYmVnaW4oY29ubikgOiBvcHRpb25zLnNhdmVwb2ludChjb25uLCBpZCkpLnBpcGUoRWZmZWN0LnppcFJpZ2h0KEVmZmVjdC5sb2NhbGx5KHJlc3RvcmUoZWZmZWN0KSwgRmliZXJSZWYuY3VycmVudENvbnRleHQsIENvbnRleHQuYWRkKGNvbnRleHQsIG9wdGlvbnMudHJhbnNhY3Rpb25UYWcsIFtjb25uLCBpZF0pLnBpcGUoQ29udGV4dC5hZGQoVHJhY2VyLlBhcmVudFNwYW4sIHNwYW4pKSkpLCBFZmZlY3QuZXhpdCwgRWZmZWN0LmZsYXRNYXAoZXhpdCA9PiB7XG4gICAgbGV0IGVmZmVjdDtcbiAgICBpZiAoRXhpdC5pc1N1Y2Nlc3MoZXhpdCkpIHtcbiAgICAgIGlmIChpZCA9PT0gMCkge1xuICAgICAgICBzcGFuLmV2ZW50KFwiZGIudHJhbnNhY3Rpb24uY29tbWl0XCIsIGNsb2NrLnVuc2FmZUN1cnJlbnRUaW1lTmFub3MoKSk7XG4gICAgICAgIGVmZmVjdCA9IEVmZmVjdC5vckRpZShvcHRpb25zLmNvbW1pdChjb25uKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGFuLmV2ZW50KFwiZGIudHJhbnNhY3Rpb24uc2F2ZXBvaW50XCIsIGNsb2NrLnVuc2FmZUN1cnJlbnRUaW1lTmFub3MoKSk7XG4gICAgICAgIGVmZmVjdCA9IEVmZmVjdC52b2lkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzcGFuLmV2ZW50KFwiZGIudHJhbnNhY3Rpb24ucm9sbGJhY2tcIiwgY2xvY2sudW5zYWZlQ3VycmVudFRpbWVOYW5vcygpKTtcbiAgICAgIGVmZmVjdCA9IEVmZmVjdC5vckRpZShpZCA+IDAgPyBvcHRpb25zLnJvbGxiYWNrU2F2ZXBvaW50KGNvbm4sIGlkKSA6IG9wdGlvbnMucm9sbGJhY2soY29ubikpO1xuICAgIH1cbiAgICBjb25zdCB3aXRoU2NvcGUgPSBzY29wZSAhPT0gdW5kZWZpbmVkID8gRWZmZWN0LmVuc3VyaW5nKGVmZmVjdCwgU2NvcGUuY2xvc2Uoc2NvcGUsIGV4aXQpKSA6IGVmZmVjdDtcbiAgICByZXR1cm4gRWZmZWN0LnppcFJpZ2h0KHdpdGhTY29wZSwgZXhpdCk7XG4gIH0pKSk7XG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/sql/dist/esm/internal/client.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/@effect/sql/dist/esm/internal/statement.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@effect/sql/dist/esm/internal/statement.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FragmentId: () => (/* binding */ FragmentId),\n/* harmony export */   StatementPrimitive: () => (/* binding */ StatementPrimitive),\n/* harmony export */   and: () => (/* binding */ and),\n/* harmony export */   csv: () => (/* binding */ csv),\n/* harmony export */   currentTransformer: () => (/* binding */ currentTransformer),\n/* harmony export */   custom: () => (/* binding */ custom),\n/* harmony export */   defaultEscape: () => (/* binding */ defaultEscape),\n/* harmony export */   defaultTransforms: () => (/* binding */ defaultTransforms),\n/* harmony export */   isCustom: () => (/* binding */ isCustom),\n/* harmony export */   isFragment: () => (/* binding */ isFragment),\n/* harmony export */   isParameter: () => (/* binding */ isParameter),\n/* harmony export */   join: () => (/* binding */ join),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeCompiler: () => (/* binding */ makeCompiler),\n/* harmony export */   makeCompilerSqlite: () => (/* binding */ makeCompilerSqlite),\n/* harmony export */   or: () => (/* binding */ or),\n/* harmony export */   primitiveKind: () => (/* binding */ primitiveKind),\n/* harmony export */   setTransformer: () => (/* binding */ setTransformer),\n/* harmony export */   statement: () => (/* binding */ statement),\n/* harmony export */   unsafeFragment: () => (/* binding */ unsafeFragment),\n/* harmony export */   withTransformer: () => (/* binding */ withTransformer),\n/* harmony export */   withTransformerDisabled: () => (/* binding */ withTransformerDisabled)\n/* harmony export */ });\n/* harmony import */ var _opentelemetry_semantic_conventions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @opentelemetry/semantic-conventions */ \"(rsc)/../../node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effect/Effect */ \"(rsc)/../../node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Effectable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/Effectable */ \"(rsc)/../../node_modules/effect/dist/esm/Effectable.js\");\n/* harmony import */ var effect_FiberRef__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/FiberRef */ \"(rsc)/../../node_modules/effect/dist/esm/FiberRef.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Function */ \"(rsc)/../../node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_GlobalValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/GlobalValue */ \"(rsc)/../../node_modules/effect/dist/esm/GlobalValue.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Layer */ \"(rsc)/../../node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Option */ \"(rsc)/../../node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Predicate */ \"(rsc)/../../node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_Stream__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Stream */ \"(rsc)/../../node_modules/effect/dist/esm/Stream.js\");\n\n\n\n\n\n\n\n\n\n\n/** @internal */\nconst FragmentId = /*#__PURE__*/Symbol.for(\"@effect/sql/Fragment\");\n/** @internal */\nconst isFragment = u => typeof u === \"object\" && u !== null && FragmentId in u;\n/** @internal */\nconst isParameter = u => effect_Predicate__WEBPACK_IMPORTED_MODULE_0__.isTagged(u, \"Parameter\");\n/** @internal */\nconst isCustom = kind => u => u instanceof CustomImpl && u.kind === kind;\n/** @internal */\nconst currentTransformer = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_1__.globalValue)(\"@effect/sql/Statement/currentTransformer\", () => effect_FiberRef__WEBPACK_IMPORTED_MODULE_2__.unsafeMake(effect_Option__WEBPACK_IMPORTED_MODULE_3__.none()));\n/** @internal */\nconst withTransformer = /*#__PURE__*/(0,effect_Function__WEBPACK_IMPORTED_MODULE_4__.dual)(2, (effect, f) => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.locally(effect, currentTransformer, effect_Option__WEBPACK_IMPORTED_MODULE_3__.some(f)));\n/** @internal */\nconst withTransformerDisabled = effect => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.locally(effect, currentTransformer, effect_Option__WEBPACK_IMPORTED_MODULE_3__.none());\n/** @internal */\nconst setTransformer = f => effect_Layer__WEBPACK_IMPORTED_MODULE_6__.locallyScoped(currentTransformer, effect_Option__WEBPACK_IMPORTED_MODULE_3__.some(f));\nconst withStatement = (self, span, f) => effect_Effect__WEBPACK_IMPORTED_MODULE_5__.withFiberRuntime(fiber => {\n  const transform = fiber.getFiberRef(currentTransformer);\n  if (transform._tag === \"None\") {\n    return f(self);\n  }\n  return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(transform.value(self, make(self.acquirer, self.compiler, self.spanAttributes, self.transformRows), fiber.getFiberRefs(), span), f);\n});\n/** @internal */\nclass StatementPrimitive extends effect_Effectable__WEBPACK_IMPORTED_MODULE_7__.Class {\n  segments;\n  acquirer;\n  compiler;\n  spanAttributes;\n  transformRows;\n  get [FragmentId]() {\n    return effect_Function__WEBPACK_IMPORTED_MODULE_4__.identity;\n  }\n  constructor(segments, acquirer, compiler, spanAttributes, transformRows) {\n    super();\n    this.segments = segments;\n    this.acquirer = acquirer;\n    this.compiler = compiler;\n    this.spanAttributes = spanAttributes;\n    this.transformRows = transformRows;\n  }\n  withConnection(operation, f, withoutTransform = false) {\n    return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.useSpan(\"sql.execute\", {\n      kind: \"client\",\n      captureStackTrace: false\n    }, span => withStatement(this, span, statement => {\n      const [sql, params] = statement.compile(withoutTransform);\n      for (const [key, value] of this.spanAttributes) {\n        span.attribute(key, value);\n      }\n      span.attribute(_opentelemetry_semantic_conventions__WEBPACK_IMPORTED_MODULE_8__.SEMATTRS_DB_OPERATION, operation);\n      span.attribute(_opentelemetry_semantic_conventions__WEBPACK_IMPORTED_MODULE_8__.SEMATTRS_DB_STATEMENT, sql);\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.scoped(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(this.acquirer, _ => f(_, sql, params)));\n    }));\n  }\n  get withoutTransform() {\n    return this.withConnection(\"executeWithoutTransform\", (connection, sql, params) => connection.execute(sql, params, undefined), true);\n  }\n  get raw() {\n    return this.withConnection(\"executeRaw\", (connection, sql, params) => connection.executeRaw(sql, params), true);\n  }\n  get stream() {\n    return effect_Stream__WEBPACK_IMPORTED_MODULE_9__.unwrapScoped(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.flatMap(effect_Effect__WEBPACK_IMPORTED_MODULE_5__.makeSpanScoped(\"sql.execute\", {\n      kind: \"client\",\n      captureStackTrace: false\n    }), span => withStatement(this, span, statement => {\n      const [sql, params] = statement.compile();\n      for (const [key, value] of this.spanAttributes) {\n        span.attribute(key, value);\n      }\n      span.attribute(_opentelemetry_semantic_conventions__WEBPACK_IMPORTED_MODULE_8__.SEMATTRS_DB_OPERATION, \"executeStream\");\n      span.attribute(_opentelemetry_semantic_conventions__WEBPACK_IMPORTED_MODULE_8__.SEMATTRS_DB_STATEMENT, sql);\n      return effect_Effect__WEBPACK_IMPORTED_MODULE_5__.map(this.acquirer, _ => _.executeStream(sql, params, this.transformRows));\n    })));\n  }\n  get values() {\n    return this.withConnection(\"executeValues\", (connection, sql, params) => connection.executeValues(sql, params));\n  }\n  get unprepared() {\n    return this.withConnection(\"executeUnprepared\", (connection, sql, params) => connection.executeUnprepared(sql, params, this.transformRows));\n  }\n  compile(withoutTransform) {\n    return this.compiler.compile(this, withoutTransform ?? false);\n  }\n  commit() {\n    return this.withConnection(\"execute\", (connection, sql, params) => connection.execute(sql, params, this.transformRows));\n  }\n  toJSON() {\n    const [sql, params] = this.compile();\n    return {\n      _id: \"@effect/sql/Statement\",\n      segments: this.segments,\n      sql,\n      params\n    };\n  }\n}\nclass FragmentImpl {\n  segments;\n  get [FragmentId]() {\n    return effect_Function__WEBPACK_IMPORTED_MODULE_4__.identity;\n  }\n  constructor(segments) {\n    this.segments = segments;\n  }\n}\nclass LiteralImpl {\n  value;\n  params;\n  _tag = \"Literal\";\n  constructor(value, params) {\n    this.value = value;\n    this.params = params;\n  }\n}\nclass IdentifierImpl {\n  value;\n  _tag = \"Identifier\";\n  constructor(value) {\n    this.value = value;\n  }\n}\nclass ParameterImpl {\n  value;\n  _tag = \"Parameter\";\n  constructor(value) {\n    this.value = value;\n  }\n}\nclass ArrayHelperImpl {\n  value;\n  _tag = \"ArrayHelper\";\n  constructor(value) {\n    this.value = value;\n  }\n}\nfunction identifierWrap(sql) {\n  return typeof sql === \"string\" ? sql : FragmentId in sql ? sql : new FragmentImpl([sql]);\n}\nclass RecordInsertHelperImpl {\n  value;\n  returningIdentifier;\n  _tag = \"RecordInsertHelper\";\n  constructor(value, returningIdentifier) {\n    this.value = value;\n    this.returningIdentifier = returningIdentifier;\n  }\n  returning(sql) {\n    return new RecordInsertHelperImpl(this.value, identifierWrap(sql));\n  }\n}\nclass RecordUpdateHelperImpl {\n  value;\n  alias;\n  returningIdentifier;\n  _tag = \"RecordUpdateHelper\";\n  constructor(value, alias, returningIdentifier) {\n    this.value = value;\n    this.alias = alias;\n    this.returningIdentifier = returningIdentifier;\n  }\n  returning(sql) {\n    return new RecordUpdateHelperImpl(this.value, this.alias, identifierWrap(sql));\n  }\n}\nclass RecordUpdateHelperSingleImpl {\n  value;\n  omit;\n  returningIdentifier;\n  _tag = \"RecordUpdateHelperSingle\";\n  constructor(value, omit, returningIdentifier) {\n    this.value = value;\n    this.omit = omit;\n    this.returningIdentifier = returningIdentifier;\n  }\n  returning(sql) {\n    return new RecordUpdateHelperSingleImpl(this.value, this.omit, identifierWrap(sql));\n  }\n}\nclass CustomImpl {\n  kind;\n  i0;\n  i1;\n  i2;\n  _tag = \"Custom\";\n  constructor(kind, i0, i1, i2) {\n    this.kind = kind;\n    this.i0 = i0;\n    this.i1 = i1;\n    this.i2 = i2;\n  }\n}\n/** @internal */\nconst custom = kind => (i0, i1, i2) => new FragmentImpl([new CustomImpl(kind, i0, i1, i2)]);\nconst isHelper = u => u instanceof ArrayHelperImpl || u instanceof RecordInsertHelperImpl || u instanceof RecordUpdateHelperImpl || u instanceof RecordUpdateHelperSingleImpl || u instanceof IdentifierImpl;\nconst constructorCache = /*#__PURE__*/(0,effect_GlobalValue__WEBPACK_IMPORTED_MODULE_1__.globalValue)(\"@effect/sql/Statement/constructorCache\", () => ({\n  transforms: new WeakMap(),\n  noTransforms: new WeakMap()\n}));\n/** @internal */\nconst make = (acquirer, compiler, spanAttributes, transformRows) => {\n  const cache = transformRows === undefined ? constructorCache.noTransforms : constructorCache.transforms;\n  if (cache.has(acquirer)) {\n    return cache.get(acquirer);\n  }\n  const self = Object.assign(function sql(strings, ...args) {\n    if (Array.isArray(strings) && \"raw\" in strings) {\n      return statement(acquirer, compiler, strings, args, spanAttributes, transformRows);\n    } else if (typeof strings === \"string\") {\n      return new IdentifierImpl(strings);\n    }\n    throw \"absurd\";\n  }, {\n    unsafe(sql, params) {\n      return new StatementPrimitive([new LiteralImpl(sql, params)], acquirer, compiler, spanAttributes, transformRows);\n    },\n    literal(sql) {\n      return new FragmentImpl([new LiteralImpl(sql)]);\n    },\n    in: in_,\n    insert(value) {\n      return new RecordInsertHelperImpl(Array.isArray(value) ? value : [value], undefined);\n    },\n    update(value, omit) {\n      return new RecordUpdateHelperSingleImpl(value, omit ?? [], undefined);\n    },\n    updateValues(value, alias) {\n      return new RecordUpdateHelperImpl(value, alias, undefined);\n    },\n    and,\n    or,\n    csv,\n    join,\n    onDialect(options) {\n      return options[compiler.dialect]();\n    },\n    onDialectOrElse(options) {\n      return options[compiler.dialect] !== undefined ? options[compiler.dialect]() : options.orElse();\n    }\n  });\n  cache.set(acquirer, self);\n  return self;\n};\n/** @internal */\nconst statement = (acquirer, compiler, strings, args, spanAttributes, transformRows) => {\n  const segments = strings[0].length > 0 ? [new LiteralImpl(strings[0])] : [];\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i];\n    if (isFragment(arg)) {\n      for (const segment of arg.segments) {\n        segments.push(segment);\n      }\n    } else if (isHelper(arg)) {\n      segments.push(arg);\n    } else {\n      segments.push(new ParameterImpl(arg));\n    }\n    if (strings[i + 1].length > 0) {\n      segments.push(new LiteralImpl(strings[i + 1]));\n    }\n  }\n  return new StatementPrimitive(segments, acquirer, compiler, spanAttributes, transformRows);\n};\n/** @internal */\nconst unsafeFragment = (sql, params) => new FragmentImpl([new LiteralImpl(sql, params)]);\nfunction convertLiteralOrFragment(clause) {\n  if (typeof clause === \"string\") {\n    return [new LiteralImpl(clause)];\n  }\n  return clause.segments;\n}\nfunction in_() {\n  if (arguments.length === 1) {\n    return new ArrayHelperImpl(arguments[0]);\n  }\n  const column = arguments[0];\n  const values = arguments[1];\n  return values.length === 0 ? unsafeFragment(\"1=0\") : new FragmentImpl([new IdentifierImpl(column), new LiteralImpl(\" IN \"), new ArrayHelperImpl(values)]);\n}\n/** @internal */\nfunction join(literal, addParens = true, fallback = \"\") {\n  const literalStatement = new LiteralImpl(literal);\n  return clauses => {\n    if (clauses.length === 0) {\n      return unsafeFragment(fallback);\n    } else if (clauses.length === 1) {\n      return new FragmentImpl(convertLiteralOrFragment(clauses[0]));\n    }\n    const segments = [];\n    if (addParens) {\n      segments.push(new LiteralImpl(\"(\"));\n    }\n    segments.push.apply(segments, convertLiteralOrFragment(clauses[0]));\n    for (let i = 1; i < clauses.length; i++) {\n      segments.push(literalStatement);\n      segments.push.apply(segments, convertLiteralOrFragment(clauses[i]));\n    }\n    if (addParens) {\n      segments.push(new LiteralImpl(\")\"));\n    }\n    return new FragmentImpl(segments);\n  };\n}\n/** @internal */\nconst and = /*#__PURE__*/join(\" AND \", true, \"1=1\");\n/** @internal */\nconst or = /*#__PURE__*/join(\" OR \", true, \"1=1\");\nconst csvRaw = /*#__PURE__*/join(\", \", false);\n/** @internal */\nconst csv = (...args) => {\n  if (args[args.length - 1].length === 0) {\n    return unsafeFragment(\"\");\n  }\n  if (args.length === 1) {\n    return csvRaw(args[0]);\n  }\n  return new FragmentImpl([new LiteralImpl(`${args[0]} `), ...csvRaw(args[1]).segments]);\n};\nconst statementCacheSymbol = /*#__PURE__*/Symbol.for(\"@effect/sql/Statement/statementCache\");\nconst statementCacheNoTransformSymbol = /*#__PURE__*/Symbol.for(\"@effect/sql/Statement/statementCacheNoTransform\");\n/** @internal */\nclass CompilerImpl {\n  dialect;\n  parameterPlaceholder;\n  onIdentifier;\n  onRecordUpdate;\n  onCustom;\n  onInsert;\n  onRecordUpdateSingle;\n  disableTransforms;\n  constructor(dialect, parameterPlaceholder, onIdentifier, onRecordUpdate, onCustom, onInsert, onRecordUpdateSingle, disableTransforms = false) {\n    this.dialect = dialect;\n    this.parameterPlaceholder = parameterPlaceholder;\n    this.onIdentifier = onIdentifier;\n    this.onRecordUpdate = onRecordUpdate;\n    this.onCustom = onCustom;\n    this.onInsert = onInsert;\n    this.onRecordUpdateSingle = onRecordUpdateSingle;\n    this.disableTransforms = disableTransforms;\n  }\n  compile(statement, withoutTransform = false, placeholderOverride) {\n    withoutTransform = withoutTransform || this.disableTransforms;\n    const cacheSymbol = withoutTransform ? statementCacheNoTransformSymbol : statementCacheSymbol;\n    if (cacheSymbol in statement) {\n      return statement[cacheSymbol];\n    }\n    const segments = statement.segments;\n    const len = segments.length;\n    let sql = \"\";\n    const binds = [];\n    let placeholderCount = 0;\n    const placeholder = placeholderOverride ?? (u => this.parameterPlaceholder(++placeholderCount, u));\n    const placeholderNoIncrement = u => this.parameterPlaceholder(placeholderCount, u);\n    const placeholders = makePlaceholdersArray(placeholder);\n    for (let i = 0; i < len; i++) {\n      const segment = segments[i];\n      switch (segment._tag) {\n        case \"Literal\":\n          {\n            sql += segment.value;\n            if (segment.params) {\n              binds.push.apply(binds, segment.params);\n            }\n            break;\n          }\n        case \"Identifier\":\n          {\n            sql += this.onIdentifier(segment.value, withoutTransform);\n            break;\n          }\n        case \"Parameter\":\n          {\n            sql += placeholder(segment.value);\n            binds.push(segment.value);\n            break;\n          }\n        case \"ArrayHelper\":\n          {\n            sql += `(${placeholders(segment.value)})`;\n            binds.push.apply(binds, segment.value);\n            break;\n          }\n        case \"RecordInsertHelper\":\n          {\n            const keys = Object.keys(segment.value[0]);\n            if (this.onInsert) {\n              const values = new Array(segment.value.length);\n              let placeholders = \"\";\n              for (let i = 0; i < segment.value.length; i++) {\n                const row = new Array(keys.length);\n                values[i] = row;\n                placeholders += i === 0 ? \"(\" : \",(\";\n                for (let j = 0; j < keys.length; j++) {\n                  const key = keys[j];\n                  const value = segment.value[i][key];\n                  const primitive = extractPrimitive(value, this.onCustom, placeholderNoIncrement, withoutTransform);\n                  row[j] = primitive;\n                  placeholders += j === 0 ? placeholder(value) : `,${placeholder(value)}`;\n                }\n                placeholders += \")\";\n              }\n              const [s, b] = this.onInsert(keys.map(_ => this.onIdentifier(_, withoutTransform)), placeholders, values, typeof segment.returningIdentifier === \"string\" ? [segment.returningIdentifier, []] : segment.returningIdentifier ? this.compile(segment.returningIdentifier, withoutTransform, placeholder) : undefined);\n              sql += s;\n              binds.push.apply(binds, b);\n            } else {\n              let placeholders = \"\";\n              for (let i = 0; i < segment.value.length; i++) {\n                placeholders += i === 0 ? \"(\" : \",(\";\n                for (let j = 0; j < keys.length; j++) {\n                  const value = segment.value[i][keys[j]];\n                  const primitive = extractPrimitive(value, this.onCustom, placeholderNoIncrement, withoutTransform);\n                  binds.push(primitive);\n                  placeholders += j === 0 ? placeholder(value) : `,${placeholder(value)}`;\n                }\n                placeholders += \")\";\n              }\n              sql += `${generateColumns(keys, this.onIdentifier, withoutTransform)} VALUES ${placeholders}`;\n              if (typeof segment.returningIdentifier === \"string\") {\n                sql += ` RETURNING ${segment.returningIdentifier}`;\n              } else if (segment.returningIdentifier) {\n                sql += \" RETURNING \";\n                const [s, b] = this.compile(segment.returningIdentifier, withoutTransform, placeholder);\n                sql += s;\n                binds.push.apply(binds, b);\n              }\n            }\n            break;\n          }\n        case \"RecordUpdateHelperSingle\":\n          {\n            let keys = Object.keys(segment.value);\n            if (segment.omit.length > 0) {\n              keys = keys.filter(key => !segment.omit.includes(key));\n            }\n            if (this.onRecordUpdateSingle) {\n              const [s, b] = this.onRecordUpdateSingle(keys.map(_ => this.onIdentifier(_, withoutTransform)), keys.map(key => extractPrimitive(segment.value[key], this.onCustom, placeholderNoIncrement, withoutTransform)), typeof segment.returningIdentifier === \"string\" ? [segment.returningIdentifier, []] : segment.returningIdentifier ? this.compile(segment.returningIdentifier, withoutTransform, placeholder) : undefined);\n              sql += s;\n              binds.push.apply(binds, b);\n            } else {\n              for (let i = 0, len = keys.length; i < len; i++) {\n                const column = this.onIdentifier(keys[i], withoutTransform);\n                if (i === 0) {\n                  sql += `${column} = ${placeholder(segment.value[keys[i]])}`;\n                } else {\n                  sql += `, ${column} = ${placeholder(segment.value[keys[i]])}`;\n                }\n                binds.push(extractPrimitive(segment.value[keys[i]], this.onCustom, placeholderNoIncrement, withoutTransform));\n              }\n              if (typeof segment.returningIdentifier === \"string\") {\n                if (this.dialect === \"mssql\") {\n                  sql += ` OUTPUT ${segment.returningIdentifier === \"*\" ? \"INSERTED.*\" : segment.returningIdentifier}`;\n                } else {\n                  sql += ` RETURNING ${segment.returningIdentifier}`;\n                }\n              } else if (segment.returningIdentifier) {\n                sql += this.dialect === \"mssql\" ? \" OUTPUT \" : \" RETURNING \";\n                const [s, b] = this.compile(segment.returningIdentifier, withoutTransform, placeholder);\n                sql += s;\n                binds.push.apply(binds, b);\n              }\n            }\n            break;\n          }\n        case \"RecordUpdateHelper\":\n          {\n            const keys = Object.keys(segment.value[0]);\n            const values = new Array(segment.value.length);\n            let placeholders = \"\";\n            for (let i = 0; i < segment.value.length; i++) {\n              const row = new Array(keys.length);\n              values[i] = row;\n              placeholders += i === 0 ? \"(\" : \",(\";\n              for (let j = 0; j < keys.length; j++) {\n                const key = keys[j];\n                const value = segment.value[i][key];\n                row[j] = extractPrimitive(value, this.onCustom, placeholderNoIncrement, withoutTransform);\n                placeholders += j === 0 ? placeholder(value) : `,${placeholder(value)}`;\n              }\n              placeholders += \")\";\n            }\n            const [s, b] = this.onRecordUpdate(placeholders, segment.alias, generateColumns(keys, this.onIdentifier, withoutTransform), values, typeof segment.returningIdentifier === \"string\" ? [segment.returningIdentifier, []] : segment.returningIdentifier ? this.compile(segment.returningIdentifier, withoutTransform, placeholder) : undefined);\n            sql += s;\n            binds.push.apply(binds, b);\n            break;\n          }\n        case \"Custom\":\n          {\n            const [s, b] = this.onCustom(segment, placeholder, withoutTransform);\n            sql += s;\n            binds.push.apply(binds, b);\n            break;\n          }\n      }\n    }\n    const result = [sql, binds];\n    if (placeholderOverride !== undefined) {\n      return result;\n    }\n    return statement[cacheSymbol] = result;\n  }\n  get withoutTransform() {\n    return new CompilerImpl(this.dialect, this.parameterPlaceholder, this.onIdentifier, this.onRecordUpdate, this.onCustom, this.onInsert, this.onRecordUpdateSingle, true);\n  }\n}\n/** @internal */\nconst makeCompiler = options => new CompilerImpl(options.dialect, options.placeholder, options.onIdentifier, options.onRecordUpdate, options.onCustom, options.onInsert, options.onRecordUpdateSingle);\nconst makePlaceholdersArray = evaluate => values => {\n  if (values.length === 0) {\n    return \"\";\n  }\n  let result = evaluate(values[0]);\n  for (let i = 1; i < values.length; i++) {\n    result += `,${evaluate(values[i])}`;\n  }\n  return result;\n};\nconst generateColumns = (keys, escape, withoutTransform) => {\n  if (keys.length === 0) {\n    return \"()\";\n  }\n  let str = `(${escape(keys[0], withoutTransform)}`;\n  for (let i = 1; i < keys.length; i++) {\n    str += `,${escape(keys[i], withoutTransform)}`;\n  }\n  return str + \")\";\n};\n/** @internal */\nfunction defaultEscape(c) {\n  const re = new RegExp(c, \"g\");\n  const double = c + c;\n  const dot = c + \".\" + c;\n  return function (str) {\n    return c + str.replace(re, double).replace(/\\./g, dot) + c;\n  };\n}\n/** @internal */\nconst primitiveKind = value => {\n  switch (typeof value) {\n    case \"string\":\n      return \"string\";\n    case \"number\":\n      return \"number\";\n    case \"boolean\":\n      return \"boolean\";\n    case \"bigint\":\n      return \"bigint\";\n    case \"undefined\":\n      return \"null\";\n  }\n  if (value === null) {\n    return \"null\";\n  } else if (value instanceof Date) {\n    return \"Date\";\n  } else if (value instanceof Uint8Array) {\n    return \"Uint8Array\";\n  } else if (value instanceof Int8Array) {\n    return \"Int8Array\";\n  }\n  return \"string\";\n};\nconst extractPrimitive = (value, onCustom, placeholder, withoutTransform) => {\n  if (value === undefined) {\n    return null;\n  } else if (isFragment(value)) {\n    const head = value.segments[0];\n    if (head._tag === \"Custom\") {\n      const compiled = onCustom(head, placeholder, withoutTransform);\n      return compiled[1][0] ?? null;\n    } else if (head._tag === \"Parameter\") {\n      return head.value;\n    }\n    return null;\n  }\n  return value;\n};\nconst escapeSqlite = /*#__PURE__*/defaultEscape(\"\\\"\");\n/** @internal */\nconst makeCompilerSqlite = transform => makeCompiler({\n  dialect: \"sqlite\",\n  placeholder(_) {\n    return \"?\";\n  },\n  onIdentifier: transform ? function (value, withoutTransform) {\n    return withoutTransform ? escapeSqlite(value) : escapeSqlite(transform(value));\n  } : escapeSqlite,\n  onRecordUpdate() {\n    return [\"\", []];\n  },\n  onCustom() {\n    return [\"\", []];\n  }\n});\n/** @internal */\nconst defaultTransforms = (transformer, nested = true) => {\n  const transformValue = value => {\n    if (Array.isArray(value)) {\n      if (value.length === 0 || value[0].constructor !== Object) {\n        return value;\n      }\n      return array(value);\n    } else if (value?.constructor === Object) {\n      return transformObject(value);\n    }\n    return value;\n  };\n  const transformObject = obj => {\n    const newObj = {};\n    for (const key in obj) {\n      newObj[transformer(key)] = transformValue(obj[key]);\n    }\n    return newObj;\n  };\n  const transformArrayNested = rows => {\n    const newRows = new Array(rows.length);\n    for (let i = 0, len = rows.length; i < len; i++) {\n      const row = rows[i];\n      const obj = {};\n      for (const key in row) {\n        obj[transformer(key)] = transformValue(row[key]);\n      }\n      newRows[i] = obj;\n    }\n    return newRows;\n  };\n  const transformArray = rows => {\n    const newRows = new Array(rows.length);\n    for (let i = 0, len = rows.length; i < len; i++) {\n      const row = rows[i];\n      const obj = {};\n      for (const key in row) {\n        obj[transformer(key)] = row[key];\n      }\n      newRows[i] = obj;\n    }\n    return newRows;\n  };\n  const array = nested ? transformArrayNested : transformArray;\n  return {\n    value: transformValue,\n    object: transformObject,\n    array\n  };\n};\n//# sourceMappingURL=statement.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL0BlZmZlY3Qvc3FsL2Rpc3QvZXNtL2ludGVybmFsL3N0YXRlbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE0RDtBQUNwQjtBQUNRO0FBQ0o7QUFDSztBQUNBO0FBQ1g7QUFDRTtBQUNNO0FBQ047QUFDeEM7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPLHlCQUF5QixzREFBa0I7QUFDbEQ7QUFDTztBQUNQO0FBQ08sd0NBQXdDLCtEQUFXLG1EQUFtRCx1REFBbUIsQ0FBQywrQ0FBVztBQUM1STtBQUNPLHFDQUFxQyxxREFBSSxtQkFBbUIsa0RBQWMsNkJBQTZCLCtDQUFXO0FBQ3pIO0FBQ08sMENBQTBDLGtEQUFjLDZCQUE2QiwrQ0FBVztBQUN2RztBQUNPLDRCQUE0Qix1REFBbUIscUJBQXFCLCtDQUFXO0FBQ3RGLHlDQUF5QywyREFBdUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtEQUFjO0FBQ3ZCLENBQUM7QUFDRDtBQUNPLGlDQUFpQyxvREFBZ0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxREFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0RBQWM7QUFDekI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzRkFBMEI7QUFDL0MscUJBQXFCLHNGQUEwQjtBQUMvQyxhQUFhLGlEQUFhLENBQUMsa0RBQWM7QUFDekMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVEQUFtQixDQUFDLGtEQUFjLENBQUMseURBQXFCO0FBQ25FO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0ZBQTBCO0FBQy9DLHFCQUFxQixzRkFBMEI7QUFDL0MsYUFBYSw4Q0FBVTtBQUN2QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxzQ0FBc0MsK0RBQVc7QUFDakQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsU0FBUztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNEJBQTRCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwQkFBMEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGlCQUFpQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxtQkFBbUI7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsOEJBQThCLDBCQUEwQjtBQUN4RDtBQUNBLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLG1CQUFtQjtBQUN4RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNERBQTRELFNBQVMsYUFBYTtBQUMxRztBQUNBLHFDQUFxQyw0QkFBNEI7QUFDakUsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxpREFBaUQsU0FBUztBQUMxRDtBQUNBO0FBQ0EsNEJBQTRCLFFBQVEsSUFBSSxvQ0FBb0M7QUFDNUUsa0JBQWtCO0FBQ2xCLDhCQUE4QixRQUFRLElBQUksb0NBQW9DO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUZBQWlGO0FBQ3JILGtCQUFrQjtBQUNsQix1Q0FBdUMsNEJBQTRCO0FBQ25FO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBCQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUJBQWlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxtQkFBbUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0NBQWtDO0FBQ2xELGtCQUFrQixpQkFBaUI7QUFDbkMsZUFBZSxrQ0FBa0M7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHktc2VydmVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZWZmZWN0L3NxbC9kaXN0L2VzbS9pbnRlcm5hbC9zdGF0ZW1lbnQuanM/OGNlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBPdGVsIGZyb20gXCJAb3BlbnRlbGVtZXRyeS9zZW1hbnRpYy1jb252ZW50aW9uc1wiO1xuaW1wb3J0ICogYXMgRWZmZWN0IGZyb20gXCJlZmZlY3QvRWZmZWN0XCI7XG5pbXBvcnQgKiBhcyBFZmZlY3RhYmxlIGZyb20gXCJlZmZlY3QvRWZmZWN0YWJsZVwiO1xuaW1wb3J0ICogYXMgRmliZXJSZWYgZnJvbSBcImVmZmVjdC9GaWJlclJlZlwiO1xuaW1wb3J0IHsgZHVhbCwgaWRlbnRpdHkgfSBmcm9tIFwiZWZmZWN0L0Z1bmN0aW9uXCI7XG5pbXBvcnQgeyBnbG9iYWxWYWx1ZSB9IGZyb20gXCJlZmZlY3QvR2xvYmFsVmFsdWVcIjtcbmltcG9ydCAqIGFzIExheWVyIGZyb20gXCJlZmZlY3QvTGF5ZXJcIjtcbmltcG9ydCAqIGFzIE9wdGlvbiBmcm9tIFwiZWZmZWN0L09wdGlvblwiO1xuaW1wb3J0ICogYXMgUHJlZGljYXRlIGZyb20gXCJlZmZlY3QvUHJlZGljYXRlXCI7XG5pbXBvcnQgKiBhcyBTdHJlYW0gZnJvbSBcImVmZmVjdC9TdHJlYW1cIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBGcmFnbWVudElkID0gLyojX19QVVJFX18qL1N5bWJvbC5mb3IoXCJAZWZmZWN0L3NxbC9GcmFnbWVudFwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBpc0ZyYWdtZW50ID0gdSA9PiB0eXBlb2YgdSA9PT0gXCJvYmplY3RcIiAmJiB1ICE9PSBudWxsICYmIEZyYWdtZW50SWQgaW4gdTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBpc1BhcmFtZXRlciA9IHUgPT4gUHJlZGljYXRlLmlzVGFnZ2VkKHUsIFwiUGFyYW1ldGVyXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGlzQ3VzdG9tID0ga2luZCA9PiB1ID0+IHUgaW5zdGFuY2VvZiBDdXN0b21JbXBsICYmIHUua2luZCA9PT0ga2luZDtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjdXJyZW50VHJhbnNmb3JtZXIgPSAvKiNfX1BVUkVfXyovZ2xvYmFsVmFsdWUoXCJAZWZmZWN0L3NxbC9TdGF0ZW1lbnQvY3VycmVudFRyYW5zZm9ybWVyXCIsICgpID0+IEZpYmVyUmVmLnVuc2FmZU1ha2UoT3B0aW9uLm5vbmUoKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2Zvcm1lciA9IC8qI19fUFVSRV9fKi9kdWFsKDIsIChlZmZlY3QsIGYpID0+IEVmZmVjdC5sb2NhbGx5KGVmZmVjdCwgY3VycmVudFRyYW5zZm9ybWVyLCBPcHRpb24uc29tZShmKSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2Zvcm1lckRpc2FibGVkID0gZWZmZWN0ID0+IEVmZmVjdC5sb2NhbGx5KGVmZmVjdCwgY3VycmVudFRyYW5zZm9ybWVyLCBPcHRpb24ubm9uZSgpKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzZXRUcmFuc2Zvcm1lciA9IGYgPT4gTGF5ZXIubG9jYWxseVNjb3BlZChjdXJyZW50VHJhbnNmb3JtZXIsIE9wdGlvbi5zb21lKGYpKTtcbmNvbnN0IHdpdGhTdGF0ZW1lbnQgPSAoc2VsZiwgc3BhbiwgZikgPT4gRWZmZWN0LndpdGhGaWJlclJ1bnRpbWUoZmliZXIgPT4ge1xuICBjb25zdCB0cmFuc2Zvcm0gPSBmaWJlci5nZXRGaWJlclJlZihjdXJyZW50VHJhbnNmb3JtZXIpO1xuICBpZiAodHJhbnNmb3JtLl90YWcgPT09IFwiTm9uZVwiKSB7XG4gICAgcmV0dXJuIGYoc2VsZik7XG4gIH1cbiAgcmV0dXJuIEVmZmVjdC5mbGF0TWFwKHRyYW5zZm9ybS52YWx1ZShzZWxmLCBtYWtlKHNlbGYuYWNxdWlyZXIsIHNlbGYuY29tcGlsZXIsIHNlbGYuc3BhbkF0dHJpYnV0ZXMsIHNlbGYudHJhbnNmb3JtUm93cyksIGZpYmVyLmdldEZpYmVyUmVmcygpLCBzcGFuKSwgZik7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBTdGF0ZW1lbnRQcmltaXRpdmUgZXh0ZW5kcyBFZmZlY3RhYmxlLkNsYXNzIHtcbiAgc2VnbWVudHM7XG4gIGFjcXVpcmVyO1xuICBjb21waWxlcjtcbiAgc3BhbkF0dHJpYnV0ZXM7XG4gIHRyYW5zZm9ybVJvd3M7XG4gIGdldCBbRnJhZ21lbnRJZF0oKSB7XG4gICAgcmV0dXJuIGlkZW50aXR5O1xuICB9XG4gIGNvbnN0cnVjdG9yKHNlZ21lbnRzLCBhY3F1aXJlciwgY29tcGlsZXIsIHNwYW5BdHRyaWJ1dGVzLCB0cmFuc2Zvcm1Sb3dzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNlZ21lbnRzID0gc2VnbWVudHM7XG4gICAgdGhpcy5hY3F1aXJlciA9IGFjcXVpcmVyO1xuICAgIHRoaXMuY29tcGlsZXIgPSBjb21waWxlcjtcbiAgICB0aGlzLnNwYW5BdHRyaWJ1dGVzID0gc3BhbkF0dHJpYnV0ZXM7XG4gICAgdGhpcy50cmFuc2Zvcm1Sb3dzID0gdHJhbnNmb3JtUm93cztcbiAgfVxuICB3aXRoQ29ubmVjdGlvbihvcGVyYXRpb24sIGYsIHdpdGhvdXRUcmFuc2Zvcm0gPSBmYWxzZSkge1xuICAgIHJldHVybiBFZmZlY3QudXNlU3BhbihcInNxbC5leGVjdXRlXCIsIHtcbiAgICAgIGtpbmQ6IFwiY2xpZW50XCIsXG4gICAgICBjYXB0dXJlU3RhY2tUcmFjZTogZmFsc2VcbiAgICB9LCBzcGFuID0+IHdpdGhTdGF0ZW1lbnQodGhpcywgc3Bhbiwgc3RhdGVtZW50ID0+IHtcbiAgICAgIGNvbnN0IFtzcWwsIHBhcmFtc10gPSBzdGF0ZW1lbnQuY29tcGlsZSh3aXRob3V0VHJhbnNmb3JtKTtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMuc3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgc3Bhbi5hdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBzcGFuLmF0dHJpYnV0ZShPdGVsLlNFTUFUVFJTX0RCX09QRVJBVElPTiwgb3BlcmF0aW9uKTtcbiAgICAgIHNwYW4uYXR0cmlidXRlKE90ZWwuU0VNQVRUUlNfREJfU1RBVEVNRU5ULCBzcWwpO1xuICAgICAgcmV0dXJuIEVmZmVjdC5zY29wZWQoRWZmZWN0LmZsYXRNYXAodGhpcy5hY3F1aXJlciwgXyA9PiBmKF8sIHNxbCwgcGFyYW1zKSkpO1xuICAgIH0pKTtcbiAgfVxuICBnZXQgd2l0aG91dFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy53aXRoQ29ubmVjdGlvbihcImV4ZWN1dGVXaXRob3V0VHJhbnNmb3JtXCIsIChjb25uZWN0aW9uLCBzcWwsIHBhcmFtcykgPT4gY29ubmVjdGlvbi5leGVjdXRlKHNxbCwgcGFyYW1zLCB1bmRlZmluZWQpLCB0cnVlKTtcbiAgfVxuICBnZXQgcmF3KCkge1xuICAgIHJldHVybiB0aGlzLndpdGhDb25uZWN0aW9uKFwiZXhlY3V0ZVJhd1wiLCAoY29ubmVjdGlvbiwgc3FsLCBwYXJhbXMpID0+IGNvbm5lY3Rpb24uZXhlY3V0ZVJhdyhzcWwsIHBhcmFtcyksIHRydWUpO1xuICB9XG4gIGdldCBzdHJlYW0oKSB7XG4gICAgcmV0dXJuIFN0cmVhbS51bndyYXBTY29wZWQoRWZmZWN0LmZsYXRNYXAoRWZmZWN0Lm1ha2VTcGFuU2NvcGVkKFwic3FsLmV4ZWN1dGVcIiwge1xuICAgICAga2luZDogXCJjbGllbnRcIixcbiAgICAgIGNhcHR1cmVTdGFja1RyYWNlOiBmYWxzZVxuICAgIH0pLCBzcGFuID0+IHdpdGhTdGF0ZW1lbnQodGhpcywgc3Bhbiwgc3RhdGVtZW50ID0+IHtcbiAgICAgIGNvbnN0IFtzcWwsIHBhcmFtc10gPSBzdGF0ZW1lbnQuY29tcGlsZSgpO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5zcGFuQXR0cmlidXRlcykge1xuICAgICAgICBzcGFuLmF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHNwYW4uYXR0cmlidXRlKE90ZWwuU0VNQVRUUlNfREJfT1BFUkFUSU9OLCBcImV4ZWN1dGVTdHJlYW1cIik7XG4gICAgICBzcGFuLmF0dHJpYnV0ZShPdGVsLlNFTUFUVFJTX0RCX1NUQVRFTUVOVCwgc3FsKTtcbiAgICAgIHJldHVybiBFZmZlY3QubWFwKHRoaXMuYWNxdWlyZXIsIF8gPT4gXy5leGVjdXRlU3RyZWFtKHNxbCwgcGFyYW1zLCB0aGlzLnRyYW5zZm9ybVJvd3MpKTtcbiAgICB9KSkpO1xuICB9XG4gIGdldCB2YWx1ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMud2l0aENvbm5lY3Rpb24oXCJleGVjdXRlVmFsdWVzXCIsIChjb25uZWN0aW9uLCBzcWwsIHBhcmFtcykgPT4gY29ubmVjdGlvbi5leGVjdXRlVmFsdWVzKHNxbCwgcGFyYW1zKSk7XG4gIH1cbiAgZ2V0IHVucHJlcGFyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMud2l0aENvbm5lY3Rpb24oXCJleGVjdXRlVW5wcmVwYXJlZFwiLCAoY29ubmVjdGlvbiwgc3FsLCBwYXJhbXMpID0+IGNvbm5lY3Rpb24uZXhlY3V0ZVVucHJlcGFyZWQoc3FsLCBwYXJhbXMsIHRoaXMudHJhbnNmb3JtUm93cykpO1xuICB9XG4gIGNvbXBpbGUod2l0aG91dFRyYW5zZm9ybSkge1xuICAgIHJldHVybiB0aGlzLmNvbXBpbGVyLmNvbXBpbGUodGhpcywgd2l0aG91dFRyYW5zZm9ybSA/PyBmYWxzZSk7XG4gIH1cbiAgY29tbWl0KCkge1xuICAgIHJldHVybiB0aGlzLndpdGhDb25uZWN0aW9uKFwiZXhlY3V0ZVwiLCAoY29ubmVjdGlvbiwgc3FsLCBwYXJhbXMpID0+IGNvbm5lY3Rpb24uZXhlY3V0ZShzcWwsIHBhcmFtcywgdGhpcy50cmFuc2Zvcm1Sb3dzKSk7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIGNvbnN0IFtzcWwsIHBhcmFtc10gPSB0aGlzLmNvbXBpbGUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgX2lkOiBcIkBlZmZlY3Qvc3FsL1N0YXRlbWVudFwiLFxuICAgICAgc2VnbWVudHM6IHRoaXMuc2VnbWVudHMsXG4gICAgICBzcWwsXG4gICAgICBwYXJhbXNcbiAgICB9O1xuICB9XG59XG5jbGFzcyBGcmFnbWVudEltcGwge1xuICBzZWdtZW50cztcbiAgZ2V0IFtGcmFnbWVudElkXSgpIHtcbiAgICByZXR1cm4gaWRlbnRpdHk7XG4gIH1cbiAgY29uc3RydWN0b3Ioc2VnbWVudHMpIHtcbiAgICB0aGlzLnNlZ21lbnRzID0gc2VnbWVudHM7XG4gIH1cbn1cbmNsYXNzIExpdGVyYWxJbXBsIHtcbiAgdmFsdWU7XG4gIHBhcmFtcztcbiAgX3RhZyA9IFwiTGl0ZXJhbFwiO1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgcGFyYW1zKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICB9XG59XG5jbGFzcyBJZGVudGlmaWVySW1wbCB7XG4gIHZhbHVlO1xuICBfdGFnID0gXCJJZGVudGlmaWVyXCI7XG4gIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG59XG5jbGFzcyBQYXJhbWV0ZXJJbXBsIHtcbiAgdmFsdWU7XG4gIF90YWcgPSBcIlBhcmFtZXRlclwiO1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxufVxuY2xhc3MgQXJyYXlIZWxwZXJJbXBsIHtcbiAgdmFsdWU7XG4gIF90YWcgPSBcIkFycmF5SGVscGVyXCI7XG4gIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG59XG5mdW5jdGlvbiBpZGVudGlmaWVyV3JhcChzcWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBzcWwgPT09IFwic3RyaW5nXCIgPyBzcWwgOiBGcmFnbWVudElkIGluIHNxbCA/IHNxbCA6IG5ldyBGcmFnbWVudEltcGwoW3NxbF0pO1xufVxuY2xhc3MgUmVjb3JkSW5zZXJ0SGVscGVySW1wbCB7XG4gIHZhbHVlO1xuICByZXR1cm5pbmdJZGVudGlmaWVyO1xuICBfdGFnID0gXCJSZWNvcmRJbnNlcnRIZWxwZXJcIjtcbiAgY29uc3RydWN0b3IodmFsdWUsIHJldHVybmluZ0lkZW50aWZpZXIpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5yZXR1cm5pbmdJZGVudGlmaWVyID0gcmV0dXJuaW5nSWRlbnRpZmllcjtcbiAgfVxuICByZXR1cm5pbmcoc3FsKSB7XG4gICAgcmV0dXJuIG5ldyBSZWNvcmRJbnNlcnRIZWxwZXJJbXBsKHRoaXMudmFsdWUsIGlkZW50aWZpZXJXcmFwKHNxbCkpO1xuICB9XG59XG5jbGFzcyBSZWNvcmRVcGRhdGVIZWxwZXJJbXBsIHtcbiAgdmFsdWU7XG4gIGFsaWFzO1xuICByZXR1cm5pbmdJZGVudGlmaWVyO1xuICBfdGFnID0gXCJSZWNvcmRVcGRhdGVIZWxwZXJcIjtcbiAgY29uc3RydWN0b3IodmFsdWUsIGFsaWFzLCByZXR1cm5pbmdJZGVudGlmaWVyKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuYWxpYXMgPSBhbGlhcztcbiAgICB0aGlzLnJldHVybmluZ0lkZW50aWZpZXIgPSByZXR1cm5pbmdJZGVudGlmaWVyO1xuICB9XG4gIHJldHVybmluZyhzcWwpIHtcbiAgICByZXR1cm4gbmV3IFJlY29yZFVwZGF0ZUhlbHBlckltcGwodGhpcy52YWx1ZSwgdGhpcy5hbGlhcywgaWRlbnRpZmllcldyYXAoc3FsKSk7XG4gIH1cbn1cbmNsYXNzIFJlY29yZFVwZGF0ZUhlbHBlclNpbmdsZUltcGwge1xuICB2YWx1ZTtcbiAgb21pdDtcbiAgcmV0dXJuaW5nSWRlbnRpZmllcjtcbiAgX3RhZyA9IFwiUmVjb3JkVXBkYXRlSGVscGVyU2luZ2xlXCI7XG4gIGNvbnN0cnVjdG9yKHZhbHVlLCBvbWl0LCByZXR1cm5pbmdJZGVudGlmaWVyKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMub21pdCA9IG9taXQ7XG4gICAgdGhpcy5yZXR1cm5pbmdJZGVudGlmaWVyID0gcmV0dXJuaW5nSWRlbnRpZmllcjtcbiAgfVxuICByZXR1cm5pbmcoc3FsKSB7XG4gICAgcmV0dXJuIG5ldyBSZWNvcmRVcGRhdGVIZWxwZXJTaW5nbGVJbXBsKHRoaXMudmFsdWUsIHRoaXMub21pdCwgaWRlbnRpZmllcldyYXAoc3FsKSk7XG4gIH1cbn1cbmNsYXNzIEN1c3RvbUltcGwge1xuICBraW5kO1xuICBpMDtcbiAgaTE7XG4gIGkyO1xuICBfdGFnID0gXCJDdXN0b21cIjtcbiAgY29uc3RydWN0b3Ioa2luZCwgaTAsIGkxLCBpMikge1xuICAgIHRoaXMua2luZCA9IGtpbmQ7XG4gICAgdGhpcy5pMCA9IGkwO1xuICAgIHRoaXMuaTEgPSBpMTtcbiAgICB0aGlzLmkyID0gaTI7XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjdXN0b20gPSBraW5kID0+IChpMCwgaTEsIGkyKSA9PiBuZXcgRnJhZ21lbnRJbXBsKFtuZXcgQ3VzdG9tSW1wbChraW5kLCBpMCwgaTEsIGkyKV0pO1xuY29uc3QgaXNIZWxwZXIgPSB1ID0+IHUgaW5zdGFuY2VvZiBBcnJheUhlbHBlckltcGwgfHwgdSBpbnN0YW5jZW9mIFJlY29yZEluc2VydEhlbHBlckltcGwgfHwgdSBpbnN0YW5jZW9mIFJlY29yZFVwZGF0ZUhlbHBlckltcGwgfHwgdSBpbnN0YW5jZW9mIFJlY29yZFVwZGF0ZUhlbHBlclNpbmdsZUltcGwgfHwgdSBpbnN0YW5jZW9mIElkZW50aWZpZXJJbXBsO1xuY29uc3QgY29uc3RydWN0b3JDYWNoZSA9IC8qI19fUFVSRV9fKi9nbG9iYWxWYWx1ZShcIkBlZmZlY3Qvc3FsL1N0YXRlbWVudC9jb25zdHJ1Y3RvckNhY2hlXCIsICgpID0+ICh7XG4gIHRyYW5zZm9ybXM6IG5ldyBXZWFrTWFwKCksXG4gIG5vVHJhbnNmb3JtczogbmV3IFdlYWtNYXAoKVxufSkpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1ha2UgPSAoYWNxdWlyZXIsIGNvbXBpbGVyLCBzcGFuQXR0cmlidXRlcywgdHJhbnNmb3JtUm93cykgPT4ge1xuICBjb25zdCBjYWNoZSA9IHRyYW5zZm9ybVJvd3MgPT09IHVuZGVmaW5lZCA/IGNvbnN0cnVjdG9yQ2FjaGUubm9UcmFuc2Zvcm1zIDogY29uc3RydWN0b3JDYWNoZS50cmFuc2Zvcm1zO1xuICBpZiAoY2FjaGUuaGFzKGFjcXVpcmVyKSkge1xuICAgIHJldHVybiBjYWNoZS5nZXQoYWNxdWlyZXIpO1xuICB9XG4gIGNvbnN0IHNlbGYgPSBPYmplY3QuYXNzaWduKGZ1bmN0aW9uIHNxbChzdHJpbmdzLCAuLi5hcmdzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3RyaW5ncykgJiYgXCJyYXdcIiBpbiBzdHJpbmdzKSB7XG4gICAgICByZXR1cm4gc3RhdGVtZW50KGFjcXVpcmVyLCBjb21waWxlciwgc3RyaW5ncywgYXJncywgc3BhbkF0dHJpYnV0ZXMsIHRyYW5zZm9ybVJvd3MpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0cmluZ3MgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBuZXcgSWRlbnRpZmllckltcGwoc3RyaW5ncyk7XG4gICAgfVxuICAgIHRocm93IFwiYWJzdXJkXCI7XG4gIH0sIHtcbiAgICB1bnNhZmUoc3FsLCBwYXJhbXMpIHtcbiAgICAgIHJldHVybiBuZXcgU3RhdGVtZW50UHJpbWl0aXZlKFtuZXcgTGl0ZXJhbEltcGwoc3FsLCBwYXJhbXMpXSwgYWNxdWlyZXIsIGNvbXBpbGVyLCBzcGFuQXR0cmlidXRlcywgdHJhbnNmb3JtUm93cyk7XG4gICAgfSxcbiAgICBsaXRlcmFsKHNxbCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFnbWVudEltcGwoW25ldyBMaXRlcmFsSW1wbChzcWwpXSk7XG4gICAgfSxcbiAgICBpbjogaW5fLFxuICAgIGluc2VydCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5ldyBSZWNvcmRJbnNlcnRIZWxwZXJJbXBsKEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdLCB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgdXBkYXRlKHZhbHVlLCBvbWl0KSB7XG4gICAgICByZXR1cm4gbmV3IFJlY29yZFVwZGF0ZUhlbHBlclNpbmdsZUltcGwodmFsdWUsIG9taXQgPz8gW10sIHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICB1cGRhdGVWYWx1ZXModmFsdWUsIGFsaWFzKSB7XG4gICAgICByZXR1cm4gbmV3IFJlY29yZFVwZGF0ZUhlbHBlckltcGwodmFsdWUsIGFsaWFzLCB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgYW5kLFxuICAgIG9yLFxuICAgIGNzdixcbiAgICBqb2luLFxuICAgIG9uRGlhbGVjdChvcHRpb25zKSB7XG4gICAgICByZXR1cm4gb3B0aW9uc1tjb21waWxlci5kaWFsZWN0XSgpO1xuICAgIH0sXG4gICAgb25EaWFsZWN0T3JFbHNlKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBvcHRpb25zW2NvbXBpbGVyLmRpYWxlY3RdICE9PSB1bmRlZmluZWQgPyBvcHRpb25zW2NvbXBpbGVyLmRpYWxlY3RdKCkgOiBvcHRpb25zLm9yRWxzZSgpO1xuICAgIH1cbiAgfSk7XG4gIGNhY2hlLnNldChhY3F1aXJlciwgc2VsZik7XG4gIHJldHVybiBzZWxmO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBzdGF0ZW1lbnQgPSAoYWNxdWlyZXIsIGNvbXBpbGVyLCBzdHJpbmdzLCBhcmdzLCBzcGFuQXR0cmlidXRlcywgdHJhbnNmb3JtUm93cykgPT4ge1xuICBjb25zdCBzZWdtZW50cyA9IHN0cmluZ3NbMF0ubGVuZ3RoID4gMCA/IFtuZXcgTGl0ZXJhbEltcGwoc3RyaW5nc1swXSldIDogW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGFyZyA9IGFyZ3NbaV07XG4gICAgaWYgKGlzRnJhZ21lbnQoYXJnKSkge1xuICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIGFyZy5zZWdtZW50cykge1xuICAgICAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNIZWxwZXIoYXJnKSkge1xuICAgICAgc2VnbWVudHMucHVzaChhcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWdtZW50cy5wdXNoKG5ldyBQYXJhbWV0ZXJJbXBsKGFyZykpO1xuICAgIH1cbiAgICBpZiAoc3RyaW5nc1tpICsgMV0ubGVuZ3RoID4gMCkge1xuICAgICAgc2VnbWVudHMucHVzaChuZXcgTGl0ZXJhbEltcGwoc3RyaW5nc1tpICsgMV0pKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBTdGF0ZW1lbnRQcmltaXRpdmUoc2VnbWVudHMsIGFjcXVpcmVyLCBjb21waWxlciwgc3BhbkF0dHJpYnV0ZXMsIHRyYW5zZm9ybVJvd3MpO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVGcmFnbWVudCA9IChzcWwsIHBhcmFtcykgPT4gbmV3IEZyYWdtZW50SW1wbChbbmV3IExpdGVyYWxJbXBsKHNxbCwgcGFyYW1zKV0pO1xuZnVuY3Rpb24gY29udmVydExpdGVyYWxPckZyYWdtZW50KGNsYXVzZSkge1xuICBpZiAodHlwZW9mIGNsYXVzZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBbbmV3IExpdGVyYWxJbXBsKGNsYXVzZSldO1xuICB9XG4gIHJldHVybiBjbGF1c2Uuc2VnbWVudHM7XG59XG5mdW5jdGlvbiBpbl8oKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIG5ldyBBcnJheUhlbHBlckltcGwoYXJndW1lbnRzWzBdKTtcbiAgfVxuICBjb25zdCBjb2x1bW4gPSBhcmd1bWVudHNbMF07XG4gIGNvbnN0IHZhbHVlcyA9IGFyZ3VtZW50c1sxXTtcbiAgcmV0dXJuIHZhbHVlcy5sZW5ndGggPT09IDAgPyB1bnNhZmVGcmFnbWVudChcIjE9MFwiKSA6IG5ldyBGcmFnbWVudEltcGwoW25ldyBJZGVudGlmaWVySW1wbChjb2x1bW4pLCBuZXcgTGl0ZXJhbEltcGwoXCIgSU4gXCIpLCBuZXcgQXJyYXlIZWxwZXJJbXBsKHZhbHVlcyldKTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBqb2luKGxpdGVyYWwsIGFkZFBhcmVucyA9IHRydWUsIGZhbGxiYWNrID0gXCJcIikge1xuICBjb25zdCBsaXRlcmFsU3RhdGVtZW50ID0gbmV3IExpdGVyYWxJbXBsKGxpdGVyYWwpO1xuICByZXR1cm4gY2xhdXNlcyA9PiB7XG4gICAgaWYgKGNsYXVzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5zYWZlRnJhZ21lbnQoZmFsbGJhY2spO1xuICAgIH0gZWxzZSBpZiAoY2xhdXNlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhZ21lbnRJbXBsKGNvbnZlcnRMaXRlcmFsT3JGcmFnbWVudChjbGF1c2VzWzBdKSk7XG4gICAgfVxuICAgIGNvbnN0IHNlZ21lbnRzID0gW107XG4gICAgaWYgKGFkZFBhcmVucykge1xuICAgICAgc2VnbWVudHMucHVzaChuZXcgTGl0ZXJhbEltcGwoXCIoXCIpKTtcbiAgICB9XG4gICAgc2VnbWVudHMucHVzaC5hcHBseShzZWdtZW50cywgY29udmVydExpdGVyYWxPckZyYWdtZW50KGNsYXVzZXNbMF0pKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGNsYXVzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNlZ21lbnRzLnB1c2gobGl0ZXJhbFN0YXRlbWVudCk7XG4gICAgICBzZWdtZW50cy5wdXNoLmFwcGx5KHNlZ21lbnRzLCBjb252ZXJ0TGl0ZXJhbE9yRnJhZ21lbnQoY2xhdXNlc1tpXSkpO1xuICAgIH1cbiAgICBpZiAoYWRkUGFyZW5zKSB7XG4gICAgICBzZWdtZW50cy5wdXNoKG5ldyBMaXRlcmFsSW1wbChcIilcIikpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZyYWdtZW50SW1wbChzZWdtZW50cyk7XG4gIH07XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgYW5kID0gLyojX19QVVJFX18qL2pvaW4oXCIgQU5EIFwiLCB0cnVlLCBcIjE9MVwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBvciA9IC8qI19fUFVSRV9fKi9qb2luKFwiIE9SIFwiLCB0cnVlLCBcIjE9MVwiKTtcbmNvbnN0IGNzdlJhdyA9IC8qI19fUFVSRV9fKi9qb2luKFwiLCBcIiwgZmFsc2UpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNzdiA9ICguLi5hcmdzKSA9PiB7XG4gIGlmIChhcmdzW2FyZ3MubGVuZ3RoIC0gMV0ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHVuc2FmZUZyYWdtZW50KFwiXCIpO1xuICB9XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBjc3ZSYXcoYXJnc1swXSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBGcmFnbWVudEltcGwoW25ldyBMaXRlcmFsSW1wbChgJHthcmdzWzBdfSBgKSwgLi4uY3N2UmF3KGFyZ3NbMV0pLnNlZ21lbnRzXSk7XG59O1xuY29uc3Qgc3RhdGVtZW50Q2FjaGVTeW1ib2wgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc3FsL1N0YXRlbWVudC9zdGF0ZW1lbnRDYWNoZVwiKTtcbmNvbnN0IHN0YXRlbWVudENhY2hlTm9UcmFuc2Zvcm1TeW1ib2wgPSAvKiNfX1BVUkVfXyovU3ltYm9sLmZvcihcIkBlZmZlY3Qvc3FsL1N0YXRlbWVudC9zdGF0ZW1lbnRDYWNoZU5vVHJhbnNmb3JtXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgQ29tcGlsZXJJbXBsIHtcbiAgZGlhbGVjdDtcbiAgcGFyYW1ldGVyUGxhY2Vob2xkZXI7XG4gIG9uSWRlbnRpZmllcjtcbiAgb25SZWNvcmRVcGRhdGU7XG4gIG9uQ3VzdG9tO1xuICBvbkluc2VydDtcbiAgb25SZWNvcmRVcGRhdGVTaW5nbGU7XG4gIGRpc2FibGVUcmFuc2Zvcm1zO1xuICBjb25zdHJ1Y3RvcihkaWFsZWN0LCBwYXJhbWV0ZXJQbGFjZWhvbGRlciwgb25JZGVudGlmaWVyLCBvblJlY29yZFVwZGF0ZSwgb25DdXN0b20sIG9uSW5zZXJ0LCBvblJlY29yZFVwZGF0ZVNpbmdsZSwgZGlzYWJsZVRyYW5zZm9ybXMgPSBmYWxzZSkge1xuICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgdGhpcy5wYXJhbWV0ZXJQbGFjZWhvbGRlciA9IHBhcmFtZXRlclBsYWNlaG9sZGVyO1xuICAgIHRoaXMub25JZGVudGlmaWVyID0gb25JZGVudGlmaWVyO1xuICAgIHRoaXMub25SZWNvcmRVcGRhdGUgPSBvblJlY29yZFVwZGF0ZTtcbiAgICB0aGlzLm9uQ3VzdG9tID0gb25DdXN0b207XG4gICAgdGhpcy5vbkluc2VydCA9IG9uSW5zZXJ0O1xuICAgIHRoaXMub25SZWNvcmRVcGRhdGVTaW5nbGUgPSBvblJlY29yZFVwZGF0ZVNpbmdsZTtcbiAgICB0aGlzLmRpc2FibGVUcmFuc2Zvcm1zID0gZGlzYWJsZVRyYW5zZm9ybXM7XG4gIH1cbiAgY29tcGlsZShzdGF0ZW1lbnQsIHdpdGhvdXRUcmFuc2Zvcm0gPSBmYWxzZSwgcGxhY2Vob2xkZXJPdmVycmlkZSkge1xuICAgIHdpdGhvdXRUcmFuc2Zvcm0gPSB3aXRob3V0VHJhbnNmb3JtIHx8IHRoaXMuZGlzYWJsZVRyYW5zZm9ybXM7XG4gICAgY29uc3QgY2FjaGVTeW1ib2wgPSB3aXRob3V0VHJhbnNmb3JtID8gc3RhdGVtZW50Q2FjaGVOb1RyYW5zZm9ybVN5bWJvbCA6IHN0YXRlbWVudENhY2hlU3ltYm9sO1xuICAgIGlmIChjYWNoZVN5bWJvbCBpbiBzdGF0ZW1lbnQpIHtcbiAgICAgIHJldHVybiBzdGF0ZW1lbnRbY2FjaGVTeW1ib2xdO1xuICAgIH1cbiAgICBjb25zdCBzZWdtZW50cyA9IHN0YXRlbWVudC5zZWdtZW50cztcbiAgICBjb25zdCBsZW4gPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgbGV0IHNxbCA9IFwiXCI7XG4gICAgY29uc3QgYmluZHMgPSBbXTtcbiAgICBsZXQgcGxhY2Vob2xkZXJDb3VudCA9IDA7XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlck92ZXJyaWRlID8/ICh1ID0+IHRoaXMucGFyYW1ldGVyUGxhY2Vob2xkZXIoKytwbGFjZWhvbGRlckNvdW50LCB1KSk7XG4gICAgY29uc3QgcGxhY2Vob2xkZXJOb0luY3JlbWVudCA9IHUgPT4gdGhpcy5wYXJhbWV0ZXJQbGFjZWhvbGRlcihwbGFjZWhvbGRlckNvdW50LCB1KTtcbiAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBtYWtlUGxhY2Vob2xkZXJzQXJyYXkocGxhY2Vob2xkZXIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcbiAgICAgIHN3aXRjaCAoc2VnbWVudC5fdGFnKSB7XG4gICAgICAgIGNhc2UgXCJMaXRlcmFsXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgc3FsICs9IHNlZ21lbnQudmFsdWU7XG4gICAgICAgICAgICBpZiAoc2VnbWVudC5wYXJhbXMpIHtcbiAgICAgICAgICAgICAgYmluZHMucHVzaC5hcHBseShiaW5kcywgc2VnbWVudC5wYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiSWRlbnRpZmllclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNxbCArPSB0aGlzLm9uSWRlbnRpZmllcihzZWdtZW50LnZhbHVlLCB3aXRob3V0VHJhbnNmb3JtKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlBhcmFtZXRlclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNxbCArPSBwbGFjZWhvbGRlcihzZWdtZW50LnZhbHVlKTtcbiAgICAgICAgICAgIGJpbmRzLnB1c2goc2VnbWVudC52YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJBcnJheUhlbHBlclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNxbCArPSBgKCR7cGxhY2Vob2xkZXJzKHNlZ21lbnQudmFsdWUpfSlgO1xuICAgICAgICAgICAgYmluZHMucHVzaC5hcHBseShiaW5kcywgc2VnbWVudC52YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJSZWNvcmRJbnNlcnRIZWxwZXJcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc2VnbWVudC52YWx1ZVswXSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkluc2VydCkge1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBuZXcgQXJyYXkoc2VnbWVudC52YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICBsZXQgcGxhY2Vob2xkZXJzID0gXCJcIjtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50LnZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSByb3c7XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJzICs9IGkgPT09IDAgPyBcIihcIiA6IFwiLChcIjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbal07XG4gICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNlZ21lbnQudmFsdWVbaV1ba2V5XTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHByaW1pdGl2ZSA9IGV4dHJhY3RQcmltaXRpdmUodmFsdWUsIHRoaXMub25DdXN0b20sIHBsYWNlaG9sZGVyTm9JbmNyZW1lbnQsIHdpdGhvdXRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgcm93W2pdID0gcHJpbWl0aXZlO1xuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJzICs9IGogPT09IDAgPyBwbGFjZWhvbGRlcih2YWx1ZSkgOiBgLCR7cGxhY2Vob2xkZXIodmFsdWUpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVycyArPSBcIilcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBbcywgYl0gPSB0aGlzLm9uSW5zZXJ0KGtleXMubWFwKF8gPT4gdGhpcy5vbklkZW50aWZpZXIoXywgd2l0aG91dFRyYW5zZm9ybSkpLCBwbGFjZWhvbGRlcnMsIHZhbHVlcywgdHlwZW9mIHNlZ21lbnQucmV0dXJuaW5nSWRlbnRpZmllciA9PT0gXCJzdHJpbmdcIiA/IFtzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIsIFtdXSA6IHNlZ21lbnQucmV0dXJuaW5nSWRlbnRpZmllciA/IHRoaXMuY29tcGlsZShzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIsIHdpdGhvdXRUcmFuc2Zvcm0sIHBsYWNlaG9sZGVyKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgIHNxbCArPSBzO1xuICAgICAgICAgICAgICBiaW5kcy5wdXNoLmFwcGx5KGJpbmRzLCBiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCBwbGFjZWhvbGRlcnMgPSBcIlwiO1xuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnQudmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcnMgKz0gaSA9PT0gMCA/IFwiKFwiIDogXCIsKFwiO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwga2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzZWdtZW50LnZhbHVlW2ldW2tleXNbal1dO1xuICAgICAgICAgICAgICAgICAgY29uc3QgcHJpbWl0aXZlID0gZXh0cmFjdFByaW1pdGl2ZSh2YWx1ZSwgdGhpcy5vbkN1c3RvbSwgcGxhY2Vob2xkZXJOb0luY3JlbWVudCwgd2l0aG91dFRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICBiaW5kcy5wdXNoKHByaW1pdGl2ZSk7XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcnMgKz0gaiA9PT0gMCA/IHBsYWNlaG9sZGVyKHZhbHVlKSA6IGAsJHtwbGFjZWhvbGRlcih2YWx1ZSl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJzICs9IFwiKVwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNxbCArPSBgJHtnZW5lcmF0ZUNvbHVtbnMoa2V5cywgdGhpcy5vbklkZW50aWZpZXIsIHdpdGhvdXRUcmFuc2Zvcm0pfSBWQUxVRVMgJHtwbGFjZWhvbGRlcnN9YDtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBzcWwgKz0gYCBSRVRVUk5JTkcgJHtzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXJ9YDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICBzcWwgKz0gXCIgUkVUVVJOSU5HIFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtzLCBiXSA9IHRoaXMuY29tcGlsZShzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIsIHdpdGhvdXRUcmFuc2Zvcm0sIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgICAgICBzcWwgKz0gcztcbiAgICAgICAgICAgICAgICBiaW5kcy5wdXNoLmFwcGx5KGJpbmRzLCBiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiUmVjb3JkVXBkYXRlSGVscGVyU2luZ2xlXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhzZWdtZW50LnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChzZWdtZW50Lm9taXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBrZXlzID0ga2V5cy5maWx0ZXIoa2V5ID0+ICFzZWdtZW50Lm9taXQuaW5jbHVkZXMoa2V5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vblJlY29yZFVwZGF0ZVNpbmdsZSkge1xuICAgICAgICAgICAgICBjb25zdCBbcywgYl0gPSB0aGlzLm9uUmVjb3JkVXBkYXRlU2luZ2xlKGtleXMubWFwKF8gPT4gdGhpcy5vbklkZW50aWZpZXIoXywgd2l0aG91dFRyYW5zZm9ybSkpLCBrZXlzLm1hcChrZXkgPT4gZXh0cmFjdFByaW1pdGl2ZShzZWdtZW50LnZhbHVlW2tleV0sIHRoaXMub25DdXN0b20sIHBsYWNlaG9sZGVyTm9JbmNyZW1lbnQsIHdpdGhvdXRUcmFuc2Zvcm0pKSwgdHlwZW9mIHNlZ21lbnQucmV0dXJuaW5nSWRlbnRpZmllciA9PT0gXCJzdHJpbmdcIiA/IFtzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIsIFtdXSA6IHNlZ21lbnQucmV0dXJuaW5nSWRlbnRpZmllciA/IHRoaXMuY29tcGlsZShzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIsIHdpdGhvdXRUcmFuc2Zvcm0sIHBsYWNlaG9sZGVyKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgIHNxbCArPSBzO1xuICAgICAgICAgICAgICBiaW5kcy5wdXNoLmFwcGx5KGJpbmRzLCBiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sdW1uID0gdGhpcy5vbklkZW50aWZpZXIoa2V5c1tpXSwgd2l0aG91dFRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHNxbCArPSBgJHtjb2x1bW59ID0gJHtwbGFjZWhvbGRlcihzZWdtZW50LnZhbHVlW2tleXNbaV1dKX1gO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzcWwgKz0gYCwgJHtjb2x1bW59ID0gJHtwbGFjZWhvbGRlcihzZWdtZW50LnZhbHVlW2tleXNbaV1dKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiaW5kcy5wdXNoKGV4dHJhY3RQcmltaXRpdmUoc2VnbWVudC52YWx1ZVtrZXlzW2ldXSwgdGhpcy5vbkN1c3RvbSwgcGxhY2Vob2xkZXJOb0luY3JlbWVudCwgd2l0aG91dFRyYW5zZm9ybSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VnbWVudC5yZXR1cm5pbmdJZGVudGlmaWVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlhbGVjdCA9PT0gXCJtc3NxbFwiKSB7XG4gICAgICAgICAgICAgICAgICBzcWwgKz0gYCBPVVRQVVQgJHtzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIgPT09IFwiKlwiID8gXCJJTlNFUlRFRC4qXCIgOiBzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXJ9YDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc3FsICs9IGAgUkVUVVJOSU5HICR7c2VnbWVudC5yZXR1cm5pbmdJZGVudGlmaWVyfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlZ21lbnQucmV0dXJuaW5nSWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgIHNxbCArPSB0aGlzLmRpYWxlY3QgPT09IFwibXNzcWxcIiA/IFwiIE9VVFBVVCBcIiA6IFwiIFJFVFVSTklORyBcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBbcywgYl0gPSB0aGlzLmNvbXBpbGUoc2VnbWVudC5yZXR1cm5pbmdJZGVudGlmaWVyLCB3aXRob3V0VHJhbnNmb3JtLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgc3FsICs9IHM7XG4gICAgICAgICAgICAgICAgYmluZHMucHVzaC5hcHBseShiaW5kcywgYik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlJlY29yZFVwZGF0ZUhlbHBlclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzZWdtZW50LnZhbHVlWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBBcnJheShzZWdtZW50LnZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgcGxhY2Vob2xkZXJzID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudC52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBjb25zdCByb3cgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSByb3c7XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVycyArPSBpID09PSAwID8gXCIoXCIgOiBcIiwoXCI7XG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwga2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbal07XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzZWdtZW50LnZhbHVlW2ldW2tleV07XG4gICAgICAgICAgICAgICAgcm93W2pdID0gZXh0cmFjdFByaW1pdGl2ZSh2YWx1ZSwgdGhpcy5vbkN1c3RvbSwgcGxhY2Vob2xkZXJOb0luY3JlbWVudCwgd2l0aG91dFRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJzICs9IGogPT09IDAgPyBwbGFjZWhvbGRlcih2YWx1ZSkgOiBgLCR7cGxhY2Vob2xkZXIodmFsdWUpfWA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXJzICs9IFwiKVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgW3MsIGJdID0gdGhpcy5vblJlY29yZFVwZGF0ZShwbGFjZWhvbGRlcnMsIHNlZ21lbnQuYWxpYXMsIGdlbmVyYXRlQ29sdW1ucyhrZXlzLCB0aGlzLm9uSWRlbnRpZmllciwgd2l0aG91dFRyYW5zZm9ybSksIHZhbHVlcywgdHlwZW9mIHNlZ21lbnQucmV0dXJuaW5nSWRlbnRpZmllciA9PT0gXCJzdHJpbmdcIiA/IFtzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIsIFtdXSA6IHNlZ21lbnQucmV0dXJuaW5nSWRlbnRpZmllciA/IHRoaXMuY29tcGlsZShzZWdtZW50LnJldHVybmluZ0lkZW50aWZpZXIsIHdpdGhvdXRUcmFuc2Zvcm0sIHBsYWNlaG9sZGVyKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBzcWwgKz0gcztcbiAgICAgICAgICAgIGJpbmRzLnB1c2guYXBwbHkoYmluZHMsIGIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiQ3VzdG9tXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgW3MsIGJdID0gdGhpcy5vbkN1c3RvbShzZWdtZW50LCBwbGFjZWhvbGRlciwgd2l0aG91dFRyYW5zZm9ybSk7XG4gICAgICAgICAgICBzcWwgKz0gcztcbiAgICAgICAgICAgIGJpbmRzLnB1c2guYXBwbHkoYmluZHMsIGIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbc3FsLCBiaW5kc107XG4gICAgaWYgKHBsYWNlaG9sZGVyT3ZlcnJpZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlbWVudFtjYWNoZVN5bWJvbF0gPSByZXN1bHQ7XG4gIH1cbiAgZ2V0IHdpdGhvdXRUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIG5ldyBDb21waWxlckltcGwodGhpcy5kaWFsZWN0LCB0aGlzLnBhcmFtZXRlclBsYWNlaG9sZGVyLCB0aGlzLm9uSWRlbnRpZmllciwgdGhpcy5vblJlY29yZFVwZGF0ZSwgdGhpcy5vbkN1c3RvbSwgdGhpcy5vbkluc2VydCwgdGhpcy5vblJlY29yZFVwZGF0ZVNpbmdsZSwgdHJ1ZSk7XG4gIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBtYWtlQ29tcGlsZXIgPSBvcHRpb25zID0+IG5ldyBDb21waWxlckltcGwob3B0aW9ucy5kaWFsZWN0LCBvcHRpb25zLnBsYWNlaG9sZGVyLCBvcHRpb25zLm9uSWRlbnRpZmllciwgb3B0aW9ucy5vblJlY29yZFVwZGF0ZSwgb3B0aW9ucy5vbkN1c3RvbSwgb3B0aW9ucy5vbkluc2VydCwgb3B0aW9ucy5vblJlY29yZFVwZGF0ZVNpbmdsZSk7XG5jb25zdCBtYWtlUGxhY2Vob2xkZXJzQXJyYXkgPSBldmFsdWF0ZSA9PiB2YWx1ZXMgPT4ge1xuICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGxldCByZXN1bHQgPSBldmFsdWF0ZSh2YWx1ZXNbMF0pO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdCArPSBgLCR7ZXZhbHVhdGUodmFsdWVzW2ldKX1gO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuY29uc3QgZ2VuZXJhdGVDb2x1bW5zID0gKGtleXMsIGVzY2FwZSwgd2l0aG91dFRyYW5zZm9ybSkgPT4ge1xuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gXCIoKVwiO1xuICB9XG4gIGxldCBzdHIgPSBgKCR7ZXNjYXBlKGtleXNbMF0sIHdpdGhvdXRUcmFuc2Zvcm0pfWA7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHN0ciArPSBgLCR7ZXNjYXBlKGtleXNbaV0sIHdpdGhvdXRUcmFuc2Zvcm0pfWA7XG4gIH1cbiAgcmV0dXJuIHN0ciArIFwiKVwiO1xufTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0RXNjYXBlKGMpIHtcbiAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGMsIFwiZ1wiKTtcbiAgY29uc3QgZG91YmxlID0gYyArIGM7XG4gIGNvbnN0IGRvdCA9IGMgKyBcIi5cIiArIGM7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIGMgKyBzdHIucmVwbGFjZShyZSwgZG91YmxlKS5yZXBsYWNlKC9cXC4vZywgZG90KSArIGM7XG4gIH07XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcHJpbWl0aXZlS2luZCA9IHZhbHVlID0+IHtcbiAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgIHJldHVybiBcImJpZ2ludFwiO1xuICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgfVxuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gXCJudWxsXCI7XG4gIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIFwiRGF0ZVwiO1xuICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIHJldHVybiBcIlVpbnQ4QXJyYXlcIjtcbiAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEludDhBcnJheSkge1xuICAgIHJldHVybiBcIkludDhBcnJheVwiO1xuICB9XG4gIHJldHVybiBcInN0cmluZ1wiO1xufTtcbmNvbnN0IGV4dHJhY3RQcmltaXRpdmUgPSAodmFsdWUsIG9uQ3VzdG9tLCBwbGFjZWhvbGRlciwgd2l0aG91dFRyYW5zZm9ybSkgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKGlzRnJhZ21lbnQodmFsdWUpKSB7XG4gICAgY29uc3QgaGVhZCA9IHZhbHVlLnNlZ21lbnRzWzBdO1xuICAgIGlmIChoZWFkLl90YWcgPT09IFwiQ3VzdG9tXCIpIHtcbiAgICAgIGNvbnN0IGNvbXBpbGVkID0gb25DdXN0b20oaGVhZCwgcGxhY2Vob2xkZXIsIHdpdGhvdXRUcmFuc2Zvcm0pO1xuICAgICAgcmV0dXJuIGNvbXBpbGVkWzFdWzBdID8/IG51bGw7XG4gICAgfSBlbHNlIGlmIChoZWFkLl90YWcgPT09IFwiUGFyYW1ldGVyXCIpIHtcbiAgICAgIHJldHVybiBoZWFkLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuY29uc3QgZXNjYXBlU3FsaXRlID0gLyojX19QVVJFX18qL2RlZmF1bHRFc2NhcGUoXCJcXFwiXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1ha2VDb21waWxlclNxbGl0ZSA9IHRyYW5zZm9ybSA9PiBtYWtlQ29tcGlsZXIoe1xuICBkaWFsZWN0OiBcInNxbGl0ZVwiLFxuICBwbGFjZWhvbGRlcihfKSB7XG4gICAgcmV0dXJuIFwiP1wiO1xuICB9LFxuICBvbklkZW50aWZpZXI6IHRyYW5zZm9ybSA/IGZ1bmN0aW9uICh2YWx1ZSwgd2l0aG91dFRyYW5zZm9ybSkge1xuICAgIHJldHVybiB3aXRob3V0VHJhbnNmb3JtID8gZXNjYXBlU3FsaXRlKHZhbHVlKSA6IGVzY2FwZVNxbGl0ZSh0cmFuc2Zvcm0odmFsdWUpKTtcbiAgfSA6IGVzY2FwZVNxbGl0ZSxcbiAgb25SZWNvcmRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIFtcIlwiLCBbXV07XG4gIH0sXG4gIG9uQ3VzdG9tKCkge1xuICAgIHJldHVybiBbXCJcIiwgW11dO1xuICB9XG59KTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0VHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1lciwgbmVzdGVkID0gdHJ1ZSkgPT4ge1xuICBjb25zdCB0cmFuc2Zvcm1WYWx1ZSA9IHZhbHVlID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDAgfHwgdmFsdWVbMF0uY29uc3RydWN0b3IgIT09IE9iamVjdCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXkodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWU/LmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1PYmplY3QodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG4gIGNvbnN0IHRyYW5zZm9ybU9iamVjdCA9IG9iaiA9PiB7XG4gICAgY29uc3QgbmV3T2JqID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICBuZXdPYmpbdHJhbnNmb3JtZXIoa2V5KV0gPSB0cmFuc2Zvcm1WYWx1ZShvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmo7XG4gIH07XG4gIGNvbnN0IHRyYW5zZm9ybUFycmF5TmVzdGVkID0gcm93cyA9PiB7XG4gICAgY29uc3QgbmV3Um93cyA9IG5ldyBBcnJheShyb3dzLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHJvd3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IHJvdyA9IHJvd3NbaV07XG4gICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHJvdykge1xuICAgICAgICBvYmpbdHJhbnNmb3JtZXIoa2V5KV0gPSB0cmFuc2Zvcm1WYWx1ZShyb3dba2V5XSk7XG4gICAgICB9XG4gICAgICBuZXdSb3dzW2ldID0gb2JqO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Um93cztcbiAgfTtcbiAgY29uc3QgdHJhbnNmb3JtQXJyYXkgPSByb3dzID0+IHtcbiAgICBjb25zdCBuZXdSb3dzID0gbmV3IEFycmF5KHJvd3MubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcm93cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3Qgcm93ID0gcm93c1tpXTtcbiAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcm93KSB7XG4gICAgICAgIG9ialt0cmFuc2Zvcm1lcihrZXkpXSA9IHJvd1trZXldO1xuICAgICAgfVxuICAgICAgbmV3Um93c1tpXSA9IG9iajtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1Jvd3M7XG4gIH07XG4gIGNvbnN0IGFycmF5ID0gbmVzdGVkID8gdHJhbnNmb3JtQXJyYXlOZXN0ZWQgOiB0cmFuc2Zvcm1BcnJheTtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdHJhbnNmb3JtVmFsdWUsXG4gICAgb2JqZWN0OiB0cmFuc2Zvcm1PYmplY3QsXG4gICAgYXJyYXlcbiAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0ZW1lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/@effect/sql/dist/esm/internal/statement.js\n");

/***/ })

};
;